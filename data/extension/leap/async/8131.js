!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2d377a02-1ae3-4dc1-b5f3-8c2c9620fc5b",e._sentryDebugIdIdentifier="sentry-dbid-2d377a02-1ae3-4dc1-b5f3-8c2c9620fc5b")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.17.3"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["8131"],{27958:function(e,t,a){a.r(t),a.d(t,{default:()=>E});var s=a("52322"),l=a("21950"),i=a("39279"),n=a("12887"),c=a("69282"),o=a.n(c),r=a("3929"),d=a("19623"),u=a("23259"),h=a("53108"),f=a("29312"),m=a("71566"),x=a("38313"),g=a("98851"),w=a("114"),y=a("70734"),b=a("2784"),v=a("10289"),p=a("46103"),j=a("32374"),N=a("50292"),k=a("48534"),I=a("71198"),S=a("72565"),C=a.n(S),_=a("57124"),A=a("49409");function T(e){let{src:t,bodyText:a,alt:l="chain logo",network:i}=e,n=(0,_.a)();return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1 shrink-0 flex-1",children:[(0,s.jsx)("img",{src:t,onError:(0,A._)(n),alt:l,className:"w-[36px] h-[36px] rounded-full"}),(0,s.jsxs)("p",{className:"dark:text-white-100 text-gray-900 text-center",children:[a,"Movement"===a&&"testnet"===i?" Porto":"","testnet"===i?" Testnet":""]})]})}function E(){var e,t,a;let{theme:c}=(0,i.useTheme)(),S=(0,l.DI5)(),_=(0,l.rTu)(),{topChainColor:A}=(0,f.Cd)(),E=(0,m.N8)();o()(null!==_,"activeWallet is null");let D=(0,b.useMemo)(()=>(0,j.k)(_.name),[_.name]),[M,R]=(0,b.useState)(!1),[U,B]=(0,b.useState)(""),[L,G]=(0,b.useState)(),[O,W]=(0,b.useState)(""),[H,V]=(0,b.useState)("movement"),[z,K]=(0,b.useState)(),P=(0,v.s0)(),[Q,Y]=(0,b.useState)(""),Z=(0,m.a7)(),$=(0,b.useMemo)(()=>{if(U){let e=Object.values(S).find(e=>e.chainId===U||e.testnetChainId===U);if(e)return e.key}return Z},[U,Z,S]),q=(0,x.ob)(),F=(0,b.useMemo)(()=>L?L:q,[L,q]),J=(0,l.QSC)($),X=(0,b.useMemo)(()=>J?J:$===u.HW?{chainName:"All chains",chainSymbolImageUrl:c===i.ThemeName.DARK?g.r.Misc.AggregatedViewDarkSvg:g.r.Misc.AggregatedViewSvg}:{chainName:"Unknown chain",chainSymbolImageUrl:""},[J,$,c]);(0,b.useEffect)(()=>{C().storage.local.get([h.AI]).then(async function(e){let{chainId:t,existingChainId:a}=e[h.AI].payload;W(t),B(a),Y(Q)})},[]),(0,b.useEffect)(()=>{if(O){let e=Object.values(S).find(e=>e.chainId===O||e.testnetChainId===O);e&&(V(e.key),K(e.testnetChainId===O?"testnet":"mainnet"))}},[S,O]),(0,b.useEffect)(()=>{if(U){let e=Object.values(S).find(e=>e.chainId===U||e.testnetChainId===U);e&&G(e.testnetChainId===U?"testnet":"mainnet")}},[S,U]);let ee=async()=>{await C().storage.local.set({[h.u1]:{success:!1,error:"Rejected by the user."}}),setTimeout(async()=>{await C().storage.local.remove([h.AI]),await C().storage.local.remove(h.u1),(0,k.oj)()?P("/home"):window.close()},10)},et=async()=>{if(!!H)R(!0),await (0,y.E)([O],[_.id],Q),await C().storage.local.set({[h.hs]:H}),E(H,void 0,z),await C().storage.local.set({[h.u1]:{success:!0,chainId:O}}),setTimeout(async()=>{await C().storage.local.remove([h.AI]),await C().storage.local.remove(h.u1),R(!1),(0,k.oj)()?P("/home"):window.close()},50)};return(0,s.jsx)("div",{className:"w-[400px] h-full relative self-center justify-self-center flex justify-center items-center mt-2",children:(0,s.jsx)("div",{className:"panel-height relative w-full overflow-clip rounded-md border border-gray-300 dark:border-gray-900",children:(0,s.jsxs)(r.Z,{header:(0,s.jsx)("div",{className:"w-[396px]",children:(0,s.jsx)(i.Header,{imgSrc:(null==X?void 0:X.chainSymbolImageUrl)??w.GenericLight,title:(0,s.jsx)(i.Buttons.Wallet,{brandLogo:(0,N.l)()?(0,s.jsx)("img",{className:"w-[24px] h-[24px] mr-1",src:g.r.Logos.CompassCircle}):void 0,title:(0,I.fy)(D,10),className:"pr-4 cursor-default"})})}),children:[(0,s.jsxs)("div",{className:"px-7 py-3 overflow-y-auto relative h-[450px]",children:[(0,s.jsx)("h2",{className:"text-center text-lg font-bold dark:text-white-100 text-gray-900 w-full",children:"Allow this site to switch the chain?"}),(0,s.jsxs)("p",{className:"text-center text-sm dark:text-gray-300 text-gray-500 w-full",children:["This will switch the selected chain within ",(0,N.l)()?"Compass":"Leap"," to a previously added chain:"]}),(0,s.jsxs)("div",{className:"flex w-full p-8 items-start justify-between",children:[(0,s.jsx)(T,{src:(null==X?void 0:X.chainSymbolImageUrl)??"",bodyText:(null==X?void 0:X.chainName)??"",alt:(null==X?void 0:X.chainName)+" logo",network:F}),(0,s.jsx)("div",{className:"flex items-center justify-center shrink-- w-[36px] h-[36px]",children:(0,s.jsx)("div",{className:"bg-gray-100 dark:bg-gray-850 flex justify-center items-center w-[24px] h-[24px] rounded-full",children:(0,s.jsx)(n.o,{size:16,className:"dark:text-white-100 text-black-100"})})}),(0,s.jsx)(T,{src:(null===(e=S[H])||void 0===e?void 0:e.chainSymbolImageUrl)??"",bodyText:(null===(t=S[H])||void 0===t?void 0:t.chainName)??"",alt:(null===(a=S[H])||void 0===a?void 0:a.chainName)+" logo",network:z})]})]}),(0,s.jsx)("div",{className:"absolute bottom-[36px] left-0 py-3 px-7 dark:bg-black-100 bg-gray-50 w-full",children:(0,s.jsxs)("div",{className:"flex items-center justify-center w-full space-x-3",children:[(0,s.jsx)(i.Buttons.Generic,{title:"Reject Button",color:p.w.gray900,onClick:ee,disabled:M,children:"Reject"}),(0,s.jsx)(i.Buttons.Generic,{title:"Approve Button",color:A,onClick:et,disabled:M,className:`${M?"cursor-not-allowed opacity-50":""}`,children:M?(0,s.jsx)(d.T,{color:"white"}):"Switch chain"})]})})]})})})}}}]);