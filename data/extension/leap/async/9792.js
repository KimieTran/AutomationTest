!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c22e143b-8a90-4102-97f6-9c097d1dcc7c",e._sentryDebugIdIdentifier="sentry-dbid-c22e143b-8a90-4102-97f6-9c097d1dcc7c")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.17.3"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["9792"],{85406:function(e,t,a){a.d(t,{a:function(){return p},u:function(){return m}});var l=a(21950),n=a(2826),r=a(88054),s=a(2784),i=a(22014),o=a(72565),c=a.n(o),d=a(53108),u=a(58551);async function m(e,t,a,l){let r=n.tgY.create(e,n.oCA.secret.chainId,l);return!!(await r.getBalance(l,a,t)).balance}function p(){let e=(0,u.E)(),t=(0,l.VMC)(),a=l.rNU.useOperateCosmosTx(),{setViewingKeys:o}=(0,l.WdY)();return(0,s.useCallback)(async(s,u,p,x,g,h)=>{if(!i.M8.password)throw Error("Password not set");let f=await e(),v=n.KQf.create(s??"",u,f),y=null==h?void 0:h.key;if(g){if(!await m(s??"",y??"",x,p))return{validKey:!1,error:"Invalid viewing key",key:y}}else try{var b,w,j,H,C;let{txStatus:e,viewingKey:n}=await v.createViewingKey(p,x,t,{key:y,gasLimit:null==h?void 0:h.gasLimit,feeDenom:null==h?void 0:h.feeDenom});if(0!==e.code)return{validKey:!1,error:e.rawLog};a({txHash:e.transactionHash,txType:l.pb0.SecretTokenTransaction,metadata:{contract:x},feeDenomination:"uscrt",feeQuantity:(null===(C=e.tx)||void 0===C?void 0:null===(H=C.auth_info)||void 0===H?void 0:null===(j=H.fee)||void 0===j?void 0:null===(w=j.amount)||void 0===w?void 0:null===(b=w[0])||void 0===b?void 0:b.amount)??"0.01",chainId:u}),y=n}catch(e){return{validKey:!1,error:"Unable to create viewing key"}}let Z=(0,r.HI)(y,i.M8.password),E=(await c().storage.local.get([d.rg]))[d.rg];if(E){let e=e=>({...E,[p]:{...E[p],[x]:e?Z:y}});await c().storage.local.set({[d.rg]:e(!0)}),o(e(!1))}else{let e=e=>({[p]:{[x]:e?Z:y}});await c().storage.local.set({[d.rg]:e(!0)}),o(e(!1))}return{validKey:!0,error:null,key:y}},[e,t,a,o])}},58551:function(e,t,a){a.d(t,{E:function(){return o}});var l=a(21950),n=a(88054),r=a(2784),s=a(44318),i=a(22014);function o(){let e=(0,l.rTu)();return(0,r.useCallback)(async()=>{if(!i.M8.password)throw Error("Password not set");let t=(0,n.pe)(null==e?void 0:e.cipher,i.M8.password);return new s.Wallet(t,{hdAccountIndex:null==e?void 0:e.addressIndex})},[e])}},50535:function(e,t,a){a.r(t),a.d(t,{default:()=>ef});var l=a("52322"),n=a("21950"),r=a("39279"),s=a("29049"),i=a("94184"),o=a.n(i),c=a("27963"),d=a("3929"),u=a("42941"),m=a("57124"),p=a("98851"),x=a("2784"),g=a("10289"),h=a("71198"),f=a("11868"),v=a("89187"),y=a("6806");let b=new Map([["bold",x.createElement(x.Fragment,null,x.createElement("path",{d:"M230.14,70.54,185.46,25.85a20,20,0,0,0-28.29,0L33.86,149.17A19.85,19.85,0,0,0,28,163.31V208a20,20,0,0,0,20,20H92.69a19.86,19.86,0,0,0,14.14-5.86L230.14,98.82a20,20,0,0,0,0-28.28ZM91,204H52V165l84-84,39,39ZM192,103,153,64l18.34-18.34,39,39Z"}))],["duotone",x.createElement(x.Fragment,null,x.createElement("path",{d:"M221.66,90.34,192,120,136,64l29.66-29.66a8,8,0,0,1,11.31,0L221.66,79A8,8,0,0,1,221.66,90.34Z",opacity:"0.2"}),x.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["fill",x.createElement(x.Fragment,null,x.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["light",x.createElement(x.Fragment,null,x.createElement("path",{d:"M225.9,74.78,181.21,30.09a14,14,0,0,0-19.8,0L38.1,153.41a13.94,13.94,0,0,0-4.1,9.9V208a14,14,0,0,0,14,14H92.69a13.94,13.94,0,0,0,9.9-4.1L225.9,94.58a14,14,0,0,0,0-19.8ZM94.1,209.41a2,2,0,0,1-1.41.59H48a2,2,0,0,1-2-2V163.31a2,2,0,0,1,.59-1.41L136,72.48,183.51,120ZM217.41,86.1,192,111.51,144.49,64,169.9,38.58a2,2,0,0,1,2.83,0l44.68,44.69a2,2,0,0,1,0,2.83Z"}))],["regular",x.createElement(x.Fragment,null,x.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["thin",x.createElement(x.Fragment,null,x.createElement("path",{d:"M224.49,76.2,179.8,31.51a12,12,0,0,0-17,0L133.17,61.17h0L39.52,154.83A11.9,11.9,0,0,0,36,163.31V208a12,12,0,0,0,12,12H92.69a12,12,0,0,0,8.48-3.51L224.48,93.17a12,12,0,0,0,0-17Zm-129,134.63A4,4,0,0,1,92.69,212H48a4,4,0,0,1-4-4V163.31a4,4,0,0,1,1.17-2.83L136,69.65,186.34,120ZM218.83,87.51,192,114.34,141.66,64l26.82-26.83a4,4,0,0,1,5.66,0l44.69,44.68a4,4,0,0,1,0,5.66Z"}))]]);var w=Object.defineProperty,j=Object.defineProperties,H=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,k=(e,t,a)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,A=(e,t)=>{for(var a in t||(t={}))Z.call(t,a)&&k(e,a,t[a]);if(C)for(var a of C(t))E.call(t,a)&&k(e,a,t[a]);return e},N=(e,t)=>j(e,H(t));let M=(0,x.forwardRef)((e,t)=>x.createElement(y.Z,N(A({ref:t},e),{weights:b})));M.displayName="PencilSimple";let V=new Map([["bold",x.createElement(x.Fragment,null,x.createElement("path",{d:"M172,164a12,12,0,0,1-12,12H96a12,12,0,0,1,0-24h64A12,12,0,0,1,172,164Zm-12-52H96a12,12,0,0,0,0,24h64a12,12,0,0,0,0-24Zm60-64V216a20,20,0,0,1-20,20H56a20,20,0,0,1-20-20V48A20,20,0,0,1,56,28H90.53a51.88,51.88,0,0,1,74.94,0H200A20,20,0,0,1,220,48ZM100.29,60h55.42a28,28,0,0,0-55.42,0ZM196,52H178.59A52.13,52.13,0,0,1,180,64v8a12,12,0,0,1-12,12H88A12,12,0,0,1,76,72V64a52.13,52.13,0,0,1,1.41-12H60V212H196Z"}))],["duotone",x.createElement(x.Fragment,null,x.createElement("path",{d:"M208,48V216a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8H96a39.83,39.83,0,0,0-8,24v8h80V64a39.83,39.83,0,0,0-8-24h40A8,8,0,0,1,208,48Z",opacity:"0.2"}),x.createElement("path",{d:"M168,152a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,152Zm-8-40H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Zm56-64V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V48A16,16,0,0,1,56,32H92.26a47.92,47.92,0,0,1,71.48,0H200A16,16,0,0,1,216,48ZM96,64h64a32,32,0,0,0-64,0ZM200,48H173.25A47.93,47.93,0,0,1,176,64v8a8,8,0,0,1-8,8H88a8,8,0,0,1-8-8V64a47.93,47.93,0,0,1,2.75-16H56V216H200Z"}))],["fill",x.createElement(x.Fragment,null,x.createElement("path",{d:"M200,32H163.74a47.92,47.92,0,0,0-71.48,0H56A16,16,0,0,0,40,48V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V48A16,16,0,0,0,200,32Zm-72,0a32,32,0,0,1,32,32H96A32,32,0,0,1,128,32Zm32,128H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Zm0-32H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Z"}))],["light",x.createElement(x.Fragment,null,x.createElement("path",{d:"M166,152a6,6,0,0,1-6,6H96a6,6,0,0,1,0-12h64A6,6,0,0,1,166,152Zm-6-38H96a6,6,0,0,0,0,12h64a6,6,0,0,0,0-12Zm54-66V216a14,14,0,0,1-14,14H56a14,14,0,0,1-14-14V48A14,14,0,0,1,56,34H93.17a45.91,45.91,0,0,1,69.66,0H200A14,14,0,0,1,214,48ZM94,64v2h68V64a34,34,0,0,0-68,0ZM202,48a2,2,0,0,0-2-2H170.33A45.77,45.77,0,0,1,174,64v8a6,6,0,0,1-6,6H88a6,6,0,0,1-6-6V64a45.77,45.77,0,0,1,3.67-18H56a2,2,0,0,0-2,2V216a2,2,0,0,0,2,2H200a2,2,0,0,0,2-2Z"}))],["regular",x.createElement(x.Fragment,null,x.createElement("path",{d:"M168,152a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,152Zm-8-40H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Zm56-64V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V48A16,16,0,0,1,56,32H92.26a47.92,47.92,0,0,1,71.48,0H200A16,16,0,0,1,216,48ZM96,64h64a32,32,0,0,0-64,0ZM200,48H173.25A47.93,47.93,0,0,1,176,64v8a8,8,0,0,1-8,8H88a8,8,0,0,1-8-8V64a47.93,47.93,0,0,1,2.75-16H56V216H200Z"}))],["thin",x.createElement(x.Fragment,null,x.createElement("path",{d:"M164,152a4,4,0,0,1-4,4H96a4,4,0,0,1,0-8h64A4,4,0,0,1,164,152Zm-4-36H96a4,4,0,0,0,0,8h64a4,4,0,0,0,0-8Zm52-68V216a12,12,0,0,1-12,12H56a12,12,0,0,1-12-12V48A12,12,0,0,1,56,36H94.08a44,44,0,0,1,67.84,0H200A12,12,0,0,1,212,48ZM92,64v4h72V64a36,36,0,0,0-72,0ZM204,48a4,4,0,0,0-4-4H167.17A43.71,43.71,0,0,1,172,64v8a4,4,0,0,1-4,4H88a4,4,0,0,1-4-4V64a43.71,43.71,0,0,1,4.83-20H56a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H200a4,4,0,0,0,4-4Z"}))]]);var S=Object.defineProperty,P=Object.defineProperties,L=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,F=(e,t,a)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,I=(e,t)=>{for(var a in t||(t={}))D.call(t,a)&&F(e,a,t[a]);if(O)for(var a of O(t))T.call(t,a)&&F(e,a,t[a]);return e},K=(e,t)=>P(e,L(t));let z=(0,x.forwardRef)((e,t)=>x.createElement(y.Z,K(I({ref:t},e),{weights:V})));z.displayName="ClipboardText";var _=a("14281"),U=a("69816");function G(e){let{isVisible:t,onClose:a,token:n,onCreateViewingKey:s,onUpdateViewingKey:i,onImportViewingKey:o}=e,c=(0,m.a)();return(0,l.jsx)(_.Z,{isOpen:t,onClose:a,title:"Add Token",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mb-4 px-5",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("img",{src:(null==n?void 0:n.icon)===""?c:null==n?void 0:n.icon,className:"h-[32px] w-[32px] mr-3"}),(0,l.jsx)(U.Z,{size:"xxl",children:null==n?void 0:n.symbol})]}),(0,l.jsx)(U.Z,{size:"md",className:"font-bold text-gray-200",children:null==n?void 0:n.name})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(r.GenericCard,{onClick:()=>s(),className:"rounded-t-2xl",title:(null==n?void 0:n.snip24Enabled)?"Create query permit":"Create new key",img:(0,l.jsx)(f.F,{size:16,className:"text-gray-400 mr-3"}),icon:(0,l.jsx)(v.T,{size:16,className:"text-gray-400"})}),(0,l.jsx)(r.CardDivider,{}),(0,l.jsx)(r.GenericCard,{onClick:()=>i(),title:"Update key",img:(0,l.jsx)(M,{size:16,className:"text-gray-400 mr-3"}),icon:(0,l.jsx)(v.T,{size:16,className:"text-gray-400"})}),(0,l.jsx)(r.CardDivider,{}),(0,l.jsx)(r.GenericCard,{onClick:()=>{o()},className:"rounded-b-2xl",title:(0,l.jsx)(U.Z,{size:"md",children:"Import key"}),img:(0,l.jsx)(z,{size:16,className:"text-gray-400 mr-3"}),icon:(0,l.jsx)(v.T,{size:16,className:"text-gray-400"})})]})]})})}var B=a("36906"),R=a("46103");function J(e){let t=(0,n.a74)();return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-center bg-white-100 dark:bg-gray-900 p-3 rounded-2xl mb-4",children:[(0,l.jsx)(B.k,{size:16,className:"text-indigo-300 mr-3"}),(0,l.jsx)(U.Z,{size:"md",className:"font-bold text-center",children:"Note down the viewing key"})]}),(0,l.jsx)("div",{className:"flex items-center bg-white-100 dark:bg-gray-900 p-4 rounded-2xl justify-center",children:(0,l.jsx)(U.Z,{size:"md",className:"text-center font-bold",children:(0,n.MDB)(e.generatedViewingKey??"")})}),(0,l.jsx)(r.Buttons.CopyToClipboard,{color:R.w.getChainColor(t),onCopy:e.onCopy})]})}var Q=a("86200"),Y=a("19623"),q=a("89033"),W=a("88054"),$=a("58551"),X=a("22014"),ee=a("72565"),et=a.n(ee),ea=a("53108"),el=a("85406"),en=a("42799"),er=a("48346"),es=a("53221"),ei=a("44818");let eo=(0,x.createContext)(null);function ec(e){let{children:t}=e,a=(0,$.E)(),r=(0,n.faj)({getWallet:a}),s=(0,x.useMemo)(()=>({...r}),[r]);return(0,l.jsx)(eo.Provider,{value:s,children:t})}function ed(){let e=(0,x.useContext)(eo);return(0,ei.h)(null!==e,"useSnip20ManageTokens must be used within SendContextProvider"),e}function eu(e){let{isVisible:t,onClose:a,token:s,onSuccess:i}=e,o=(0,m.a)(),[c,d]=(0,x.useState)(null),[u,p]=(0,x.useState)(!1),g=(0,el.a)(),h=function(){let e=(0,$.E)(),{setQueryPermits:t}=(0,n.WdY)(),{lcdUrl:a=""}=(0,n.U9i)(),l=(0,n.xxU)();return(0,x.useCallback)(async(n,r)=>{if(!X.M8.password)throw Error("Password not set");let s=await e(),i=q.KQ.create(a,l,s),o=(await et().storage.local.get([ea.J$]))[ea.J$],c=null==o?void 0:o[n],d=c?(0,W.pe)(c,X.M8.password):null,u=[...(d?JSON.parse(d):{contracts:[]}).contracts];!u.includes(r)&&u.push(r);let m=await i.createQueryPermit(n,"permit",u,["balance","history"]),p=e=>{if(!X.M8.password)throw Error("Password not set");return{[n]:e?(0,W.HI)(JSON.stringify({contracts:u,permit:m}),X.M8.password):{contracts:u,permit:m}}};return t(p(!1)),await et().storage.local.set({[ea.J$]:p(!0)}),m},[l,e,a,t])}(),[f,v]=(0,x.useState)(null),y=(0,n.SFn)(),{lcdUrl:b}=(0,n.U9i)("secret"),w=(0,n.xxU)(),j=(0,n.DI5)(),{setContractAddress:H,userPreferredGasLimit:C,userPreferredGasPrice:Z}=ed();(0,x.useEffect)(()=>{(null==s?void 0:s.contractAddr)&&H(s.contractAddr)},[null==s?void 0:s.contractAddr]);let E=(0,x.useCallback)(()=>{d(null),p(!1),a()},[a]),k=(0,x.useCallback)(async()=>{if(p(!0),null==s?void 0:s.snip24Enabled)h(y,s.contractAddr),E(),i();else if(c)E(),i();else{let{error:e,key:t}=await g(b??j.secret.apis.rest??"",w??"secret-4",y,null==s?void 0:s.contractAddr,!1,{gasLimit:C,feeDenom:null==Z?void 0:Z.denom,gasPriceStep:Number((null==Z?void 0:Z.amount)??0)});e?(v(e),p(!1)):(p(!1),d(t))}},[y,w,j.secret.apis.rest,E,h,g,c,b,i,null==s?void 0:s.contractAddr,null==s?void 0:s.snip24Enabled,C,null==Z?void 0:Z.amount,null==Z?void 0:Z.denom]);return(0,l.jsx)(_.Z,{isOpen:t,onClose:E,title:(null==s?void 0:s.snip24Enabled)?"Create query permit":"Create Viewing Key",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"py-5 rounded-2xl bg-white-100 dark:bg-gray-900 mb-4",children:[(0,l.jsx)(U.Z,{size:"xs",className:"font-bold px-5",color:"text-gray-200",children:(null==s?void 0:s.snip24Enabled)?"Create query permit":"Create Viewing Key"}),(0,l.jsx)(r.GenericCard,{className:"w-[300px] px-0",title:null==s?void 0:s.symbol,subtitle:null==s?void 0:s.name,img:(0,l.jsx)("img",{src:(null==s?void 0:s.icon)===""?o:null==s?void 0:s.icon,className:"w-[40px] h-[40px] mr-3"})})]}),c||(null==s?void 0:s.snip24Enabled)?null:(0,l.jsx)(eg,{rootDenomsStore:en.gb,rootBalanceStore:er.jZ}),c?(0,l.jsx)(J,{generatedViewingKey:c,onCopy:async()=>{await es.i.copyText(c)}}):null,f?(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(Q._,{text:f})}):null,u?(0,l.jsx)("div",{className:"flex justify-center w-[344px]",children:(0,l.jsx)(Y.T,{color:R.w.white100})}):(0,l.jsx)(r.Buttons.Generic,{size:"normal",color:"#E18881",className:"w-[344px]",onClick:k,children:c?"Done":"Confirm"})]})})}var em=a("23060"),ep=a("51994"),ex=a("80588");let eg=(0,a("75958").Pi)(e=>{let{rootDenomsStore:t,rootBalanceStore:a}=e,{gasOption:n,userPreferredGasLimit:r,userPreferredGasPrice:s,setGasOption:i,setUserPreferredGasPrice:o,setUserPreferredGasLimit:c,setGasError:d,recommendedGasLimit:u,gasError:m}=ed(),p=t.allDenoms,g=(0,em.e7)(p),[h,f]=(0,x.useState)(!1),[v,y]=(0,x.useState)({option:n,gasPrice:s??g.gasPrice}),b=(0,x.useCallback)(()=>{f(!1)},[]),w=(0,x.useCallback)(e=>{y(e)},[]);return(0,x.useEffect)(()=>{y({option:n,gasPrice:g.gasPrice})},[g.gasPrice]),(0,x.useEffect)(()=>{i(v.option),o(v.gasPrice)},[v,i,o]),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)(em.ZP,{recommendedGasLimit:u.toString(),gasLimit:(null==r?void 0:r.toString())??u.toString(),setGasLimit:e=>c(Number(e.toString())),gasPriceOption:v,onGasPriceOptionChange:w,error:m,setError:d,rootBalanceStore:a,rootDenomsStore:t,children:[(0,l.jsx)(ep.a,{setShowFeesSettingSheet:f}),m&&!h?(0,l.jsx)("p",{className:"text-red-300 text-sm font-medium mt-2 text-center",children:m}):null,(0,l.jsx)(ex.k,{showFeesSettingSheet:h,onClose:b,gasError:m})]})})});function eh(e){let{isVisible:t,onClose:a,type:s,token:i,onSuccess:o}=e,c=(0,m.a)(),[d,u]=(0,x.useState)(!1),[p,g]=(0,x.useState)(""),[h,f]=(0,x.useState)(null),v=(0,el.a)(),[y,b]=(0,x.useState)(!1),w=(0,n.SFn)(),{lcdUrl:j}=(0,n.U9i)("secret"),H=(0,n.xxU)(),C=(0,x.useRef)(null),{setContractAddress:Z,userPreferredGasLimit:E,userPreferredGasPrice:k}=ed();(0,x.useEffect)(()=>{(null==i?void 0:i.contractAddr)&&Z(i.contractAddr)},[null==i?void 0:i.contractAddr]),(0,x.useEffect)(()=>{(null==C?void 0:C.current)&&C.current.focus()},[C]);let A=(0,x.useCallback)(()=>{u(!1),f(null),g(""),b(!1),a()},[a]),N=(0,x.useCallback)(async()=>{if(y)o(),A();else{u(!0);let e=await v(j??"",H??"",w,null==i?void 0:i.contractAddr,"import"===s,{key:p,gasLimit:E,feeDenom:null==k?void 0:k.denom,gasPriceStep:Number((null==k?void 0:k.amount)??0)});e.error?f(e.error):b(!0),u(!1)}},[w,H,A,v,p,j,o,y,null==i?void 0:i.contractAddr,s,E,null==k?void 0:k.amount,null==k?void 0:k.denom]);return(0,l.jsx)(_.Z,{isOpen:t,onClose:A,title:"import"===s?"Import viewing key":"Update viewing key",children:(0,l.jsxs)("div",{children:[(0,l.jsx)(r.GenericCard,{className:"rounded-2xl mb-4 p-4",title:null==i?void 0:i.symbol,subtitle:null==i?void 0:i.name,img:(0,l.jsx)("img",{src:(null==i?void 0:i.icon)===""?c:null==i?void 0:i.icon,className:"w-[40px] h-[40px] mr-4"})}),(0,l.jsx)(r.Input,{onChange:e=>{g(e.target.value),f(null)},placeholder:"enter key",className:"mb-4 w-[344px]",ref:C}),"import"===s||y?null:(0,l.jsx)(eg,{rootDenomsStore:en.gb,rootBalanceStore:er.jZ}),h?(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(Q._,{text:h,className:"mb-4"})}):null,y?(0,l.jsx)(J,{generatedViewingKey:p,onCopy:async()=>{es.i.copyText(p)}}):null,d?(0,l.jsx)("div",{className:"flex justify-center w-[344px]",children:(0,l.jsx)(Y.T,{color:R.w.white100})}):(0,l.jsx)(r.Buttons.Generic,{size:"normal",color:"#E18881",disabled:!p||!!h,className:"w-[344px]",onClick:N,children:y?"Done":"Confirm"})]})})}function ef(){let e=(0,m.a)(),t=(0,g.s0)(),[a,i]=(0,x.useState)(""),[f,v]=(0,x.useState)(!1),[y,b]=(0,x.useState)(null),[w,j]=(0,x.useState)(!1),[H,C]=(0,x.useState)(!1),[Z,E]=(0,x.useState)(!1),k=(0,u.Z)().get("contractAddress")??void 0,{secretTokens:A}=(0,n.X0D)(),N=e=>{b(e),v(!0)};(0,x.useEffect)(()=>{k&&A[k]&&(N({...A[k],contractAddr:k}),v(!0))},[k,A]);let M=(0,x.useMemo)(()=>Object.entries(A).filter(e=>{let[t,l]=e,n=a.toUpperCase();return t.toUpperCase().includes(n)||l.name.toUpperCase().includes(n)||l.symbol.toUpperCase().includes(n)}).map(e=>{let[t,a]=e;return{...a,contractAddr:t}}),[a]),V=(0,x.useCallback)(()=>{j(!1),C(!1),E(!1),v(!1),b(null)},[]),S=(0,x.useCallback)(()=>{E(!1),C(!1)},[]),P=(0,x.useCallback)(()=>V(),[V]),L=(0,x.useCallback)(()=>j(!1),[]);return(0,l.jsx)(ec,{children:(0,l.jsxs)("div",{className:"relative w-full overflow-clip panel-height",children:[(0,l.jsx)(d.Z,{header:(0,l.jsx)(r.Header,{action:{onClick:()=>t(-1),type:r.HeaderActionType.BACK},title:"Manage Tokens"}),children:(0,l.jsxs)("div",{className:"w-full flex flex-col pt-6 pb-2 px-7 sticky top-[72px] bg-gray-50 dark:bg-black-100",children:[(0,l.jsxs)("div",{className:"w-[344px] flex h-10 bg-white-100 dark:bg-gray-900 rounded-[30px]  mb-4 py-2 pl-5 pr-[10px]",children:[(0,l.jsx)("input",{placeholder:"search tokens",className:"flex flex-grow text-base text-gray-600 dark:text-gray-200  outline-none bg-white-0",onChange:e=>{i(e.target.value)}}),(0,l.jsx)("img",{src:p.r.Misc.Search})]}),(0,l.jsxs)("div",{className:"overflow-y-auto pb-20",children:[0===M.length?(0,l.jsx)(c.S,{isRounded:!0,subHeading:a?"Please try again with something else":"",heading:a?"No results for “"+(0,h.jr)(a)+"”":"No Tokens",src:p.r.Misc.Explore}):null,(0,l.jsx)("div",{className:"rounded-2xl flex flex-col items-center mx-7 m-auto justify-center dark:bg-gray-900 bg-white-100",children:M.map((t,a,n)=>{let i=a===n.length-1;return(0,l.jsxs)(x.Fragment,{children:[(0,l.jsx)(r.GenericCard,{onClick:()=>N(t),className:o()({"rounded-t-2xl":0===a,"rounded-b-2xl":i}),title:t.symbol,subtitle:t.name,icon:(0,l.jsx)(s.v,{size:16,className:"text-gray-400"}),img:(0,l.jsx)("img",{src:""===t.icon?e:t.icon,className:"w-[28px] h-[28px] mr-2"})}),i?null:(0,l.jsx)(r.CardDivider,{})]},t.contractAddr)})})]})]})}),(0,l.jsx)(G,{isVisible:f,onClose:()=>v(!1),onCreateViewingKey:()=>j(!0),onUpdateViewingKey:()=>C(!0),onImportViewingKey:()=>E(!0),token:y??void 0}),(0,l.jsx)(eu,{isVisible:w,onClose:L,token:y??void 0,onSuccess:P}),(0,l.jsx)(eh,{isVisible:Z||H,onClose:S,type:Z?"import":"update",token:y??void 0,onSuccess:P})]})})}}}]);