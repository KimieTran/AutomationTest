!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="19f2bf9a-9fcb-4be2-99dc-f48ff1d680e0",e._sentryDebugIdIdentifier="sentry-dbid-19f2bf9a-9fcb-4be2-99dc-f48ff1d680e0")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.17.3"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["3605"],{10853:function(e,t,a){a.d(t,{K:function(){return g}});var n=a(52322),s=a(21950),l=a(2826),o=a(39279),i=a(12887),r=a(14281),c=a(75958),d=a(2784),u=a(10289),m=a(46103),h=a(50292);let x=e=>{let{isOpen:t,tokenAmount:a,feeAmount:c,setAmount:u,nativeDenom:x,onAdjust:p,onCancel:g,onBack:f,decimalsToUse:b}=e,{theme:k}=(0,o.useTheme)(),v=(0,d.useMemo)(()=>(0,s.ww6)({tokenAmount:a,feeAmount:c,nativeDenom:x,decimalsToUse:b}),[c,x,b,a]),w=(0,d.useCallback)(()=>{v?(u(v),p()):g()},[p,g,u,v]),C=(0,d.useMemo)(()=>{let e=(0,l.TGo)(a,b??6);return(0,s.LHZ)(e,(null==x?void 0:x.coinDenom)??"",Math.min(b??6,6))},[b,null==x?void 0:x.coinDenom,a]),S=(0,d.useMemo)(()=>v?(0,s.LHZ)(v,(null==x?void 0:x.coinDenom)??"",Math.min(b??6,6)):null,[b,null==x?void 0:x.coinDenom,v]);return(0,n.jsxs)(r.Z,{isOpen:t,title:"Adjust for Transaction Fees",closeOnBackdropClick:!0,onClose:g,onActionButtonClick:f,containerClassName:"!max-panel-height",contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"p-6",children:[(0,n.jsxs)("p",{className:"text-gray-200 font-medium mb-6",children:["Confirming this transaction may leave you with insufficient ",(null==x?void 0:x.coinDenom)??""," ","balance for future transaction fees."]}),(0,n.jsxs)("div",{className:"rounded-2xl p-4 dark:bg-gray-900 bg-gray-50 mb-6",children:[(0,n.jsx)("p",{className:"text-sm text-white-100 font-bold mb-4",children:"Should we auto-adjust the amount?"}),(0,n.jsxs)("div",{className:"flex items-center rounded-xl p-4 dark:bg-gray-850 bg-gray-100 gap-4",children:[(0,n.jsx)("div",{className:"flex-1 text-right text-sm text-white-100 font-bold",children:C}),(0,n.jsx)(i.o,{size:24,className:"text-gray-400"}),(0,n.jsx)("div",{className:"flex-1 text-sm text-green-500 font-bold",children:S})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-6 mt-auto",children:[(0,n.jsx)(o.Buttons.Generic,{color:k===o.ThemeName.DARK?m.w.gray900:m.w.gray300,size:"normal",className:"w-full",title:"Don't adjust",onClick:g,children:"Cancel"}),(0,n.jsx)(o.Buttons.Generic,{color:(0,h.l)()?m.w.compassPrimary:m.w.green600,size:"normal",className:"w-full",title:"Proceed",onClick:w,children:"Proceed"})]})]})},p=e=>{let{isOpen:t,tokenAmount:a,tokenBalance:c,feeAmount:u,setAmount:x,nativeDenom:p,onAdjust:g,onCancel:f,decimalsToUse:b}=e,{theme:k}=(0,o.useTheme)(),v=(0,d.useMemo)(()=>(0,s.ww6)({tokenAmount:c,feeAmount:u,nativeDenom:p,decimalsToUse:b}),[c,u,p,b]),w=(0,d.useCallback)(()=>{v?(x(v),g()):f()},[g,f,x,v]),C=(0,d.useMemo)(()=>{let e=(0,l.TGo)(a,b??6);return(0,s.LHZ)(e,(null==p?void 0:p.coinDenom)??"",Math.min(b??6,6))},[b,null==p?void 0:p.coinDenom,a]),S=(0,d.useMemo)(()=>v?(0,s.LHZ)(v,(null==p?void 0:p.coinDenom)??"",Math.min(b??6,6)):null,[b,null==p?void 0:p.coinDenom,v]);return(0,n.jsxs)(r.Z,{isOpen:t,onClose:f,closeOnBackdropClick:!1,title:"Adjust for Transaction Fees",containerClassName:"!bg-white-100 dark:!bg-gray-950 !max-panel-height",contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"p-6",children:[(0,n.jsxs)("p",{className:"text-gray-200 font-medium mb-6",children:["You seem to have insufficient ",(null==p?void 0:p.coinDenom)??""," balance to pay transaction fees."]}),(0,n.jsxs)("div",{className:"rounded-2xl p-4 dark:bg-gray-900 bg-gray-50 mb-6",children:[(0,n.jsx)("p",{className:"text-sm text-white-100 font-bold mb-4",children:"Should we auto-adjust the amount?"}),(0,n.jsxs)("div",{className:"flex items-center rounded-xl p-4 dark:bg-gray-850 bg-gray-100 gap-4",children:[(0,n.jsx)("div",{className:"flex-1 text-right text-sm text-white-100 font-bold",children:C}),(0,n.jsx)(i.o,{size:24,className:"text-gray-400"}),(0,n.jsx)("div",{className:"flex-1 text-sm text-green-500 font-bold",children:S})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-6 mt-auto",children:[(0,n.jsx)(o.Buttons.Generic,{color:k===o.ThemeName.DARK?m.w.gray900:m.w.gray300,size:"normal",className:"w-full",title:"Don't adjust",onClick:f,children:"Cancel"}),(0,n.jsx)(o.Buttons.Generic,{color:(0,h.l)()?m.w.compassPrimary:m.w.green600,size:"normal",className:"w-full",title:"Proceed",onClick:w,children:"Proceed"})]})]})},g=(0,c.Pi)(e=>{let{amount:t,setAmount:a,selectedToken:o,fee:i,setShowReviewSheet:r,closeAdjustmentSheet:c,rootDenomsStore:m,forceChain:h,forceNetwork:g,isSeiEvmTransaction:f}=e,b=(0,s.QSC)(h),k=m.allDenoms,v=(0,s.ZYP)(k,h,g),w=(0,u.s0)(),C=(0,d.useMemo)(()=>b.beta?Object.values(b.nativeDenoms)[0]:k[(0,s.QBt)(o.coinMinimalDenom,o.chain??"")],[b.beta,b.nativeDenoms,k,o.chain,o.coinMinimalDenom]),S=(0,d.useCallback)(()=>{c(),r(!0)},[c,r]),j=(0,d.useCallback)(()=>{c(),w("/home")},[c,w]),N=(0,d.useMemo)(()=>f?18:(null==C?void 0:C.coinDecimals)??6,[f,null==C?void 0:C.coinDecimals]),y=(0,d.useMemo)(()=>(0,l.hI1)((null==o?void 0:o.amount)??"0",N),[N,null==o?void 0:o.amount]),D=(0,d.useMemo)(()=>(0,l.hI1)(t,N),[t,N]),I=(0,d.useMemo)(()=>v({feeAmount:i.amount,feeDenom:i.denom,tokenAmount:D,tokenDenom:o.coinMinimalDenom,tokenBalance:y}),[i.amount,i.denom,o.coinMinimalDenom,v,D,y]);return(0,d.useEffect)(()=>{I===s.S2X.NONE&&S()},[I,S]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{isOpen:I===s.S2X.OPTIONAL,nativeDenom:C,tokenAmount:D,feeAmount:i.amount,setAmount:a,onBack:c,onAdjust:S,onCancel:S,decimalsToUse:N}),(0,n.jsx)(p,{isOpen:I===s.S2X.COMPULSORY,nativeDenom:C,tokenAmount:D,tokenBalance:y,feeAmount:i.amount,setAmount:a,onAdjust:S,onCancel:j,decimalsToUse:N})]})})},71517:function(e,t,a){a.d(t,{X:()=>l});var n=a("52322"),s=a("98851");function l(e){let{checked:t,onClick:a}=e;return(0,n.jsx)("div",{className:"w-[20px] h-[20px] rounded cursor-pointer flex justify-center items-center",onClick:a,children:t?(0,n.jsx)("div",{className:"w-[15px] h-[15px] relative",children:(0,n.jsx)("img",{src:s.r.Misc.FilledRoundedSquareCheckMark,className:"absolute inset-0"})}):(0,n.jsx)("div",{className:"w-[15px] h-[15px] rounded-[2px] border-[2px] border-gray-800 dark:border-gray-200"})})}a("2784")},57557:function(e,t,a){a.r(t),a.d(t,{default:()=>eu});var n=a("52322"),s=a("21950"),l=a("2826"),o=a("39279"),i=a("26007"),r=a("6391"),c=a.n(r),d=a("94184"),u=a.n(d),m=a("10853"),h=a("3929"),x=a("69816"),p=a("26571"),g=a("78646"),f=a("76131"),b=a("38313"),k=a("55978"),v=a("42941"),w=a("57124"),C=a("8891"),S=a.n(C),j=a("75958"),N=a("97477"),y=a("80129"),D=a.n(y),I=a("2784"),A=a("10289"),T=a("78344"),M=a("26245"),E=a("36321"),P=a("42799"),F=a("80502"),O=a("50292"),B=a("95502"),L=a("23060"),q=a("80588"),$=a("48346"),Z=a("43860"),_=a("64066");let H=e=>{let{showFeesSettingSheet:t,setShowFeesSettingSheet:a}=e,{sourceChain:s,setFeeDenom:l,setGasOption:o,gasEstimate:i,userPreferredGasLimit:r,setUserPreferredGasLimit:c,setUserPreferredGasPrice:d,setGasError:u,gasError:m,gasPriceOption:h,setGasPriceOption:x}=(0,Z.xY)();(0,I.useEffect)(()=>{u("")},[s]);let p=(0,I.useCallback)((e,t)=>{null==x||x(e),l({...t.denom,ibcDenom:t.ibcDenom}),o(e.option),d(e.gasPrice)},[]);return(0,n.jsx)(L.ZP,{recommendedGasLimit:i.toString(),gasLimit:(null==r?void 0:r.toString())??i.toString(),setGasLimit:e=>c(Number(e.toString())),gasPriceOption:h,onGasPriceOptionChange:p,error:m,setError:u,chain:null==s?void 0:s.key,rootDenomsStore:P.gb,rootBalanceStore:$.jZ,network:_.au,children:(0,n.jsx)(q.k,{showFeesSettingSheet:t,onClose:()=>{a(!1)},gasError:m})})};var R=a("6806");let U=new Map([["bold",I.createElement(I.Fragment,null,I.createElement("path",{d:"M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"}))],["duotone",I.createElement(I.Fragment,null,I.createElement("path",{d:"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z",opacity:"0.2"}),I.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"}))],["fill",I.createElement(I.Fragment,null,I.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"}))],["light",I.createElement(I.Fragment,null,I.createElement("path",{d:"M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"}))],["regular",I.createElement(I.Fragment,null,I.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"}))],["thin",I.createElement(I.Fragment,null,I.createElement("path",{d:"M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"}))]]);var V=Object.defineProperty,G=Object.defineProperties,z=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,X=(e,t,a)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,W=(e,t)=>{for(var a in t||(t={}))Q.call(t,a)&&X(e,a,t[a]);if(Y)for(var a of Y(t))K.call(t,a)&&X(e,a,t[a]);return e},J=(e,t)=>G(e,z(t));let ee=(0,I.forwardRef)((e,t)=>I.createElement(R.Z,J(W({ref:t},e),{weights:U})));ee.displayName="ArrowClockwise";var et=a("9310");let ea=function(e){let{onBack:t,onRefresh:a,onSettings:s,topColor:l}=e,[i,r]=(0,I.useState)(!1),c=(0,I.useCallback)(()=>{a(),r(!0),setTimeout(()=>{r(!1)},700)},[a]);return(0,n.jsxs)("div",{className:"w-[400px] h-[72px]",children:[(0,n.jsx)("div",{className:"absolute w-full h-1 left-0 top-0",style:{backgroundColor:l}}),(0,n.jsxs)("div",{className:"relative h-[71px] w-full flex justify-center items-center ",children:[(0,n.jsx)("div",{className:"absolute top-6 left-6",children:(0,n.jsx)(o.Buttons.Back,{onClick:t})}),(0,n.jsx)("div",{className:"font-bold text-black-100 dark:text-white-100 text-lg !leading-[28px]",children:"Swap"}),(0,n.jsxs)("div",{className:"absolute top-6 right-6 flex justify-end items-center gap-4",children:[(0,n.jsx)("button",{onClick:c,className:u()("text-black-100 dark:text-white-100",{"animate-[spin_500ms_linear_0.7]":i}),children:(0,n.jsx)(ee,{size:20,className:"!leading-[24px]"})}),(0,n.jsx)("button",{onClick:s,className:"text-black-100 dark:text-white-100",children:(0,n.jsx)(et.H,{size:20,className:"!leading-[24px]"})})]})]}),(0,n.jsx)(o.LineDivider,{})]})};var en=a("99347"),es=a("71769");function el(e){let{type:t="warning",message:a}=e;return(0,n.jsxs)("div",{className:u()("flex flex-row justify-start items-start gap-2 px-4 py-3 rounded-2xl ",{"bg-orange-200 dark:bg-orange-900":"warning"===t,"bg-red-200 dark:bg-red-900":"error"===t}),children:[(0,n.jsx)(es.v,{size:16,className:u()("!leading-[20px]",{"text-orange-500 dark:text-orange-300":"warning"===t,"text-red-400 dark:text-red-300":"error"===t})}),(0,n.jsx)("span",{className:"font-medium text-left text-xs !leading-[20px] text-black-100 dark:text-white-100",children:a})]})}var eo=a("71517");function ei(e){let{isChecked:t,setIsChecked:a,title:s,message:l,title2:o}=e;return(0,n.jsxs)("div",{className:"flex flex-col w-full justify-start items-start gap-2 px-4 py-3 rounded-2xl bg-red-200 dark:bg-red-900",children:[(0,n.jsxs)("div",{className:"flex w-full flex-row justify-between items-start gap-2",children:[(0,n.jsxs)("div",{className:"flex flex-row justify-start items-start gap-2",children:[(0,n.jsx)(es.v,{size:16,className:"text-red-400 dark:text-red-300"}),(0,n.jsx)("span",{className:"font-bold text-left text-sm !leading-[20px] text-black-100 dark:text-white-100",children:s})]}),(0,n.jsx)("span",{className:"font-medium text-left text-sm !leading-[20px] text-black-100 dark:text-white-100",children:o})]}),(0,n.jsxs)("div",{className:"flex flex-row justify-start items-start gap-2",children:[(0,n.jsx)(eo.X,{checked:t,onClick:()=>a(!t)}),(0,n.jsx)("span",{className:"font-medium text-left text-xs !leading-[20px] text-gray-800 dark:text-gray-200",children:l})]})]})}let er=(0,j.Pi)(e=>{let{isPriceImpactChecked:t,setIsPriceImpactChecked:a,rootDenomsStore:s,compassTokenTagsStore:l}=e,{routingInfo:o,sourceToken:i,destinationToken:r}=(0,Z.xY)(),c=Intl.NumberFormat("en-US",{maximumFractionDigits:2}),{shouldCheckPriceImpact:d,priceImpactPercent:u,usdValueDecreasePercent:m,sourceAssetUSDValue:h,destinationAssetUSDValue:x}=(0,I.useMemo)(()=>(0,en.i_)(null==o?void 0:o.route,i,r,Object.assign({},s.allDenoms,l.compassTokenDenomInfo)),[l.compassTokenDenomInfo,r,s.allDenoms,null==o?void 0:o.route,i]);if(!d)return null;if(u.isNaN())return m.isNaN()?(0,n.jsx)(ei,{title:"Low information warning",message:"I understand that I might get an unfavourable exchange rate for this transaction.",isChecked:t,setIsChecked:a}):m.lt(5)?null:(0,n.jsx)(ei,{title:"Bad trade warning",title2:`-${m.toFixed(2)}%`,message:`Estimated output value ($${c.format(x.toNumber())}) is ${m.toFixed(2)}% lower than estimated input value ($${c.format(h.toNumber())}).
          I understand and wish to proceed.`,isChecked:t,setIsChecked:a});if(u.lt(5))return m.isNaN()?(0,n.jsx)(el,{type:"warning",message:"Price data unavailable for selected token(s)."}):m.lt(5)?null:(0,n.jsx)(ei,{title:"Bad trade warning",title2:`-${m.toFixed(2)}%`,message:`Estimated output value ($${c.format(x.toNumber())}) is ${m.toFixed(2)}% lower than estimated input value ($${c.format(h.toNumber())}). I understand and wish to proceed.`,isChecked:t,setIsChecked:a});return m.isNaN()||m.lt(5)?(0,n.jsx)(ei,{title:"Bad trade warning",title2:`-${u.toFixed(2)}%`,message:`Swap will execute at a ${u.toFixed(2)}% worse price than the estimated on-chain price, due to low liquidity. I understand and wish to proceed.`,isChecked:t,setIsChecked:a}):m.gt(u)?(0,n.jsx)(ei,{title:"Bad trade warning",title2:`-${m.toFixed(2)}%`,message:`Estimated output value ($${c.format(x.toNumber())}) is ${m.toFixed(2)}% lower than estimated input value ($${c.format(h.toNumber())}). I understand and wish to proceed.`,isChecked:t,setIsChecked:a}):(0,n.jsx)(ei,{title:"Bad trade warning",title2:`-${u.toFixed(2)}%`,message:`Swap will execute at a ${u.toFixed(2)}% worse price than the estimated on-chain price, due to low liquidity. I understand and wish to proceed.`,isChecked:t,setIsChecked:a})});function ec(e){var t;let{isPriceImpactChecked:a,setIsPriceImpactChecked:s,ledgerError:l}=e,{routingInfo:o,isMoreThanOneStepTransaction:i,gasError:r,errorMsg:c,amountExceedsBalance:d,isSanctionedAddressPresent:u}=(0,Z.xY)();if(u)return(0,n.jsx)(el,{message:"Unable to process this transaction",type:"error"});if((0,_.qo)(c))return null;if(i)return(0,n.jsx)(el,{message:"This is a multi-step route, please navigate to Swapfast to complete the swap"});if(!d){if(c)return(0,n.jsx)(el,{message:c,type:"error"});if(r)return(0,n.jsx)(el,{message:r,type:"error"})}return l?(0,n.jsx)(el,{message:l,type:"warning"}):(null===(t=o.route)||void 0===t?void 0:t.response)?(0,n.jsx)(er,{isPriceImpactChecked:a,setIsPriceImpactChecked:s,rootDenomsStore:P.gb,compassTokenTagsStore:P.jq}):null}let ed=(0,j.Pi)(()=>{var e;let t=(0,A.s0)(),a=(0,w.a)(),r=(0,I.useRef)(0),c=(0,I.useRef)(),d=(0,s.rTu)(),[g,C]=(0,I.useState)(!1),[j,y]=(0,I.useState)("source"),[M,E]=(0,I.useState)(!1),[L,q]=(0,I.useState)(!1),[$,R]=(0,I.useState)(!1),[U,V]=(0,I.useState)(!1),[G,z]=(0,I.useState)(!1),[Y,Q]=(0,I.useState)(!1),[K,X]=(0,I.useState)(!1),[W,J]=(0,I.useState)(!1),[ee,et]=(0,I.useState)(!1),[es,el]=(0,I.useState)(!1),[eo,ei]=(0,I.useState)(),[er,ed]=(0,I.useState)(!1),[eu,em]=(0,I.useState)(!1),[eh,ex]=(0,I.useState)(!1),[ep,eg]=(0,I.useState)(!1),[ef,eb]=(0,I.useState)(null),[ek,ev]=(0,I.useState)(null),[ew,eC]=(0,I.useState)(null);(0,s.DI5)();let eS=(0,k.o)(),ej=(0,v.Z)().get("pageSource")??void 0,eN=(0,b.ob)();(0,I.useEffect)(()=>{if("testnet"===eN){em(!0);let e=setTimeout(()=>{em(!1)},1e4);return()=>clearTimeout(e)}},[eN]);let{inAmount:ey,sourceToken:eD,loadingSourceAssets:eI,sourceChain:eA,sourceTokenBalanceStatus:eT,handleInAmountChange:eM,sourceAssets:eE,loadingChains:eP,chainsToShow:eF,invalidAmount:eO,amountExceedsBalance:eB,amountOut:eL,destinationToken:eq,destinationChain:e$,loadingDestinationAssets:eZ,destinationTokenBalancesStatus:e_,destinationAssets:eH,reviewBtnDisabled:eR,setSourceToken:eU,setDestinationToken:eV,setSourceChain:eG,setDestinationChain:ez,redirectUrl:eY,isMoreThanOneStepTransaction:eQ,refresh:eK,handleSwitchOrder:eX,isSwitchOrderPossible:eW,setInAmount:eJ,displayFee:e0,errorMsg:e1,feeDenom:e2,routingInfo:e8,isChainAbstractionView:e4,loadingRoutes:e6}=(0,Z.xY)(),{priceImpactPercent:e5,usdValueDecreasePercent:e9}=(0,en.i_)(null==e8?void 0:e8.route,eD,eq,Object.assign({},P.gb.allDenoms,P.jq.compassTokenDenomInfo)),e3=(0,I.useMemo)(()=>"request-confirmation"===(0,en.Us)(e8.route,eD,eq,Object.assign({},P.gb.allDenoms,P.jq.compassTokenDenomInfo)),[e8.route,eD,eq]);(0,I.useEffect)(()=>{e3?V(!1):V(!0)},[e3]);let e7=(0,I.useCallback)(()=>{V(!1)},[]);(0,I.useEffect)(()=>(Number(eL)&&![K,ee,g,W,L].includes(!0)?c.current=setInterval(async()=>{if(10===r.current){r.current=0,E(!0),e7();try{await eK()}catch(e){}E(!1);return}r.current+=1},1e3):r.current=0,()=>clearInterval(c.current)),[eL,eK,K,ee,g,W,L,e7]);let te=(0,I.useMemo)(()=>{var e;let t,a;return(null==eD?void 0:eD.usdPrice)&&!isNaN(parseFloat(null==eD?void 0:eD.usdPrice))&&ey&&!isNaN(parseFloat(ey))&&(t=parseFloat(null==eD?void 0:eD.usdPrice)*parseFloat(ey)),(null==eq?void 0:eq.usdPrice)&&!isNaN(parseFloat(null==eq?void 0:eq.usdPrice))&&eL&&!isNaN(parseFloat(eL))&&(a=parseFloat(eq.usdPrice)*parseFloat(eL)),{pageName:p.q.SwapsQuoteReady,priceImpactPercent:null==e5?void 0:e5.toNumber(),balanceSufficient:!eB,routePresent:!!(null==e8?void 0:e8.route),userApproval:e3?"High Price Impact":e9.isNaN()?"Token Price Unavailable":"",fromToken:null==eD?void 0:eD.symbol,fromTokenAmount:t,fromChain:(null==eA?void 0:eA.chainName)??"",toToken:null==eq?void 0:eq.symbol,toChain:null==e$?void 0:e$.chainName,toTokenAmount:a,transactionCount:null==e8?void 0:null===(e=e8.route)||void 0===e?void 0:e.transactionCount}},[eB,eL,e3,null==e$?void 0:e$.chainName,null==eq?void 0:eq.symbol,null==eq?void 0:eq.usdPrice,ey,e5,null==e8?void 0:e8.route,null==eA?void 0:eA.chainName,null==eD?void 0:eD.symbol,null==eD?void 0:eD.usdPrice,e9]);(0,I.useEffect)(()=>{if(eh&&!ep)try{S().track(p.B_.PageView,te),eg(!0)}catch(e){}},[te,eh,ep]),(0,I.useEffect)(()=>{eg(!1)},[ey,eD,eq]),(0,I.useEffect)(()=>{parseFloat(ey)>0&&!e6&&((0,_.qo)(e1)||(null==e8?void 0:e8.route)&&parseFloat(eL)>0)?ex(!0):ex(!1)},[ey,e6,null==e8?void 0:e8.route,e5,e3,eB,eL,e1]);let tt=(0,I.useMemo)(()=>d&&d.walletType===s._KQ.LEDGER?eF.filter(e=>{let t=Object.values(l.oCA).find(t=>t.chainId===e.chainId);return!!t&&d.addresses[t.key]}):eF,[d,eF]),{_destinationChainsToShow:ta,_destinationAssets:tn}=(0,I.useMemo)(()=>{let e=eH.filter(e=>"uusdc"===e.skipAsset.originDenom?e.skipAsset.originDenom===(null==eq?void 0:eq.skipAsset.originDenom)&&e.skipAsset.originChainId===(null==eq?void 0:eq.skipAsset.originChainId):e.skipAsset.originDenom===(null==eq?void 0:eq.skipAsset.originDenom)),t=e.map(e=>e.skipAsset.chainId);return{_destinationAssets:e,_destinationChainsToShow:tt.filter(e=>t.includes(e.chainId))}},[tt,eq,eH]),ts=(0,I.useMemo)(()=>eH.filter(e=>!!(0,O.l)()||!e.skipAsset.denom.includes("ibc/")),[eH]),tl=(0,I.useMemo)(()=>eO?"Amount must be greater than 0":eB?"Insufficient balance":(0,_.qo)(e1)?"No transaction routes available":"evmos"===T.J.activeChain&&(null==d?void 0:d.walletType)===s._KQ.LEDGER?"Not supported using Ledger wallet":"Review Swap",[null==d?void 0:d.walletType,eB,e1,eO]),to=(0,I.useMemo)(()=>"evmos"===T.J.activeChain&&(null==d?void 0:d.walletType)===s._KQ.LEDGER||eR||M||e3&&!U,[null==d?void 0:d.walletType,e3,U,M,eR]),ti=(0,I.useMemo)(()=>e0&&e2?{amount:(0,l.hI1)(String(e0.value),e2.coinDecimals),denom:e2.coinMinimalDenom}:null,[e0,e2]),tr=(0,I.useMemo)(()=>eP||eI||!!e4&&(null==eD?void 0:eD.amount)==="0"&&"loading"===eT,[e4,eP,eI,eD,eT]),tc=(0,I.useMemo)(()=>{var e;return eD?{amount:eD.amount,coinMinimalDenom:eD.coinMinimalDenom,chain:null==eD?void 0:null===(e=eD.skipAsset)||void 0===e?void 0:e.originChainId}:null},[eD]),td=(0,I.useCallback)(e=>{try{S().track(p.B_.DropdownOpened,{dropdownType:e})}catch(e){}},[]),tu=(0,I.useCallback)(()=>{"swapAgain"===ej?t("/home"):t(-1)},[t,ej]),tm=(0,I.useCallback)(()=>{eK()},[eK]),th=(0,I.useCallback)(()=>{et(!0)},[et]),tx=(0,I.useCallback)(e=>{eM(e),e7()},[eM,e7]),tp=(0,I.useCallback)(()=>{C(!0),y("source"),e7(),td("Source Token")},[C,y,e7,td]),tg=(0,I.useCallback)(()=>{X(!0),y("source"),e7()},[e7,X,y]),tf=(0,I.useCallback)(()=>{C(!0),y("destination"),e7(),td("Destination Token")},[C,y,e7,td]),tb=(0,I.useCallback)(()=>{X(!0),y("destination"),e7(),td("Destination Chain")},[e7,X,y,td]),tk=(0,I.useCallback)(()=>{X(!1),y("")},[X,y]),tv=(0,I.useCallback)(e=>{"source"===j&&e.chainId!==(null==eA?void 0:eA.chainId)?(eG(e),eU(null)):"destination"===j&&e.chainId!==(null==e$?void 0:e$.chainId)&&(ez(e),eV(null)),X(!1),y("")},[null==e$?void 0:e$.chainId,ez,eV,eG,eU,j,null==eA?void 0:eA.chainId]),tw=(0,I.useCallback)(e=>{let t=Object.values(eS).find(t=>t.chainId===e.chainId);if(t){eC({chain:e,callbackToUse:"handleSetChain"}),eb(t);return}tv(e)},[eS,tv]),tC=(0,I.useCallback)(e=>{ez(e),eV(tn.find(t=>t.skipAsset.chainId===e.chainId)),X(!1),y("")},[tn,ez,eV,X,y]),tS=(0,I.useCallback)(e=>{let t=Object.values(eS).find(t=>t.chainId===e.chainId);if(t){eC({chain:e,callbackToUse:"handleSetDestinationChain"}),eb(t);return}tC(e)},[eS,tC]),tj=(0,I.useCallback)(()=>{C(!1),y("")},[C,y]),tN=(0,I.useCallback)(e=>{let t=tt.find(t=>t.chainId===e.skipAsset.chainId);"source"===j?(e4&&eG(t),eU(e)):"destination"===j&&(e4&&ez(t),eV(e)),C(!1),y("")},[tt,j,e4,eU,eG,eV,ez]),ty=(0,I.useCallback)(e=>{let t=Object.values(eS).find(t=>t.chainId===e.skipAsset.chainId);if(t){ev(e),eb(t);return}tN(e)},[eS,tN]),tD=(0,I.useCallback)(()=>{eb(null),ek?(tN(ek),ev(null)):ew&&("handleSetChain"===ew.callbackToUse?tw(ew.chain):"handleSetDestinationChain"===ew.callbackToUse&&tC(ew.chain),eC(null))},[ek,ew,tN,tw,tC]),tI=(0,I.useCallback)(()=>{el(!0)},[el]),tA=(0,I.useCallback)(()=>{el(!1)},[el]),tT=(0,I.useCallback)(()=>{et(!1)},[et]),tM=(0,I.useCallback)(()=>{Q(!1)},[Q]),tE=(0,I.useCallback)(()=>{R(!1)},[R]),tP=(0,I.useCallback)(()=>{q(!1)},[q]),tF=(0,I.useCallback)(()=>{q(!1),J(!0),eo&&ei(void 0)},[q,J,eo]),tO=(0,I.useCallback)((e,a,n,s)=>{if(e||a||n||s){let l="";l=`?${D().stringify({sourceChainId:e,sourceToken:a,destinationChainId:n,destinationToken:s,pageSource:"swapAgain"})}`,t(`/swap${l}`)}J(!1),eJ("")},[t,eJ,J]),tB=(0,I.useCallback)(e=>{ei(e),e&&J(!1)},[ei,J]);return(0,f.$)({page:"swaps",queryStatus:tr||eZ?"loading":"success",op:"swapsPageLoad",description:"loading state on swaps page"}),(0,n.jsxs)("div",{className:"panel-width panel-height enclosing-panel overflow-clip",children:[(0,n.jsxs)(h.Z,{header:(0,n.jsx)(ea,{onBack:tu,onRefresh:tm,onSettings:th,topColor:"transparent"}),className:"flex flex-col",children:[!!eu&&(0,n.jsx)("div",{className:"flex flex-col items-center justify-center px-4 py-2 bg-[#0D9488]",children:(0,n.jsx)(x.Z,{size:"xs",color:"dark:text-white-100 text-white-100",className:"font-bold",children:"Switched to mainnet for swaps"})}),(0,n.jsxs)("div",{className:"flex flex-1 flex-col justify-between p-4 w-full gap-3 relative",children:[(0,n.jsxs)("div",{className:"flex flex-col w-full gap-2 relative",children:[(0,n.jsxs)("div",{className:"w-full flex flex-col items-center",children:[(0,n.jsx)(B.r1,{value:ey,isInputInUSDC:er,setIsInputInUSDC:ed,token:eD,balanceStatus:eT,loadingAssets:tr,loadingChains:eP,chainName:null==eA?void 0:eA.chainName,chainLogo:(null==eA?void 0:eA.icon)??a,onChange:tx,selectTokenDisabled:0===eE.length||!eA,selectChainDisabled:0===tt.length,onTokenSelectSheet:tp,onChainSelectSheet:tg,amountError:eB||eO,showFor:"source",selectedChain:e4?eA:void 0,isChainAbstractionView:e4}),(0,n.jsx)(B.cO,{isSwitchOrderPossible:eW,handleSwitchOrder:eX}),(0,n.jsx)(B.r1,{readOnly:!0,isInputInUSDC:er,setIsInputInUSDC:ed,value:eL?Number(eL).toFixed(6):eL,token:eq,balanceStatus:e_,loadingChains:eP,loadingAssets:eP||eZ,chainName:null==e$?void 0:e$.chainName,chainLogo:(null==e$?void 0:e$.icon)??a,selectTokenDisabled:0===ts.length||!e$,selectChainDisabled:0===tt.length,onTokenSelectSheet:tf,onChainSelectSheet:tb,isChainAbstractionView:e4,showFor:"destination"})]}),(0,n.jsx)(ec,{isPriceImpactChecked:U,setIsPriceImpactChecked:V,ledgerError:eo}),(0,n.jsx)(B.SS,{setShowMoreDetailsSheet:Q,rootDenomsStore:P.gb})]}),eQ?(0,n.jsx)(o.Buttons.Generic,{className:"w-full dark:!bg-white-100 !bg-black-100 text-white-100 dark:text-black-100",onClick:()=>window.open(eY,"_blank"),style:{boxShadow:"none"},children:(0,n.jsxs)("span",{className:"flex items-center gap-1",children:["Swap on Swapfast ",(0,n.jsx)(i.O,{size:20,className:"!leading-[20px] !text-lg"})]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.Buttons.Generic,{className:u()("w-full",{[`${(0,O.l)()?"!bg-compassChainTheme-400":"!bg-green-600"} text-white-100`]:!(eO||eB||(0,_.qo)(e1)),"!bg-red-300 text-white-100":eO||eB||(0,_.qo)(e1)}),disabled:to,style:{boxShadow:"none"},onClick:()=>{(null==d?void 0:d.watchWallet)?F.o.setShowPopup(!0):R(!0)},children:tl})})]})]}),(0,n.jsx)(B.nS,{isOpen:g,sourceAssets:eE,destinationAssets:ts,sourceToken:eD,selectedChain:"source"===j?eA:e$,destinationToken:eq,showFor:j,onClose:tj,onTokenSelect:ty,rootDenomsStore:P.gb,whitelistedFactorTokenStore:P.he,isChainAbstractionView:e4,loadingTokens:"source"===j?eI:eZ}),e4?(0,n.jsx)(B.Aq,{title:"Select Destination Chain",isOpen:K,chainsToShow:ta,onClose:()=>{X(!1),y("")},selectedChain:e$,onChainSelect:tS,destinationAssets:tn}):(0,n.jsx)(B.Aq,{isOpen:K,chainsToShow:tt,onClose:tk,selectedChain:"source"===j?eA:e$,onChainSelect:tw}),(0,n.jsx)(B.p6,{isOpen:Y,onClose:tM,onSlippageInfoClick:tI,setShowFeesSettingSheet:z}),(0,n.jsx)(B.Yc,{isOpen:ee,onClose:tT,onSlippageInfoClick:tI}),(0,n.jsx)(B.qm,{isOpen:es,onClose:tA}),$&&ti&&tc&&ey&&eA&&(0,n.jsx)(m.K,{rootDenomsStore:P.gb,amount:ey,setAmount:eJ,selectedToken:tc,fee:ti,forceChain:null==eA?void 0:eA.key,setShowReviewSheet:q,closeAdjustmentSheet:tE}),(0,n.jsx)(B.Bv,{isOpen:L,onClose:tP,onProceed:tF,setShowFeesSettingSheet:z}),(null==e8?void 0:null===(e=e8.route)||void 0===e?void 0:e.response)&&(0,n.jsx)(H,{showFeesSettingSheet:G,setShowFeesSettingSheet:z}),ef&&(0,n.jsx)(N.Z,{isVisible:!!ef,onClose:()=>{eb(null),ev(null),eC(null)},newAddChain:ef,skipUpdatingActiveChain:!0,successCallback:tD}),W?(0,n.jsx)(B.J9,{onClose:tO,setLedgerError:tB,ledgerError:eo}):null]})}),eu=(0,j.Pi)(e=>{let{rootBalanceStore:t}=e,a=(0,v.Z)(),s=(0,A.TH)(),l=(0,I.useMemo)(()=>{var e;return null===(e=t.getAggregatedBalances("mainnet").reduce((e,t)=>t.usdValue?e.plus(new(c())(t.usdValue)):e,new(c())(0)))||void 0===e?void 0:e.toNumber()},[t]),o=(0,I.useMemo)(()=>{let e;let t=a.get("pageSource")??void 0;switch(t){case"bottomNav":e="Bottom Nav";break;case"assetDetails":e="Asset Details";break;case"banners":e="Banners";break;case"swapAgain":e="Swap Again CTA";break;case"quickSearch":e="Quick Search";break;case"stake":e=p.q.Stake;break;case p.q.Home:e=p.q.Home;break;case"search":e=p.q.Search;break;case p.q.ZeroState:e=p.q.ZeroState}let n={pageViewSource:e,userBalance:l};return"banners"===t?{...n,pageViewSourceDetail:a.get("bannerId")??void 0}:n},[a,null==s?void 0:s.key]);return(0,g.a)(p.q.SwapsStart,!0,o),(0,n.jsx)(Z.Ok,{rootDenomsStore:P.gb,rootBalanceStore:t,activeChainStore:T.J,autoFetchedCW20DenomsStore:P.PZ,betaCW20DenomsStore:P.Xy,cw20DenomsStore:P.Sg,cw20DenomBalanceStore:M.Sz,disabledCW20DenomsStore:P.eV,enabledCW20DenomsStore:P.bI,betaERC20DenomsStore:P.EM,erc20DenomsStore:P.QH,compassTokenTagsStore:P.jq,compassTokensAssociationsStore:E.Bj,priceStore:M.lx,children:(0,n.jsx)(ed,{})})})}}]);