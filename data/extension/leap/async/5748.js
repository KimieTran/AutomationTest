!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="9d22ef0c-04a5-4cf8-abf3-eb045f8093cd",e._sentryDebugIdIdentifier="sentry-dbid-9d22ef0c-04a5-4cf8-abf3-eb045f8093cd")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.17.3"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["5748"],{10853:function(e,a,t){t.d(a,{K:function(){return g}});var l=t(52322),n=t(21950),s=t(2826),i=t(39279),r=t(12887),o=t(14281),d=t(75958),c=t(2784),u=t(10289),m=t(46103),v=t(50292);let h=e=>{let{isOpen:a,tokenAmount:t,feeAmount:d,setAmount:u,nativeDenom:h,onAdjust:x,onCancel:g,onBack:f,decimalsToUse:p}=e,{theme:b}=(0,i.useTheme)(),y=(0,c.useMemo)(()=>(0,n.ww6)({tokenAmount:t,feeAmount:d,nativeDenom:h,decimalsToUse:p}),[d,h,p,t]),w=(0,c.useCallback)(()=>{y?(u(y),x()):g()},[x,g,u,y]),k=(0,c.useMemo)(()=>{let e=(0,s.TGo)(t,p??6);return(0,n.LHZ)(e,(null==h?void 0:h.coinDenom)??"",Math.min(p??6,6))},[p,null==h?void 0:h.coinDenom,t]),j=(0,c.useMemo)(()=>y?(0,n.LHZ)(y,(null==h?void 0:h.coinDenom)??"",Math.min(p??6,6)):null,[p,null==h?void 0:h.coinDenom,y]);return(0,l.jsxs)(o.Z,{isOpen:a,title:"Adjust for Transaction Fees",closeOnBackdropClick:!0,onClose:g,onActionButtonClick:f,containerClassName:"!max-panel-height",contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"p-6",children:[(0,l.jsxs)("p",{className:"text-gray-200 font-medium mb-6",children:["Confirming this transaction may leave you with insufficient ",(null==h?void 0:h.coinDenom)??""," ","balance for future transaction fees."]}),(0,l.jsxs)("div",{className:"rounded-2xl p-4 dark:bg-gray-900 bg-gray-50 mb-6",children:[(0,l.jsx)("p",{className:"text-sm text-white-100 font-bold mb-4",children:"Should we auto-adjust the amount?"}),(0,l.jsxs)("div",{className:"flex items-center rounded-xl p-4 dark:bg-gray-850 bg-gray-100 gap-4",children:[(0,l.jsx)("div",{className:"flex-1 text-right text-sm text-white-100 font-bold",children:k}),(0,l.jsx)(r.o,{size:24,className:"text-gray-400"}),(0,l.jsx)("div",{className:"flex-1 text-sm text-green-500 font-bold",children:j})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-6 mt-auto",children:[(0,l.jsx)(i.Buttons.Generic,{color:b===i.ThemeName.DARK?m.w.gray900:m.w.gray300,size:"normal",className:"w-full",title:"Don't adjust",onClick:g,children:"Cancel"}),(0,l.jsx)(i.Buttons.Generic,{color:(0,v.l)()?m.w.compassPrimary:m.w.green600,size:"normal",className:"w-full",title:"Proceed",onClick:w,children:"Proceed"})]})]})},x=e=>{let{isOpen:a,tokenAmount:t,tokenBalance:d,feeAmount:u,setAmount:h,nativeDenom:x,onAdjust:g,onCancel:f,decimalsToUse:p}=e,{theme:b}=(0,i.useTheme)(),y=(0,c.useMemo)(()=>(0,n.ww6)({tokenAmount:d,feeAmount:u,nativeDenom:x,decimalsToUse:p}),[d,u,x,p]),w=(0,c.useCallback)(()=>{y?(h(y),g()):f()},[g,f,h,y]),k=(0,c.useMemo)(()=>{let e=(0,s.TGo)(t,p??6);return(0,n.LHZ)(e,(null==x?void 0:x.coinDenom)??"",Math.min(p??6,6))},[p,null==x?void 0:x.coinDenom,t]),j=(0,c.useMemo)(()=>y?(0,n.LHZ)(y,(null==x?void 0:x.coinDenom)??"",Math.min(p??6,6)):null,[p,null==x?void 0:x.coinDenom,y]);return(0,l.jsxs)(o.Z,{isOpen:a,onClose:f,closeOnBackdropClick:!1,title:"Adjust for Transaction Fees",containerClassName:"!bg-white-100 dark:!bg-gray-950 !max-panel-height",contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"p-6",children:[(0,l.jsxs)("p",{className:"text-gray-200 font-medium mb-6",children:["You seem to have insufficient ",(null==x?void 0:x.coinDenom)??""," balance to pay transaction fees."]}),(0,l.jsxs)("div",{className:"rounded-2xl p-4 dark:bg-gray-900 bg-gray-50 mb-6",children:[(0,l.jsx)("p",{className:"text-sm text-white-100 font-bold mb-4",children:"Should we auto-adjust the amount?"}),(0,l.jsxs)("div",{className:"flex items-center rounded-xl p-4 dark:bg-gray-850 bg-gray-100 gap-4",children:[(0,l.jsx)("div",{className:"flex-1 text-right text-sm text-white-100 font-bold",children:k}),(0,l.jsx)(r.o,{size:24,className:"text-gray-400"}),(0,l.jsx)("div",{className:"flex-1 text-sm text-green-500 font-bold",children:j})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-6 mt-auto",children:[(0,l.jsx)(i.Buttons.Generic,{color:b===i.ThemeName.DARK?m.w.gray900:m.w.gray300,size:"normal",className:"w-full",title:"Don't adjust",onClick:f,children:"Cancel"}),(0,l.jsx)(i.Buttons.Generic,{color:(0,v.l)()?m.w.compassPrimary:m.w.green600,size:"normal",className:"w-full",title:"Proceed",onClick:w,children:"Proceed"})]})]})},g=(0,d.Pi)(e=>{let{amount:a,setAmount:t,selectedToken:i,fee:r,setShowReviewSheet:o,closeAdjustmentSheet:d,rootDenomsStore:m,forceChain:v,forceNetwork:g,isSeiEvmTransaction:f}=e,p=(0,n.QSC)(v),b=m.allDenoms,y=(0,n.ZYP)(b,v,g),w=(0,u.s0)(),k=(0,c.useMemo)(()=>p.beta?Object.values(p.nativeDenoms)[0]:b[(0,n.QBt)(i.coinMinimalDenom,i.chain??"")],[p.beta,p.nativeDenoms,b,i.chain,i.coinMinimalDenom]),j=(0,c.useCallback)(()=>{d(),o(!0)},[d,o]),N=(0,c.useCallback)(()=>{d(),w("/home")},[d,w]),C=(0,c.useMemo)(()=>f?18:(null==k?void 0:k.coinDecimals)??6,[f,null==k?void 0:k.coinDecimals]),S=(0,c.useMemo)(()=>(0,s.hI1)((null==i?void 0:i.amount)??"0",C),[C,null==i?void 0:i.amount]),E=(0,c.useMemo)(()=>(0,s.hI1)(a,C),[a,C]),D=(0,c.useMemo)(()=>y({feeAmount:r.amount,feeDenom:r.denom,tokenAmount:E,tokenDenom:i.coinMinimalDenom,tokenBalance:S}),[r.amount,r.denom,i.coinMinimalDenom,y,E,S]);return(0,c.useEffect)(()=>{D===n.S2X.NONE&&j()},[D,j]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h,{isOpen:D===n.S2X.OPTIONAL,nativeDenom:k,tokenAmount:E,feeAmount:r.amount,setAmount:t,onBack:d,onAdjust:j,onCancel:j,decimalsToUse:C}),(0,l.jsx)(x,{isOpen:D===n.S2X.COMPULSORY,nativeDenom:k,tokenAmount:E,tokenBalance:S,feeAmount:r.amount,setAmount:t,onAdjust:j,onCancel:N,decimalsToUse:C})]})})},71517:function(e,a,t){t.d(a,{X:()=>s});var l=t("52322"),n=t("98851");function s(e){let{checked:a,onClick:t}=e;return(0,l.jsx)("div",{className:"w-[20px] h-[20px] rounded cursor-pointer flex justify-center items-center",onClick:t,children:a?(0,l.jsx)("div",{className:"w-[15px] h-[15px] relative",children:(0,l.jsx)("img",{src:n.r.Misc.FilledRoundedSquareCheckMark,className:"absolute inset-0"})}):(0,l.jsx)("div",{className:"w-[15px] h-[15px] rounded-[2px] border-[2px] border-gray-800 dark:border-gray-200"})})}t("2784")},6202:function(e,a,t){t.d(a,{Z:function(){return i}});var l=t(52322),n=t(94184),s=t.n(n);t(2784);let i=e=>{let{options:a,selectedOption:t,onChange:n,className:i,themeColor:r}=e;return(0,l.jsx)("fieldset",{className:s()("flex flex-col",i),children:a.map(e=>{let a=t===e.value;return(0,l.jsxs)("label",{className:`inline-flex items-center last-of-type:border-0 border-b dark:border-b-gray-800 border-b-gray-300 ${e.subTitle?"py-2 last-of-type:pb-0":"py-3 last-of-type:pb-0"}`,children:[(0,l.jsx)("input",{type:"radio",value:e.value,checked:a,readOnly:!0,className:"hidden"}),(0,l.jsx)("div",{"aria-label":"radio-button",className:s()("w-5 h-5 rounded-full border-[2px] flex items-center justify-center cursor-pointer border-gray-300 transition-all",{"shadow-sm":a}),style:{borderColor:a?r:void 0},tabIndex:0,onClick:()=>n(e.value),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&!a&&n(e.value)},children:(0,l.jsx)("div",{className:"w-[10px] h-[10px] rounded-full bg-gray-300 transition-all",style:{backgroundColor:a?r:void 0,opacity:a?1:0}})}),(0,l.jsxs)("div",{className:"flex flex-col ml-3",children:[(0,l.jsx)("p",{className:"dark:text-white-100 text-gray-900 font-medium",children:e.title}),e.subTitle?(0,l.jsx)("p",{className:"text-gray-500 text-xs",children:e.subTitle}):null]})]},e.value)})})}},46836:function(e,a,t){t.d(a,{A:function(){return i},L:function(){return r}});var l=t(52800),n=t(14506),s=t(2784);let i=(e,a)=>{let[t,i]=(0,s.useState)({}),[r,o]=(0,s.useState)(!1),{debounce:d}=(0,n.S)(),c=d((0,s.useCallback)(async e=>{try{o(!0),l.i_.setNetwork(a);let t={allowedTopLevelDomains:l.L},n=await l.i_.resolveAll(e,t);i(n)}catch(e){}finally{o(!1)}},[a]),200);return(0,s.useEffect)(()=>{e&&c(e)},[e]),[r,t]},r={ibcDomains:"IBC Domains",icns:"Interchain Name Service",stargazeNames:"Stargaze Names",archIds:"Arch ID",spaceIds:"Space ID",sns:"SNS",degeNS:"DegeNS",bdd:"BDD"}},11081:function(e,a,t){t.d(a,{Z:function(){return r},g:function(){return i}});var l=t(71659),n=t(2784),s=t(46372);let i=()=>{let[e,a]=(0,n.useState)({}),[t,l]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=!1;return s.o.subscribe(a),(async()=>{let t=await s.o.getAllEntries();if(!e)a(Object.entries(t).filter(e=>{let[,a]=e;return"injective"!==a.blockchain||"injective"===a.blockchain&&""===a.ethAddress||!1}).reduce((e,a)=>{let[t,l]=a;return e[t]=l,e},{})),l(!1)})(),()=>{s.o.unsubscribe(a),e=!0}},[]),{contacts:e,loading:t}},r=e=>{let{contacts:a,loading:t}=i();return(0,n.useMemo)(()=>{if(t)return[];let n=Object.values(a),s=(null==e?void 0:e.trim().toLowerCase())??"";return 0===s.length?n:new l.default(n,{threshold:.3,keys:["name","address","ethAddress"]}).search(s).map(e=>e.item)},[a,t,e])}},30942:function(e,a,t){t.d(a,{X:function(){return r}});var l=t(21950),n=t(26089),s=t(2784),i=t(37906);function r(e){let{rpcUrl:a}=(0,l.U9i)();(0,s.useEffect)(()=>{if(e){if(!(e.includes("was submitted but was not yet found on the chain. You might want to check later. There was a wait of 60 seconds.")||e.includes("Reward is too low")))!e.includes("You don't have enough")&&n.Tb(`${e} - node: ${a}`,{tags:i.r})}},[e,a])}},58551:function(e,a,t){t.d(a,{E:function(){return o}});var l=t(21950),n=t(88054),s=t(2784),i=t(44318),r=t(22014);function o(){let e=(0,l.rTu)();return(0,s.useCallback)(async()=>{if(!r.M8.password)throw Error("Password not set");let a=(0,n.pe)(null==e?void 0:e.cipher,r.M8.password);return new i.Wallet(a,{hdAccountIndex:null==e?void 0:e.addressIndex})},[e])}},82543:function(e,a,t){t.r(a),t.d(a,{default:()=>a0});var l=t("52322"),n=t("21950"),s=t("39279"),i=t("3929"),r=t("26571"),o=t("94751"),d=t("29312"),c=t("78646"),u=t("76131"),m=t("71566"),v=t("36400"),h=t("50449"),x=t("42941"),g=t("75958"),f=t("9501"),p=t("2784"),b=t("10289"),y=t("26245"),w=t("36321"),k=t("42799"),j=t("83275"),N=t("48346"),C=t("2826"),S=t("6391"),E=t.n(S),D=t("94184"),M=t.n(D),I=t("23060"),A=t("23259"),T=t("81252"),Z=t("58551"),O=t("44818"),H=t("74079");let L=T.w.useGetWallet,_=T.w.useAptosSigner,P=(0,p.createContext)(null),F=(0,g.Pi)(e=>{let{children:a,rootCW20DenomsStore:t,rootERC20DenomsStore:s,rootDenomsStore:i}=e,r=t.allCW20Denoms,o=s.allERC20Denoms,{tokenFiatValue:d,feeTokenFiatValue:c,confirmSend:u,confirmSendEth:m,selectedToken:v,setCustomIbcChannelId:h,sendActiveChain:x,...g}=(0,n.TH7)({denoms:i.allDenoms,cw20Denoms:r,erc20Denoms:o}),f=(0,H._)(),b=L(x),y=_(),w=(0,n.SFn)(),k=(0,Z.E)(),[j,N]=(0,p.useState)(null),[S,E]=(0,p.useState)(!1),[D,M]=(0,p.useState)(!0),[I,A]=(0,p.useState)(""),T=(0,p.useCallback)(async e=>{await u({...e,getWallet:()=>(0,C.cSx)((null==v?void 0:v.coinMinimalDenom)??"","secret")?k():(0,C.KPM)(x)?y(x):b()},f)},[u,y,k,b,null==v?void 0:v.coinMinimalDenom,x,f]),O=(0,p.useCallback)(async(e,a,t,l,n,s)=>{m(e,a,t,l,f,n,s)},[m,f]);(0,p.useEffect)(()=>{E(!1),h(void 0)},[v,null==g?void 0:g.selectedAddress]);let F=(0,p.useMemo)(()=>{let e=(0,C.z_q)(w),{selectedAddress:a}=g,t=(0,C.z_q)(a?a.address??"":"");return{ethAddress:I,setEthAddress:A,tokenFiatValue:d??"",feeTokenFiatValue:c??"",selectedToken:v,confirmSend:T,confirmSendEth:O,sameChain:e===t,transferData:j,setTransferData:N,isIbcUnwindingDisabled:S,setIsIbcUnwindingDisabled:E,setCustomIbcChannelId:h,pfmEnabled:D,setPfmEnabled:M,sendActiveChain:x,rootDenomsStore:i,...g}},[w,g,I,d,c,v,T,O,j,S,E,h,D,M,i,x]);return(0,l.jsx)(P.Provider,{value:F,children:a})}),z=()=>{let e=(0,p.useContext)(P);return(0,O.h)(null!==e,"useSendContext must be used within SendContextProvider"),e};var B=t("14281"),W=t("87884"),R=t("81532"),V=t("71461");let $=e=>{let{assets:a,selectedToken:t,isOpen:s,onClose:i,onTokenSelect:r,denoms:o}=e,[d,c]=(0,p.useState)(""),{sendActiveChain:u}=z(),m=(0,b.TH)().state,v=(0,n.QSC)(u),h=(0,x.Z)().get("assetCoinDenom")??void 0;h=(0,p.useMemo)(()=>m&&m.coinMinimalDenom?m.ibcDenom||m.coinMinimalDenom:h,[h,m]);let g=(0,p.useMemo)(()=>a.filter(e=>"0"!==String(e.amount)&&(o[e.coinMinimalDenom]??Object.values(v.nativeDenoms).find(a=>a.coinMinimalDenom===e.coinMinimalDenom))),[v.nativeDenoms,a,o]),f=(0,p.useMemo)(()=>g.filter(e=>e.symbol.toLowerCase().includes(d.trim().toLowerCase())),[g,d]),y=e=>{r(e),i()};return(0,l.jsx)(B.Z,{title:"Select Token",isOpen:s,closeOnBackdropClick:!0,onClose:i,contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"p-6",children:(0,l.jsxs)("div",{className:"flex flex-col items-center h-full",children:[(0,l.jsx)(R.M,{value:d,onChange:e=>c(e.target.value),onClear:()=>c(""),placeholder:"Search tokens...",divClassName:"rounded-2xl w-full flex gap-[10px] bg-gray-50 dark:bg-gray-900 py-3 pr-3 pl-4 focus-within:border-green-600 border border-transparent",inputClassName:"flex flex-grow text-base outline-none bg-white-0 font-bold text-black-100 dark:text-white-100 text-md placeholder:font-medium dark:placeholder:text-gray-400 !leading-[21px]"}),(0,l.jsx)("div",{className:"bg-white-100 dark:bg-gray-950 rounded-2xl min-h-[200px] max-h-[calc(100%-240px)] w-full mt-4",style:{overflowY:"scroll"},children:f.length>0?f.map((e,a)=>{let n=a===f.length-1,s=(null==t?void 0:t.coinMinimalDenom)===e.coinMinimalDenom;return((null==t?void 0:t.ibcDenom)||e.ibcDenom)&&(s=(null==t?void 0:t.ibcDenom)===e.ibcDenom),((null==t?void 0:t.isEvm)||(null==e?void 0:e.isEvm))&&(s=s&&(null==t?void 0:t.isEvm)===(null==e?void 0:e.isEvm)),(0,l.jsxs)(p.Fragment,{children:[(0,l.jsx)(V.H,{onTokenSelect:y,token:e,hideAmount:"0"===e.amount,isSelected:s,selectedChain:void 0,showRedirection:!1}),!n&&(0,l.jsx)("div",{className:"border-b w-full border-gray-100 dark:border-gray-850"})]},`${e.coinMinimalDenom}-${a}`)}):(0,l.jsx)(W.Z,{searchQuery:d})})]})})};$.displayName="SelectTokenSheet";var U=t("48272"),G=t("2543"),K=t("6401"),Q=t("57124"),Y=t("86874"),X=t("84994"),q=t("49409");let J=(0,g.Pi)(function(e){var a,t;let{isInputInUSDC:s,setIsInputInUSDC:i,value:r,token:o,loadingAssets:d,balanceStatus:c,onChange:u,onTokenSelectSheet:m,amountError:v,sendActiveChain:h,selectedChain:x}=e,[g]=(0,K.nB)(),f=(0,n.DI5)(),b=(0,Q.a)(),[y,w]=(0,p.useState)(null==r?void 0:r.toString()),{pfmEnabled:k,isIbcUnwindingDisabled:j,allGasOptions:N,gasOption:C}=z(),S=(0,p.useMemo)(()=>{if(o&&o.usdPrice&&"0"!==o.usdPrice)return o.usdPrice},[o]);(0,p.useEffect)(()=>{!S&&s&&i(!1)},[S,s]);let{formattedDollarAmount:D}=(0,p.useMemo)(()=>{let e="0";return""===r||r&&isNaN(parseFloat(r))?{formattedDollarAmount:""}:(o&&o.usdPrice&&r&&(e=String(parseFloat(o.usdPrice)*parseFloat(r))),{formattedDollarAmount:X.J.formatHideBalance(g(new(E())(e)))})},[g,o,r]),I=(0,p.useMemo)(()=>X.J.formatHideBalance((0,n.LHZ)(r??"0",(0,n.MDB)((null==o?void 0:o.symbol)??"",4,4),3,"en-US")),[r,null==o?void 0:o.symbol]),A=(0,p.useMemo)(()=>X.J.formatHideBalance((0,n.LHZ)((null==o?void 0:o.amount)??"0",(0,n.MDB)((null==o?void 0:o.symbol)??"",4,4),3,"en-US")),[null==o?void 0:o.amount,null==o?void 0:o.symbol]),T=(0,p.useMemo)(()=>(null==o?void 0:o.amount)===r,[null==o?void 0:o.amount,r]),Z=(0,p.useMemo)(()=>(null==o?void 0:o.amount)&&(null==o?void 0:o.amount)!=="0"&&!T,[T,null==o?void 0:o.amount]),O=(0,p.useMemo)(()=>!S||new(E())(S??0).isLessThan(1e-6),[S]);(0,p.useEffect)(()=>{if(u){if(s&&S){if(!y.trim()){u("");return}let e=new(E())(y).dividedBy(S);u(isNaN(parseFloat(e.toString()))?"":null==e?void 0:e.toFixed(6))}else u(isNaN(parseFloat(y))?"":y)}},[y,s,S]);let H=(0,p.useCallback)(()=>{if(!S)throw"USD price is not available";s?(i(!1),w(new(E())(y).dividedBy(S).toString())):(i(!0),w(new(E())(y).multipliedBy(S).toString()))},[s,S,y]);return(0,l.jsxs)("div",{className:"w-full bg-white-100 dark:bg-gray-950 rounded-2xl p-4 flex flex-col gap-3",children:[(0,l.jsx)("div",{className:M()("flex rounded-2xl justify-between w-full items-center bg-gray-50 dark:bg-gray-900 gap-2 pl-4 h-[48px] p-[2px] border border-transparent transition-colors",v?"border-red-300":k||j?"focus-within:border-green-600":"border-[#FFC770]"),children:d?(0,l.jsx)(Y.Z,{width:71,height:24,containerClassName:"block !leading-none overflow-hidden rounded-lg"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex gap-1 w-full",children:[s&&(0,l.jsx)("span",{className:"dark:text-white-100 font-bold text-md",children:"$"}),(0,l.jsx)("input",{type:"number",className:"bg-transparent outline-none w-full text-left dark:text-white-100 placeholder:font-bold placeholder:text-md placeholder:text-gray-600 dark:placeholder:text-gray-400 font-bold text-md",placeholder:"0",value:s?y:r,onChange:e=>w(e.target.value)})]}),(0,l.jsxs)("button",{className:"flex justify-end items-center gap-2 shrink-0 py-2 pr-2",onClick:m,children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("img",{src:(null==o?void 0:o.img)??b,className:"w-[24px] h-[24px] rounded-full",onError:(0,q._)(b)}),x?(0,l.jsx)("img",{src:(null===(a=f[x])||void 0===a?void 0:a.chainSymbolImageUrl)??b,className:"w-[14px] h-[14px] rounded-full absolute bottom-[-2px] right-[-2px]",onError:(0,q._)(b)}):null]}),(0,l.jsxs)("p",{className:M()("dark:text-white-100 text-sm font-bold",{"flex flex-col justify-between items-start text-xs border-r border-gray-800 pl-1 pr-2":!!x}),children:[(null==o?void 0:o.symbol)?(0,n.MDB)((null==o?void 0:o.symbol)??"",4,4):"Select Token",x?(0,l.jsx)("span",{className:"text-gray-400 font-medium mt[-4px]",children:(null===(t=f[x])||void 0===t?void 0:t.chainName)??"Unknown"}):null]}),(0,l.jsx)(U.p,{size:14,className:"dark:text-white-100"})]})]})}),(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between text-gray-200 text-xs font-medium w-full h-[24px]",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[""!==r&&(0,l.jsx)("span",{className:"text-gray-800 dark:text-gray-200 font-normal text-xs",children:s?I:D}),(0,l.jsxs)("button",{disabled:O,onClick:H,className:M()("rounded-full h-6 bg-gray-50 dark:bg-gray-900 items-center flex gap-1 justify-center",{"opacity-50 pointer-events-none":O,"w-6":""!==r,"px-[10px]":""===r}),children:[""===r&&(0,l.jsxs)("span",{className:"text-gray-800 dark:text-gray-200 font-normal text-xs",children:["Switch to ",s?"Token":"USD"]}),(0,l.jsx)(G.m,{size:12,className:"text-black-100 dark:text-white-100 !leading-[12px] rotate-90"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,l.jsxs)("span",{className:M()({"text-red-400 dark:text-red-300":(v||"").includes("Insufficient balance"),"text-gray-600 dark:text-gray-400":!v}),children:["Bal:"," ",c&&"success"!==c?(0,l.jsx)(Y.Z,{width:50}):A]}),Z&&(0,l.jsx)("button",{onClick:()=>{if(s){if(!S)throw"USD price is not available";w(new(E())((null==o?void 0:o.amount)??"0").multipliedBy(S).toString())}else{let e=!!f[h].nativeDenoms[(null==o?void 0:o.coinMinimalDenom)??""],a=(null==o?void 0:o.coinDecimals)||6;if(!N||!C)return;if(e){let e=parseFloat(N[C]);new(E())((null==o?void 0:o.amount)??0).isGreaterThan(new(E())(e))?w(new(E())((null==o?void 0:o.amount)??0).minus(new(E())(e)).toFixed(a,E().ROUND_DOWN)):w(new(E())((null==o?void 0:o.amount)??0).toFixed(a,E().ROUND_DOWN))}else w(new(E())((null==o?void 0:o.amount)??0).toFixed(a,E().ROUND_DOWN))}},className:"rounded-full bg-[#29A87433] py-1 px-[10px] font-medium text-xs text-green-600",children:"Max"})]})]})]},A)}),ee=(0,g.Pi)(e=>{let{isAllAssetsLoading:a,rootBalanceStore:t,rootDenomsStore:s,rootCW20DenomsStore:i,rootERC20DenomsStore:r,evmBalanceStore:d}=e,c=(0,p.useRef)(null),u=(0,b.TH)().state,h=(0,m.a7)(),g=(0,v.pb)(),[f,y]=(0,p.useState)(!1),[w,k]=(0,p.useState)(""),[j,N]=(0,p.useState)(!1),E=T.w.useGetWallet(),{addressLinkState:D}=(0,n.uaF)(E),{snip20Tokens:Z}=(0,n.r4i)(),O=i.allCW20Denoms,H=r.allERC20Denoms,L=(0,p.useCallback)(e=>!!e&&Object.keys(O).includes(e.coinMinimalDenom),[O]),_=(0,x.Z)().get("assetCoinDenom")??void 0,P=(0,x.Z)().get("chainId")??void 0,{inputAmount:F,setInputAmount:B,selectedToken:W,setSelectedToken:R,sendActiveChain:V,selectedChain:U,setSelectedChain:G,setAmountError:K,amountError:Q,userPreferredGasPrice:Y,userPreferredGasLimit:X,gasEstimate:q,selectedAddress:ee,fee:ea,feeDenom:et,sameChain:el,setFeeDenom:en,addressWarning:es,setGasError:ei,associatedSeiAddress:er,isSeiEvmTransaction:eo,hasToUsePointerLogic:ed}=z(),ec=(0,n.uVs)(V),eu=(0,n._ty)(),em=d.evmBalance;(0,p.useEffect)(()=>{var e,a,t,l;let n=null===(a=w.split("."))||void 0===a?void 0:null===(e=a[1])||void 0===e?void 0:e.length,s=(null==W?void 0:W.coinDecimals)??6;if(n>s){;B((t=Number(w),(Math.floor(t*Math.pow(10,l=s))/Math.pow(10,l)).toFixed(l)))}else B(w)},[w,null==W?void 0:W.coinDecimals]);let ev=(0,p.useMemo)(()=>ee&&(0,C.cSx)(ee.address??"","secret"),[ee]),eh=t.allSpendableTokens,ex=(0,p.useMemo)(()=>{var e;let a=eh;return Z&&ev&&(a=[...a,...Z]),h!==A.HW&&(0,n.hI9)(ec,D,(null==g?void 0:null===(e=g[V])||void 0===e?void 0:e.evmOnlyChain)??!1)&&(a=[...a,...em.evmBalance??[]].filter(e=>new S.BigNumber(e.amount).gt(0))),h===A.HW?a.sort((e,a)=>Number(a.usdValue)-Number(e.usdValue)):a},[h,D,eh,g,em.evmBalance,ev,ec,V,Z]),eg=(0,p.useMemo)(()=>{var e;let t=!1===a;return(0,n.hI9)(ec,D,(null==g?void 0:null===(e=g[V])||void 0===e?void 0:e.evmOnlyChain)??!1)&&(t=t&&"success"===em.status),t},[D,g,em.status,a,ec,V]),ef=(0,p.useCallback)(e=>{if(R(e),h===A.HW?G(null==e?void 0:e.tokenBalanceOnChain):G(null),e&&(null==e?void 0:e.isEvm)&&en({coinMinimalDenom:e.coinMinimalDenom,coinDecimals:e.coinDecimals??6,coinDenom:e.symbol,icon:e.img,coinGeckoId:e.coinGeckoId??"",chain:e.chain??""}),e&&h===A.HW){var a,t;let l=(null===(a=Object.values(null===(t=g[e.tokenBalanceOnChain])||void 0===t?void 0:t.nativeDenoms))||void 0===a?void 0:a[0])||e;en({coinMinimalDenom:l.coinMinimalDenom,coinDecimals:l.coinDecimals??6,coinDenom:l.coinDenom||e.symbol,icon:l.icon||e.img,coinGeckoId:l.coinGeckoId??"",chain:l.chain??""})}},[en,R,h]);return(0,p.useEffect)(()=>{!W&&!_&&eg&&(u&&u.coinMinimalDenom?ef(u):ex.length>0&&ef(ex.filter(e=>new S.BigNumber(e.amount).gt(0))[0]))},[ex,u,eg,W,ef,_]),(0,p.useEffect)(()=>{"done"===D&&W&&(null==W?void 0:W.isEvm)&&ef(ex.filter(e=>new S.BigNumber(e.amount).gt(0))[0])},[D,ex,W,ef]),(0,p.useEffect)(()=>{_?ef(ex.find(e=>e.ibcDenom===_||e.coinMinimalDenom===_)||null):P&&ef(ex.find(e=>new S.BigNumber(e.amount).gt(0))||null)},[P,_,h,ex,ef]),(0,p.useEffect)(()=>{if("link"===es.type){B("0.0001");return}},[es]),(0,p.useEffect)(()=>{K((()=>{var e,a,t;if(ec&&W&&(null==ee?void 0:null===(a=ee.address)||void 0===a?void 0:null===(e=a.toLowerCase())||void 0===e?void 0:e.startsWith("0x"))&&!(0,n.kjy)(Object.keys(H),W.coinMinimalDenom)&&"usei"!==W.coinMinimalDenom){if(er||ed)return"";if(!er)return"You can only send this token to a SEI address and not an EVM address."}if((null==ee?void 0:ee.address)&&!el&&W&&L(W))return"IBC transfers are not supported for cw20 tokens.";if(""===F)return"";if(isNaN(Number(F)))return"Please enter a valid amount";if(new S.BigNumber(F).lt(0))return"Please enter a positive amount";if(new S.BigNumber(F).gt(new S.BigNumber((null==W?void 0:W.amount)??"")))return"Insufficient balance";let l=ex.find(e=>(null==W?void 0:W.isEvm)&&(null==e?void 0:e.isEvm)?e.coinMinimalDenom===(null==et?void 0:et.coinMinimalDenom):e.ibcDenom===et.coinMinimalDenom||e.coinMinimalDenom===et.coinMinimalDenom);if(!ea||!Y||!l)return"";let{amount:s}=(0,I.X$)({gasPrice:Y.amount.toFloatApproximation(),gasLimit:X??q,feeDenom:et,gasAdjustment:eu,isSeiEvmTransaction:eo||(null==g?void 0:null===(t=g[V])||void 0===t?void 0:t.evmOnlyChain)});if(s.gt(l.amount))return"Insufficient funds for fees."})())},[ex,null==ea?void 0:ea.amount,null==et?void 0:et.coinMinimalDenom,F,W,ee,eu,ec,er,eo,V,g,H,ed]),(0,l.jsxs)(o.E.div,{className:M()({"opacity-50 pointer-events-none":"link"===es.type}),style:{overflow:"hidden"},children:[(0,l.jsx)(J,{isInputInUSDC:j,setIsInputInUSDC:N,value:w,token:W,loadingAssets:!eg,balanceStatus:a,onChange:e=>k(e),onTokenSelectSheet:()=>y(!0),amountError:Q,sendActiveChain:V,selectedChain:U}),(0,l.jsx)($,{denoms:s.allDenoms,isOpen:f,assets:ex,selectedToken:W,onClose:()=>{y(!1)},onTokenSelect:e=>{var a;ef(e),ei(""),k(""),null===(a=c.current)||void 0===a||a.focus()}})]})});ee.displayName="AmountCard";var ea=t("59725"),et=t("71769"),el=t("36906"),en=t("69816"),es=t("71603"),ei=t("34844"),er=t("45514"),eo=t("11868"),ed=t("72465"),ec=t("69332"),eu=t("71517"),em=t("19623"),ev=t("6202"),eh=t("46103"),ex=t("50292");let eg=e=>{let{targetChain:a,onAddComplete:t}=e,[s,i]=(0,p.useState)(""),[r,o]=(0,p.useState)("idle"),[d,c]=(0,p.useState)(""),{sendActiveChain:u}=z(),m=(0,n.jaG)({targetChain:a}),{chains:v}=(0,n._IL)(),h=v[u],x=(0,p.useCallback)(async e=>{o("loading");try{let a=await m(e);a.success?(t(a.channel),i(""),o("success")):o("error"),c(a.message)}catch(e){o("error"),c("Something went wrong")}},[m,t]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{type:"number",value:s,placeholder:"Source channel ID",className:"w-full h-12 rounded-2xl px-4 py-1 font-medium placeholder:text-gray-600 dark:placeholder:text-gray-400 placeholder:text-left text-right text-black-100 dark:text-white-100 outline-none border border-[transparent] focus-within:border-green-600 bg-gray-50 dark:bg-gray-900",onChange:e=>{i(e.target.value),"error"===r&&(o("idle"),c(""))},onKeyUp:()=>x(s)}),(0,l.jsxs)("p",{className:"text-xs mt-2 dark:text-gray-400 text-gray-600",children:["You can enter ",(0,l.jsx)("span",{className:"font-medium dark:text-gray-200 text-gray-800",children:"24"})," for"," ",(0,l.jsx)("span",{className:"font-medium dark:text-gray-200 text-gray-800",children:"channel-24"})," on"," ",h.chainName]}),"error"===r?(0,l.jsx)("p",{className:"text-xs mt-2 text-red-300 font-medium",children:d}):null,"success"===r?(0,l.jsx)("p",{className:"text-xs mt-2 text-green-300 font-medium",children:d}):null]})},ef=e=>{var a;let{targetChain:t,sourceChain:i}=e,[r,o]=(0,p.useState)(!1),[d,c]=(0,p.useState)(null),[u,m]=(0,p.useState)(!1),[v,h]=(0,p.useState)(!1),[x,g]=(0,p.useState)(),{chains:f}=(0,n._IL)(),b=f[i],y=f[t],w=(0,n.zkP)(),{data:k,status:j}=(0,n.Zob)(i,t),{transferData:N,setIsIbcUnwindingDisabled:C,customIbcChannelId:S,setCustomIbcChannelId:E}=z(),D=(0,p.useMemo)(()=>(null==N?void 0:N.isSkipTransfer)&&(null==N?void 0:N.routeResponse)?{...null==N?void 0:N.routeResponse,messages:null==N?void 0:N.messages}:{operations:[],messages:[],sourceAsset:{denom:null}},[null==N?void 0:N.isSkipTransfer,null==N?void 0:N.messages,null==N?void 0:N.routeResponse]),{groupedTransactions:I}=(0,ea.nC)(D),A=[];null===(a=Object.values(I))||void 0===a||a.forEach((e,a)=>{e.forEach((e,t)=>{0==a&&0==t&&A.push(e.sourceChain),A.push(e.destinationChain)})}),(0,p.useEffect)(()=>{"success"===j?c(k):"error"===j&&c(void 0)},[k,j]);let T=(0,p.useCallback)(()=>{o(e=>!e)},[o]),Z=(0,p.useCallback)(e=>{e===x&&void 0!==x?g(void 0):g(e)},[x,g]),O=(0,p.useMemo)(()=>w.filter(e=>{let{counterPartyChain:a}=e;return a===t}).map(e=>{let{channelId:a}=e;return{title:a,subTitle:"Custom channel",value:a}}).sort((e,a)=>e.title.localeCompare(a.title)),[w,t]),H=(0,p.useMemo)(()=>d?[{title:d,subTitle:"Prefetched from Cosmos directory registry",value:d},...O]:O,[O,d]),L=H.length>0,_=(0,p.useCallback)(()=>{L&&(h(e=>!e),g(void 0))},[L,h]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:M()("p-4 rounded-2xl bg-red-100 dark:bg-red-900 items-center flex gap-2",{"bg-orange-200 dark:bg-orange-900":S}),children:[S?(0,l.jsx)(el.k,{size:16,className:M()("text-[#FFB33D] dark:text-orange-300 self-start")}):(0,l.jsx)(et.v,{size:16,className:M()("text-red-400 dark:text-red-300 self-start")}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)(en.Z,{size:"xs",className:"font-bold mb-2",children:S?"Unverified Channel":"No verified routes available."}),(0,l.jsx)(en.Z,{size:"xs",color:"text-gray-800 dark:text-gray-200",className:"font-medium",children:S||(L?"You can select channels from an unverified list to transfer.":"You can add a custom channel to transfer.")})]}),(0,l.jsx)("button",{title:`${L?"Select":"Add"} channel`,onClick:T,className:"text-xs font-bold text-black-100 bg-white-100 py-2 px-4 rounded-3xl",children:S?"Edit selection":L?"Select channel":"Add channel"})]}),(0,l.jsxs)(B.Z,{isOpen:r,onClose:()=>o(!1),title:"Advanced IBC Settings",closeOnBackdropClick:!0,containerClassName:"!max-panel-height",contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"p-6",children:[(0,l.jsxs)("div",{className:"p-4 rounded-2xl bg-gray-50 dark:bg-gray-900 justify-center items-center",children:[(0,l.jsxs)("div",{className:"flex items-center mb-4 justify-between",children:[(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,l.jsx)(en.Z,{className:"font-bold",children:"Select channels"}),(0,l.jsx)(ec.Z,{content:(0,l.jsxs)("p",{className:"text-gray-500 dark:text-gray-100 text-sm",children:["ID of the channel that will relay your tokens from ",b.chainName," ","to ",null==y?void 0:y.chainName,"."]}),children:(0,l.jsx)("div",{className:"relative flex",children:(0,l.jsx)(er.H,{size:20,className:"text-gray-600 dark:text-gray-400"})})})]}),(0,l.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-850 rounded-3xl px-[10px] py-1 flex gap-1 items-center cursor-pointer",onClick:_,children:[!v&&L?(0,l.jsx)(eo.F,{size:16,weight:"bold",className:"text-black-100 dark:text-white-100"}):(0,l.jsx)(ed.S,{size:16,weight:"bold",className:"text-black-100 dark:text-white-100"}),(0,l.jsx)(en.Z,{size:"xs",className:"font-medium",children:"Add Channel"})]})]}),(0,l.jsx)("div",{className:"bg-gray-100 dark:bg-gray-850 rounded-2xl p-4 gap-4",children:!v&&L?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(en.Z,{size:"sm",className:"text-gray-800 dark:text-gray-200 font-bold capitalize",children:[b.chainName," to ",null==y?void 0:y.chainName," channels"]}),null===d?(0,l.jsx)("div",{className:"flex justify-center items-center my-3",children:(0,l.jsx)(em.T,{color:"white"})}):(0,l.jsx)(ev.Z,{themeColor:eh.w.green600,options:H,onChange:Z,selectedOption:x})]}):(0,l.jsx)(eg,{targetChain:t,onAddComplete:Z})})]}),(0,l.jsxs)("div",{className:"p-4 rounded-2xl bg-red-100 dark:bg-red-900 my-4",children:[(0,l.jsxs)("div",{className:"items-center flex gap-2",children:[(0,l.jsx)(et.v,{size:24,weight:"bold",className:"text-red-400 dark:text-red-300 self-start"}),(0,l.jsx)(en.Z,{size:"sm",className:"font-bold mb-2",children:"Sending via unverified channel."})]}),(0,l.jsxs)("div",{className:"items-start flex gap-2",children:[(0,l.jsx)("div",{className:"ml-[1px]",children:(0,l.jsx)(eu.X,{checked:u,onClick:()=>m(e=>!e)})}),(0,l.jsx)(en.Z,{size:"xs",color:"text-gray-800 dark:text-gray-200",className:"font-medium",children:"Usability of tokens sent via unverified channels is not guaranteed. I understand and wish to proceed."})]})]}),(0,l.jsx)(s.Buttons.Generic,{color:(0,ex.l)()?eh.w.compassPrimary:eh.w.green600,size:"normal",className:"w-full",title:"Proceed",disabled:!u||!x,onClick:()=>{C(!0),o(!1),E(x)},children:"Proceed"})]})]})},ep=function(){var e,a,t;let[s,i]=(0,p.useState)(null),{amountError:r,addressError:o,pfmEnabled:d,setPfmEnabled:c,transferData:u,isCexIbcTransferWarningNeeded:m,isIbcUnwindingDisabled:h,setSelectedAddress:x,selectedAddress:g,selectedToken:f,customIbcChannelId:b,sendActiveChain:y}=z(),w=(0,n.SFn)(y),k=(0,ei.G)(),{chains:j}=(0,n._IL)(),N=(0,n.tIw)(),S=(0,p.useMemo)(()=>{if(f&&f.usdPrice&&"0"!==f.usdPrice)return f.usdPrice},[f]),D=(0,p.useMemo)(()=>!S||new(E())(S??0).isLessThan(1e-6),[S]),M=(0,v.pb)(),I=(0,es.ZP)().activeWallet,A=null===(e=Object.values(M).find(e=>e.chainId===(null==s?void 0:s.chainId)))||void 0===e?void 0:e.key,T=null==I?void 0:null===(a=I.addresses)||void 0===a?void 0:a[A],Z=(0,n.uVs)(),{data:O}=(0,ea.Uj)();(0,p.useEffect)(()=>{if((null==u?void 0:u.isSkipTransfer)&&(null==u?void 0:u.routeResponse)){var e;let a=null==u?void 0:null===(e=u.messages)||void 0===e?void 0:e[1],t=null==O?void 0:O.find(e=>{var t;return e.chainId===(null==a?void 0:null===(t=a.multi_chain_msg)||void 0===t?void 0:t.chain_id)});i((null==t?void 0:t.addressPrefix)==="sei"?{...t,addressPrefix:"seiTestnet2"}:t),c((null==t?void 0:t.pfmEnabled)!==!1)}else i(null),c(!0);return()=>{c(!0)}},[O,null==u?void 0:u.isSkipTransfer,null==u?void 0:u.routeResponse,null==u?void 0:u.messages]);let H=(0,p.useMemo)(()=>{var e,a;return Z&&(null==g?void 0:null===(e=g.address)||void 0===e?void 0:e.toLowerCase().startsWith("0x"))?k[0].toLowerCase()===(null==g?void 0:null===(a=g.address)||void 0===a?void 0:a.toLowerCase()):w===(null==g?void 0:g.address)},[w,Z,null==g?void 0:g.address,k]),L=(r||"").includes("IBC transfers are not supported"),_=(r||"").includes("You can only send this token to a SEI address");return L||_?(0,l.jsxs)("div",{className:"p-4 rounded-2xl bg-red-100 dark:bg-red-900 items-center flex gap-2",children:[(0,l.jsx)(et.v,{size:24,className:"text-red-400 dark:text-red-300"}),(0,l.jsx)(en.Z,{size:"xs",className:"font-medium",children:r})]}):(o||"").includes("IBC transfers are not supported")||b?(0,l.jsx)(ef,{targetChain:null===(t=(()=>{if(!(null==g?void 0:g.address))return null;let e=(0,C.z_q)(g.address);if(!e)return null;let a=N[e];return a?j[a]:null})())||void 0===t?void 0:t.key,sourceChain:y}):d||h?H?(0,l.jsxs)("div",{className:"p-4 rounded-2xl bg-orange-200 dark:bg-orange-900 items-center flex gap-2",children:[(0,l.jsx)(el.k,{size:16,className:"text-[#FFB33D] dark:text-orange-300 self-start"}),(0,l.jsx)(en.Z,{size:"xs",className:"font-medium",children:"You're transferring funds to the same address within your own wallet"})]}):D&&(null==f?void 0:f.chain)?(0,l.jsxs)("div",{className:"py-3 px-4 rounded-2xl bg-orange-200 dark:bg-orange-900 items-center flex gap-2",children:[(0,l.jsx)(et.v,{size:16,className:"text-[#FFB33D] dark:text-orange-300 self-start"}),(0,l.jsx)(en.Z,{size:"xs",className:"font-medium",children:"USD value cannot be calculated for this transaction"})]}):m?(0,l.jsxs)("div",{className:"py-3 px-4 rounded-2xl bg-orange-200 dark:bg-orange-900 items-center flex gap-2",children:[(0,l.jsx)(et.v,{size:16,className:"text-[#FFB33D] dark:text-orange-300 self-start"}),(0,l.jsx)(en.Z,{size:"xs",className:"font-medium",children:"Avoid transferring IBC tokens to centralised exchanges."})]}):null:(0,l.jsxs)("div",{className:"p-4 rounded-2xl bg-orange-200 dark:bg-orange-900 items-center flex gap-2",children:[(0,l.jsx)(el.k,{size:16,className:"text-[#FFB33D] dark:text-orange-300 self-start"}),(0,l.jsxs)(en.Z,{size:"xs",className:"flex-1 font-medium",children:["You will have to send this token to ",null==s?void 0:s.chainName," first to able to use it."]}),(0,l.jsx)("button",{title:"Autofill address",onClick:()=>{x({address:T,name:(null==T?void 0:T.slice(0,5))+"..."+(null==T?void 0:T.slice(-5)),avatarIcon:null==s?void 0:s.icon,emoji:void 0,chainIcon:null==s?void 0:s.icon,chainName:null==s?void 0:s.addressPrefix,selectionType:"notSaved",information:{autofill:!0}})},className:"text-xs font-bold text-black-100 bg-white-100 py-2 px-4 rounded-3xl",children:"Autofill address"})]})},eb=()=>{var e;let{memo:a,setMemo:t,addressWarning:s,sendActiveChain:i}=z(),r=(0,n.DI5)();return(0,C.KPM)(i)||(null==r?void 0:null===(e=r[i])||void 0===e?void 0:e.evmOnlyChain)||C.Dr3.includes(i)?null:(0,l.jsxs)("div",{className:M()("p-4 rounded-2xl bg-white-100 dark:bg-gray-950",{"opacity-50 pointer-events-none":"link"===s.type}),children:[(0,l.jsx)("p",{className:"font-bold text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Memo"}),(0,l.jsx)("input",{type:"text",value:a,placeholder:"Required for CEX transfers...",className:"w-full h-10 rounded-xl px-4 py-2 font-medium text-xs placeholder:text-gray-600 dark:placeholder:text-gray-400 text-black-100 dark:text-white-100 outline-none border border-[transparent] focus-within:border-green-600 bg-gray-50 dark:bg-gray-900",onChange:e=>{var a;return t(null===(a=e.target)||void 0===a?void 0:a.value)}})]})};var ey=t("6806");let ew=new Map([["bold",p.createElement(p.Fragment,null,p.createElement("path",{d:"M208,20H64A20,20,0,0,0,44,40V60H32a12,12,0,0,0,0,24H44v32H32a12,12,0,0,0,0,24H44v32H32a12,12,0,0,0,0,24H44v20a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V40A20,20,0,0,0,208,20Zm-4,192H68V44H204ZM100.8,171.37a48,48,0,0,1,70.4,0,12,12,0,0,0,17.6-16.32,72,72,0,0,0-19.21-14.68,44,44,0,1,0-67.19,0,72.12,72.12,0,0,0-19.2,14.68,12,12,0,0,0,17.6,16.32ZM116,112a20,20,0,1,1,20,20A20,20,0,0,1,116,112Z"}))],["duotone",p.createElement(p.Fragment,null,p.createElement("path",{d:"M208,32H64a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H208a8,8,0,0,0,8-8V40A8,8,0,0,0,208,32ZM136,144a32,32,0,1,1,32-32A32,32,0,0,1,136,144Z",opacity:"0.2"}),p.createElement("path",{d:"M83.19,174.4a8,8,0,0,0,11.21-1.6,52,52,0,0,1,83.2,0,8,8,0,1,0,12.8-9.6A67.88,67.88,0,0,0,163,141.51a40,40,0,1,0-53.94,0A67.88,67.88,0,0,0,81.6,163.2,8,8,0,0,0,83.19,174.4ZM112,112a24,24,0,1,1,24,24A24,24,0,0,1,112,112Zm96-88H64A16,16,0,0,0,48,40V64H32a8,8,0,0,0,0,16H48v40H32a8,8,0,0,0,0,16H48v40H32a8,8,0,0,0,0,16H48v24a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V40A16,16,0,0,0,208,24Zm0,192H64V40H208Z"}))],["fill",p.createElement(p.Fragment,null,p.createElement("path",{d:"M160,112a24,24,0,1,1-24-24A24,24,0,0,1,160,112Zm64-72V216a16,16,0,0,1-16,16H64a16,16,0,0,1-16-16V192H32a8,8,0,0,1,0-16H48V136H32a8,8,0,0,1,0-16H48V80H32a8,8,0,0,1,0-16H48V40A16,16,0,0,1,64,24H208A16,16,0,0,1,224,40ZM190.4,163.2A67.88,67.88,0,0,0,163,141.51a40,40,0,1,0-53.94,0A67.88,67.88,0,0,0,81.6,163.2a8,8,0,1,0,12.8,9.6,52,52,0,0,1,83.2,0,8,8,0,1,0,12.8-9.6Z"}))],["light",p.createElement(p.Fragment,null,p.createElement("path",{d:"M159.11,142.13a38,38,0,1,0-46.22,0A65.75,65.75,0,0,0,83.2,164.4a6,6,0,0,0,9.6,7.2,54,54,0,0,1,86.4,0,6,6,0,0,0,9.6-7.2A65.75,65.75,0,0,0,159.11,142.13ZM110,112a26,26,0,1,1,26,26A26,26,0,0,1,110,112Zm98-86H64A14,14,0,0,0,50,40V66H32a6,6,0,0,0,0,12H50v44H32a6,6,0,0,0,0,12H50v44H32a6,6,0,0,0,0,12H50v26a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V40A14,14,0,0,0,208,26Zm2,190a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V40a2,2,0,0,1,2-2H208a2,2,0,0,1,2,2Z"}))],["regular",p.createElement(p.Fragment,null,p.createElement("path",{d:"M83.19,174.4a8,8,0,0,0,11.21-1.6,52,52,0,0,1,83.2,0,8,8,0,1,0,12.8-9.6A67.88,67.88,0,0,0,163,141.51a40,40,0,1,0-53.94,0A67.88,67.88,0,0,0,81.6,163.2,8,8,0,0,0,83.19,174.4ZM112,112a24,24,0,1,1,24,24A24,24,0,0,1,112,112Zm96-88H64A16,16,0,0,0,48,40V64H32a8,8,0,0,0,0,16H48v40H32a8,8,0,0,0,0,16H48v40H32a8,8,0,0,0,0,16H48v24a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V40A16,16,0,0,0,208,24Zm0,192H64V40H208Z"}))],["thin",p.createElement(p.Fragment,null,p.createElement("path",{d:"M154.7,142.75a36,36,0,1,0-37.4,0A63.61,63.61,0,0,0,84.8,165.6a4,4,0,0,0,6.4,4.8,56,56,0,0,1,89.6,0,4,4,0,0,0,6.4-4.8A63.65,63.65,0,0,0,154.7,142.75ZM108,112a28,28,0,1,1,28,28A28,28,0,0,1,108,112ZM208,28H64A12,12,0,0,0,52,40V68H32a4,4,0,0,0,0,8H52v48H32a4,4,0,0,0,0,8H52v48H32a4,4,0,0,0,0,8H52v28a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V40A12,12,0,0,0,208,28Zm4,188a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4H208a4,4,0,0,1,4,4Z"}))]]);var ek=Object.defineProperty,ej=Object.defineProperties,eN=Object.getOwnPropertyDescriptors,eC=Object.getOwnPropertySymbols,eS=Object.prototype.hasOwnProperty,eE=Object.prototype.propertyIsEnumerable,eD=(e,a,t)=>a in e?ek(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,eM=(e,a)=>{for(var t in a||(a={}))eS.call(a,t)&&eD(e,t,a[t]);if(eC)for(var t of eC(a))eE.call(a,t)&&eD(e,t,a[t]);return e},eI=(e,a)=>ej(e,eN(a));let eA=(0,p.forwardRef)((e,a)=>p.createElement(ey.Z,eI(eM({ref:a},e),{weights:ew})));eA.displayName="AddressBook";var eT=t("14863");let eZ=new Map([["bold",p.createElement(p.Fragment,null,p.createElement("path",{d:"M256,136a12,12,0,0,1-12,12h-8v8a12,12,0,0,1-24,0v-8h-8a12,12,0,0,1,0-24h8v-8a12,12,0,0,1,24,0v8h8A12,12,0,0,1,256,136Zm-54.81,56.28a12,12,0,1,1-18.38,15.44C169.12,191.42,145,172,108,172c-28.89,0-55.46,12.68-74.81,35.72a12,12,0,0,1-18.38-15.44A124.08,124.08,0,0,1,63.5,156.53a72,72,0,1,1,89,0A124,124,0,0,1,201.19,192.28ZM108,148a48,48,0,1,0-48-48A48.05,48.05,0,0,0,108,148Z"}))],["duotone",p.createElement(p.Fragment,null,p.createElement("path",{d:"M168,100a60,60,0,1,1-60-60A60,60,0,0,1,168,100Z",opacity:"0.2"}),p.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136Zm-57.87,58.85a8,8,0,0,1-12.26,10.3C165.75,181.19,138.09,168,108,168s-57.75,13.19-77.87,37.15a8,8,0,0,1-12.25-10.3c14.94-17.78,33.52-30.41,54.17-37.17a68,68,0,1,1,71.9,0C164.6,164.44,183.18,177.07,198.13,194.85ZM108,152a52,52,0,1,0-52-52A52.06,52.06,0,0,0,108,152Z"}))],["fill",p.createElement(p.Fragment,null,p.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136ZM144,157.68a68,68,0,1,0-71.9,0c-20.65,6.76-39.23,19.39-54.17,37.17A8,8,0,0,0,24,208H192a8,8,0,0,0,6.13-13.15C183.18,177.07,164.6,164.44,144,157.68Z"}))],["light",p.createElement(p.Fragment,null,p.createElement("path",{d:"M254,136a6,6,0,0,1-6,6H230v18a6,6,0,0,1-12,0V142H200a6,6,0,0,1,0-12h18V112a6,6,0,0,1,12,0v18h18A6,6,0,0,1,254,136Zm-57.41,60.14a6,6,0,1,1-9.18,7.72C166.9,179.45,138.69,166,108,166s-58.89,13.45-79.41,37.86a6,6,0,0,1-9.18-7.72C35.14,177.41,55,164.48,77,158.25a66,66,0,1,1,62,0C161,164.48,180.86,177.41,196.59,196.14ZM108,154a54,54,0,1,0-54-54A54.06,54.06,0,0,0,108,154Z"}))],["regular",p.createElement(p.Fragment,null,p.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136Zm-57.87,58.85a8,8,0,0,1-12.26,10.3C165.75,181.19,138.09,168,108,168s-57.75,13.19-77.87,37.15a8,8,0,0,1-12.25-10.3c14.94-17.78,33.52-30.41,54.17-37.17a68,68,0,1,1,71.9,0C164.6,164.44,183.18,177.07,198.13,194.85ZM108,152a52,52,0,1,0-52-52A52.06,52.06,0,0,0,108,152Z"}))],["thin",p.createElement(p.Fragment,null,p.createElement("path",{d:"M252,136a4,4,0,0,1-4,4H228v20a4,4,0,0,1-8,0V140H200a4,4,0,0,1,0-8h20V112a4,4,0,0,1,8,0v20h20A4,4,0,0,1,252,136Zm-56.94,61.43a4,4,0,0,1-6.12,5.14C168,177.7,139.3,164,108,164s-60,13.7-80.94,38.57a4,4,0,1,1-6.12-5.14c16.71-19.9,38.13-33.13,61.89-38.59a64,64,0,1,1,50.34,0C156.93,164.3,178.35,177.53,195.06,197.43ZM108,156a56,56,0,1,0-56-56A56.06,56.06,0,0,0,108,156Z"}))]]);var eO=Object.defineProperty,eH=Object.defineProperties,eL=Object.getOwnPropertyDescriptors,e_=Object.getOwnPropertySymbols,eP=Object.prototype.hasOwnProperty,eF=Object.prototype.propertyIsEnumerable,ez=(e,a,t)=>a in e?eO(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,eB=(e,a)=>{for(var t in a||(a={}))eP.call(a,t)&&ez(e,t,a[t]);if(e_)for(var t of e_(a))eF.call(a,t)&&ez(e,t,a[t]);return e},eW=(e,a)=>eH(e,eL(a));let eR=(0,p.forwardRef)((e,a)=>p.createElement(ey.Z,eW(eB({ref:a},e),{weights:eZ})));eR.displayName="UserPlus";var eV=t("66534"),e$=t("99232"),eU=t("11081"),eG=t("98851"),eK=t("46372"),eQ=t("53221"),eY=t("86411"),eX=t("71198"),eq=t("46836"),eJ=t("114"),e0=t("85763");let e1=()=>(0,l.jsxs)("div",{className:"flex px-2 py-2 min-w-[344px] z-0",children:[(0,l.jsx)("div",{className:"w-10 ",children:(0,l.jsx)(Y.Z,{circle:!0,className:"w-10 h-10",style:{zIndex:0}})}),(0,l.jsxs)("div",{className:"w-[250px] z-0 ml-2",children:[(0,l.jsx)(Y.Z,{count:1,className:"z-0"}),(0,l.jsx)(Y.Z,{count:1,className:"z-0"})]})]}),e2=e=>{let{address:a,handleContactSelect:t}=e,{sendSelectedNetwork:i}=z(),r=(0,v.pb)(),[o,d]=(0,eq.A)(a,i),c=(0,p.useMemo)(()=>Object.entries(d).filter(e=>{let[,a]=e;return a}),[d]);return(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)(en.Z,{size:"sm",className:"text-gray-600 dark:text-gray-200",children:['"',a,'" from different name services']}),o?(0,l.jsxs)("div",{className:"space-y-1 mt-2",children:[(0,l.jsx)(e1,{}),(0,l.jsx)(e1,{}),(0,l.jsx)(e1,{})]}):(0,l.jsx)(l.Fragment,{children:c&&c.length>0?(0,l.jsx)("ul",{className:"list-none space-y-2 mt-2 max-h-[180px] overflow-y-auto",children:c.map(e=>{let[i,o]=e,d=eG.r.Logos.getNameServiceLogo(i),c=e0.$.getChainKey(o);return(0,l.jsxs)("li",{className:`flex items-center ml-0 py-1 ${o?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>{o&&t({avatarIcon:d,chainIcon:c?r[c].chainSymbolImageUrl??eJ.GenericLight:eJ.GenericLight,chainName:c?r[c].chainName:"Chain",name:a,address:o,emoji:void 0,selectionType:"nameService",information:{nameService:eq.L[i]}})},children:[(0,l.jsx)(s.Avatar,{avatarImage:d,size:"sm",className:"mr-2 rounded-full overflow-hidden"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(en.Z,{size:"md",color:"text-gray-800 dark:text-gray-100",children:eq.L[i]}),(0,l.jsx)(en.Z,{size:"sm",color:"text-gray-600 dark:text-gray-400",children:o?(0,n.Hnh)(o):"Not Found"})]})]},i)})}):(0,l.jsx)("p",{className:"text-sm font-bold text-red-300 mt-2",children:"No results found in any name service"})})]})};var e8=t("26793"),e4=t("89187");let e6=e=>(e-1)%20+(e>=1?0:20),e5=e=>(e+1)%20;function e3(e){var a,t;let{title:i="Save Contact",isOpen:r,onClose:o,address:d,ethAddress:c,onSave:u,sendActiveChain:v}=e,[h,x]=(0,p.useState)(""),[g,f]=(0,p.useState)(""),[b,y]=(0,p.useState)(1),[w,k]=(0,p.useState)(!1),[j,N]=(0,p.useState)(""),[S,E]=(0,p.useState)(!1),{setMemo:D}=z(),M=eK.o.useGetContact(d),{contacts:I,loading:A}=(0,eU.g)(),T=(0,n.tIw)(),Z=(0,Q.a)(),O=(0,p.useRef)(null),H=(0,n.DI5)(),L=(0,m.a7)(),_=(0,n.uVs)(),P=(0,p.useMemo)(()=>v??L,[v,L]),F=(0,p.useMemo)(()=>{try{var e;if((_||(null===(e=H[P])||void 0===e?void 0:e.evmOnlyChain))&&d.toLowerCase().startsWith("0x"))return P;let a=T[(0,C.z_q)(d)??""];if("cosmoshub"===a)return"cosmos";return a}catch(e){return(0,ex.l)()?"seiTestnet2":"cosmos"}},[P,d,T,H,_]);(0,p.useEffect)(()=>{M&&(f(M.name),y(M.emoji),x(M.memo??""),k((null==M?void 0:M.saveAsCEX)??!1))},[M]),(0,p.useEffect)(()=>{r&&O.current&&O.current.focus()},[r]);let W=async()=>{if(g&&!S){var e,a;E(!0),await eK.o.save({address:d,blockchain:F,emoji:b,name:g,memo:h,ethAddress:c,saveAsCEX:w}),D(h),null==u||u({ethAddress:c,address:d,chainIcon:(null===(e=H[F])||void 0===e?void 0:e.chainSymbolImageUrl)??Z??"",emoji:b,name:g,avatarIcon:"",chainName:null===(a=H[F])||void 0===a?void 0:a.chainName,selectionType:"saved"}),o(),E(!1)}};return(0,l.jsx)(B.Z,{title:i,onClose:o,isOpen:r,closeOnBackdropClick:!0,containerClassName:"!max-panel-height",contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"p-6",children:(0,l.jsxs)("form",{className:"flex flex-col items-center w-full gap-y-4",onSubmit:e=>{e.preventDefault(),W()},children:[(0,l.jsxs)("div",{className:"flex flex-col gap-y-4 w-full bg-gray-50 dark:bg-gray-900 rounded-2xl p-4 justify-center items-center",children:[(0,l.jsxs)("div",{className:"flex flex-row justify-center items-center gap-5",children:[(0,l.jsx)("div",{className:"p-1 bg-gray-100 dark:bg-gray-850 rounded-full cursor-pointer",onClick:()=>y(e6(b)),children:(0,l.jsx)(e8.W,{size:32,className:"text-black-100 dark:text-white-100"})}),(0,l.jsx)(s.Avatar,{size:"lg",chainIcon:(null===(a=H[F])||void 0===a?void 0:a.chainSymbolImageUrl)??Z,emoji:b??0}),(0,l.jsx)("div",{className:"p-1 bg-gray-100 dark:bg-gray-850 rounded-full cursor-pointer",onClick:()=>y(e5(b)),children:(0,l.jsx)(e4.T,{size:32,className:"text-black-100 dark:text-white-100"})})]}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-400 font-bold",children:(0,eX.Hn)(d)}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("div",{className:"w-full flex shrink relative justify-center",children:[(0,l.jsx)(s.Input,{placeholder:"Enter name",value:g,onChange:e=>{j&&N("");let a=e.target.value;a.length<24&&(a.length&&!A&&Object.values(I).some(e=>{let{name:t,address:l}=e;return l!==d&&t.trim().toLowerCase()===a.trim().toLowerCase()})&&N("Contact with same name already exists"),f(a))},ref:O,className:"h-12 rounded-xl placeholder:text-gray-600 dark:placeholder:text-gray-400 text-black-100 dark:text-white-100 outline-none border !border-[transparent] focus-within:!border-green-600 !bg-gray-100 dark:!bg-gray-850"}),(0,l.jsx)("div",{className:"absolute right-[16px] top-[14px] text-gray-400 text-sm font-medium",children:`${g.length}/24`})]}),j&&(0,l.jsx)(en.Z,{size:"xs",color:"text-red-300",className:"mt-2 ml-1 font-bold",children:j})]})]}),(null===(t=H[F])||void 0===t?void 0:t.evmOnlyChain)?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"p-4 rounded-2xl bg-gray-50 dark:bg-gray-900 w-full",children:[(0,l.jsx)("p",{className:"font-medium text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Add Memo"}),(0,l.jsx)("input",{type:"text",value:h,placeholder:"Required for CEX transfers...",className:"w-full h-10 rounded-xl px-4 py-2 font-medium text-sm placeholder:text-gray-600 dark:placeholder:text-gray-400 text-black-100 dark:text-white-100 outline-none border border-[transparent] focus-within:border-green-600 bg-gray-100 dark:bg-gray-850",onChange:e=>{var a;return x(null===(a=e.target)||void 0===a?void 0:a.value)}})]}),(0,l.jsxs)("div",{className:"flex gap-3 p-4 rounded-2xl bg-gray-50 dark:bg-gray-900 w-full",children:[(0,l.jsx)(eu.X,{checked:w,onClick:()=>k(e=>!e)}),(0,l.jsx)("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:"Save as Centralized Exchange Address"})]})]}),S?(0,l.jsx)(em.T,{color:eh.w.white100}):(0,l.jsx)(s.Buttons.Generic,{color:(0,ex.l)()?eh.w.compassPrimary:eh.w.green600,size:"normal",className:"w-full",disabled:!g||!!j,title:"Save contact",type:"submit",children:"Save contact"})]})})}let e9=e=>{let{leftIcon:a=null,onClick:t,children:n,className:s}=e;return(0,l.jsxs)("button",{className:M()(s,"flex gap-1 items-center rounded-full px-[10px] py-1 bg-gray-50 dark:bg-gray-900 focus:bg-gray-400 dark:focus:bg-gray-500 outline-none"),onClick:t,children:[a,(0,l.jsx)("span",{children:n})]})};var e7=t("65209");let ae=new Map([["bold",p.createElement(p.Fragment,null,p.createElement("path",{d:"M152,80a12,12,0,0,1,12-12h80a12,12,0,0,1,0,24H164A12,12,0,0,1,152,80Zm92,36H164a12,12,0,0,0,0,24h80a12,12,0,0,0,0-24Zm0,48H188a12,12,0,0,0,0,24h56a12,12,0,0,0,0-24Zm-88.38,25a12,12,0,1,1-23.24,6c-5.72-22.23-28.24-39-52.38-39s-46.66,16.76-52.38,39a12,12,0,1,1-23.24-6c5.38-20.9,20.09-38.16,39.11-48a52,52,0,1,1,73,0C135.53,150.85,150.24,168.11,155.62,189ZM80,132a28,28,0,1,0-28-28A28,28,0,0,0,80,132Z"}))],["duotone",p.createElement(p.Fragment,null,p.createElement("path",{d:"M120,104A40,40,0,1,1,80,64,40,40,0,0,1,120,104Z",opacity:"0.2"}),p.createElement("path",{d:"M152,80a8,8,0,0,1,8-8h88a8,8,0,0,1,0,16H160A8,8,0,0,1,152,80Zm96,40H160a8,8,0,0,0,0,16h88a8,8,0,0,0,0-16Zm0,48H184a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Zm-96.25,22a8,8,0,0,1-5.76,9.74,7.55,7.55,0,0,1-2,.26,8,8,0,0,1-7.75-6c-6.16-23.94-30.34-42-56.25-42s-50.09,18.05-56.25,42a8,8,0,0,1-15.5-4c5.59-21.71,21.84-39.29,42.46-48a48,48,0,1,1,58.58,0C129.91,150.71,146.16,168.29,151.75,190ZM80,136a32,32,0,1,0-32-32A32,32,0,0,0,80,136Z"}))],["fill",p.createElement(p.Fragment,null,p.createElement("path",{d:"M152,80a8,8,0,0,1,8-8h88a8,8,0,0,1,0,16H160A8,8,0,0,1,152,80Zm96,40H160a8,8,0,0,0,0,16h88a8,8,0,0,0,0-16Zm0,48H184a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16ZM109.29,142a48,48,0,1,0-58.58,0c-20.62,8.73-36.87,26.3-42.46,48A8,8,0,0,0,16,200H144a8,8,0,0,0,7.75-10C146.16,168.29,129.91,150.72,109.29,142Z"}))],["light",p.createElement(p.Fragment,null,p.createElement("path",{d:"M154,80a6,6,0,0,1,6-6h88a6,6,0,0,1,0,12H160A6,6,0,0,1,154,80Zm94,42H160a6,6,0,0,0,0,12h88a6,6,0,0,0,0-12Zm0,48H184a6,6,0,0,0,0,12h64a6,6,0,0,0,0-12Zm-98.19,20.5a6,6,0,1,1-11.62,3C131.7,168.29,107.23,150,80,150s-51.7,18.29-58.19,43.49a6,6,0,1,1-11.62-3c5.74-22.28,23-40.07,44.67-48a46,46,0,1,1,50.28,0C126.79,150.43,144.08,168.22,149.81,190.5ZM80,138a34,34,0,1,0-34-34A34,34,0,0,0,80,138Z"}))],["regular",p.createElement(p.Fragment,null,p.createElement("path",{d:"M152,80a8,8,0,0,1,8-8h88a8,8,0,0,1,0,16H160A8,8,0,0,1,152,80Zm96,40H160a8,8,0,0,0,0,16h88a8,8,0,0,0,0-16Zm0,48H184a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Zm-96.25,22a8,8,0,0,1-5.76,9.74,7.55,7.55,0,0,1-2,.26,8,8,0,0,1-7.75-6c-6.16-23.94-30.34-42-56.25-42s-50.09,18.05-56.25,42a8,8,0,0,1-15.5-4c5.59-21.71,21.84-39.29,42.46-48a48,48,0,1,1,58.58,0C129.91,150.71,146.16,168.29,151.75,190ZM80,136a32,32,0,1,0-32-32A32,32,0,0,0,80,136Z"}))],["thin",p.createElement(p.Fragment,null,p.createElement("path",{d:"M156,80a4,4,0,0,1,4-4h88a4,4,0,0,1,0,8H160A4,4,0,0,1,156,80Zm92,44H160a4,4,0,0,0,0,8h88a4,4,0,0,0,0-8Zm0,48H184a4,4,0,0,0,0,8h64a4,4,0,0,0,0-8ZM147.87,191a4,4,0,0,1-2.87,4.87,3.87,3.87,0,0,1-1,.13,4,4,0,0,1-3.87-3c-6.71-26.08-32-45-60.13-45s-53.41,18.92-60.13,45a4,4,0,1,1-7.74-2c5.92-23,24.57-41.14,47.52-48a44,44,0,1,1,40.7,0C123.3,149.86,142,168,147.87,191ZM80,140a36,36,0,1,0-36-36A36,36,0,0,0,80,140Z"}))]]);var aa=Object.defineProperty,at=Object.defineProperties,al=Object.getOwnPropertyDescriptors,an=Object.getOwnPropertySymbols,as=Object.prototype.hasOwnProperty,ai=Object.prototype.propertyIsEnumerable,ar=(e,a,t)=>a in e?aa(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,ao=(e,a)=>{for(var t in a||(a={}))as.call(a,t)&&ar(e,t,a[t]);if(an)for(var t of an(a))ai.call(a,t)&&ar(e,t,a[t]);return e},ad=(e,a)=>at(e,al(a));let ac=(0,p.forwardRef)((e,a)=>p.createElement(ey.Z,ad(ao({ref:a},e),{weights:ae})));ac.displayName="UserList";let au=function(e){let{handleContactSelect:a}=e,[t,i]=(0,p.useState)(""),r=t.trim(),o=(0,eU.Z)(r),d=(0,v.pb)(),{setMemo:c}=z(),u=(0,Q.a)(),m=(e,t)=>{a({avatarIcon:"",chainIcon:t??"",chainName:d[e.blockchain].chainName,name:e.name,address:e.address,emoji:e.emoji,selectionType:"saved"}),c(e.memo??"")};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(R.M,{value:t,onChange:e=>i(e.target.value),onClear:()=>i(""),placeholder:"Search your contacts...",divClassName:"rounded-2xl w-full flex gap-[10px] bg-gray-50 dark:bg-gray-900 py-3 pr-3 pl-4 focus-within:border-green-600 border border-transparent",inputClassName:"flex flex-grow text-base outline-none bg-white-0 font-bold text-black-100 dark:text-white-100 text-md placeholder:font-medium dark:placeholder:text-gray-400 !leading-[21px]"}),(0,l.jsx)("div",{className:"mt-4 w-full h-[calc(100%-300px)]] overflow-auto",children:o.length>0?o.map((e,a)=>{var t;let i=(null===(t=d[e.blockchain])||void 0===t?void 0:t.chainSymbolImageUrl)??u,r=a===o.length-1;return(0,l.jsxs)(p.Fragment,{children:[(0,l.jsxs)("button",{className:"w-full flex items-center gap-3 py-3",onClick:()=>m(e,i),children:[(0,l.jsx)(s.Avatar,{chainIcon:i,emoji:e.emoji??0}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-bold text-left dark:text-white-100 text-gray-700 capitalize",children:e.name}),(0,l.jsx)("p",{className:"text-sm font-medium dark:text-gray-400 text-gray-600",children:(0,n.Hnh)(e.ethAddress?e.ethAddress:e.address)})]})]}),!r&&(0,l.jsx)("div",{className:"border-b w-full border-gray-100 dark:border-gray-850"})]},e.address)}):(0,l.jsxs)("div",{className:"py-[88px] w-full flex-col flex  justify-center items-center gap-4",children:[(0,l.jsx)(ac,{size:40,className:"text-black-100 dark:text-white-100 !leading-[40px]"}),(0,l.jsxs)("div",{className:"flex flex-col justify-start items-center w-full gap-1",children:[(0,l.jsx)("div",{className:"text-md text-center font-bold !leading-[21.5px] dark:text-white-100",children:r.length>0?`No contacts found for "${r}"`:"No contacts to show"}),(0,l.jsx)("div",{className:"text-sm font-normal !leading-[22.4px] text-gray-400 dark:text-gray-400",children:r.length>0?"Try searching for a different term ":"Add a contact see them appear here"})]})]})})]})},am=e=>{var a;let{wallet:t,onClick:s,chainInfo:i}=e,r=(0,n.DI5)(),o=(null==i?void 0:i.evmOnlyChain)?(0,C.DiR)(null===(a=t.pubKeys)||void 0===a?void 0:a[null==i?void 0:i.key],!0):t.addresses[null==i?void 0:i.key],d=(0,p.useMemo)(()=>{if(t.walletType===n._KQ.LEDGER&&!(0,eY.i)(i.key,i.bip44.coinType,Object.values(r)))return`Ledger not supported on ${i.chainName}`;if(t.walletType===n._KQ.LEDGER&&(0,eY.i)(i.key,i.bip44.coinType,Object.values(r))&&!t.addresses[i.key])return"Please import EVM wallet";let e=t.walletType===n._KQ.LEDGER?` \xb7 /0'/0/${t.addressIndex}`:t.walletType===n._KQ.PRIVATE_KEY||t.walletType===n._KQ.SEED_PHRASE_IMPORTED?` \xb7 Imported`:"";return`${(0,n.Hnh)(o)}${e}`},[t.walletType,t.addresses,t.addressIndex,i.key,i.bip44.coinType,i.chainName,r,o]);return(0,l.jsxs)("button",{className:M()("flex items-center px-4 py-4 bg-white-100 dark:bg-gray-900 gap-3 cursor-pointer rounded-2xl",{"!cursor-not-allowed opacity-50":!o}),disabled:!o,onClick:()=>{let e=`${t.name.length>12?`${t.name.slice(0,12)}...`:t.name} - ${(0,n.kC2)("seiTestnet2"===i.chainName?"sei":i.chainName)}`;s({address:o,chainName:i.chainName,name:e})},children:[(0,l.jsx)("img",{height:40,width:40,src:(null==t?void 0:t.avatar)??eG.r.Misc.getWalletIconAtIndex(t.colorIndex),alt:t.name,className:"h-10 w-10 rounded-full"}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-md font-bold text-black-100 dark:text-white-100 text-left max-w-[170px] text-ellipsis overflow-hidden",children:t.name}),(0,l.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-xs",children:d})]})]},t.id)},av=e=>{let{chainInfo:a,setSelectedAddress:t}=e,n=T.w.useWallets(),{activeWallet:s}=(0,es.ZP)(),i=Object.values(n||{});return(0,l.jsx)("div",{className:"flex flex-col gap-3",children:i.map(e=>(null==s?void 0:s.id)===e.id?null:(0,l.jsx)(am,{chainInfo:a,wallet:e,onClick:a=>{let{address:l,name:n,chainName:s}=a,i=(null==e?void 0:e.avatar)??eG.r.Misc.getWalletIconAtIndex(e.colorIndex);t({address:l,chainName:s,name:n,avatarIcon:i,chainIcon:i,emoji:void 0,selectionType:"saved"})}},e.id))})};var ah=t("35226"),ax=t("32374"),ag=t("26227");let af=T.w.useWallets,ap=e=>{let{isOpen:a,onClose:t,setSelectedWallet:s,selectedWallet:i}=e,r=af(),{topChainColor:o}=(0,d.Cd)(),{sendActiveChain:c}=z(),u=(0,n.QSC)(c),m=(0,n.DI5)(),v=(0,p.useMemo)(()=>r?Object.values(r).map(e=>e).sort((e,a)=>e.name.localeCompare(a.name)):[],[r]);return(0,l.jsx)(B.Z,{title:"Wallets",onClose:t,isOpen:a,closeOnBackdropClick:!0,contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"pt-3 px-6 pb-6",children:(0,l.jsx)("div",{children:v.map((e,a,r)=>{var d,c,v,h;let x=a===r.length-1,g="";e.walletType===n._KQ.LEDGER&&(g=` \xb7 /0'/0/${e.addressIndex}`),(e.walletType===n._KQ.PRIVATE_KEY||e.walletType===n._KQ.SEED_PHRASE_IMPORTED)&&!e.watchWallet&&(g=` \xb7 Imported`);let f=e.walletType!=n._KQ.LEDGER||ah.li.test(e.name)?(0,ax.k)(e.name):`${A.dN[e.walletType]} Wallet ${e.addressIndex+1}`,p=f.length,b=e.walletType===n._KQ.LEDGER?10:19,y=p>b?f.slice(0,b)+"...":f;(null==u?void 0:u.evmOnlyChain)?(0,C.DiR)(null==e?void 0:null===(d=e.pubKeys)||void 0===d?void 0:d[null==u?void 0:u.key],!0):null==e||null===(c=e.addresses)||void 0===c||c[null==u?void 0:u.key];let w=(null==u?void 0:u.evmOnlyChain)?(0,C.DiR)(null==e?void 0:null===(v=e.pubKeys)||void 0===v?void 0:v[null==u?void 0:u.key]):(null==e?void 0:null===(h=e.addresses)||void 0===h?void 0:h[null==u?void 0:u.key])??"",k=`${w?(0,eX.Hn)(w)+g:g.replace(" \xb7 ","")}`;return e.walletType===n._KQ.LEDGER&&!(0,eY.i)(u.key,u.bip44.coinType,Object.values(m))&&(k=`Ledger not supported on ${u.chainName}`),e.walletType===n._KQ.LEDGER&&(0,eY.i)(u.key,u.bip44.coinType,Object.values(m))&&!e.addresses[u.key]&&(k="Please import EVM wallet"),(0,l.jsxs)("div",{className:"relative min-h-[56px]",children:[(0,l.jsxs)("button",{className:"w-full flex items-center gap-3 py-3 cursor-pointer",onClick:()=>{s(e),t()},children:[(0,l.jsx)("img",{src:(null==e?void 0:e.avatar)??eG.r.Misc.getWalletIconAtIndex(e.colorIndex,e.watchWallet),alt:"wallet icon",className:"rounded-full border border-white-30 h-10 w-10"}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col items-start",children:[(0,l.jsxs)("p",{className:"flex text-left items-center gap-1 font-bold dark:text-white-100 text-gray-700 capitalize",children:[y,e.walletType===n._KQ.LEDGER&&(0,l.jsx)(en.Z,{className:"bg-gray-900 font-normal rounded-2xl justify-center items-center px-2 ml-1 h-[18px]",color:"text-gray-400",size:"xs",children:"Ledger"})]}),(0,l.jsx)("p",{className:"text-sm font-medium dark:text-gray-400 text-gray-600",children:k})]}),(null==i?void 0:i.id)===e.id?(0,l.jsx)(ag.f,{weight:"fill",size:24,className:"ml-2",style:{color:o}}):null]}),!x&&(0,l.jsx)("div",{className:"border-b w-full border-gray-100 dark:border-gray-850"})]},e.id)})})})};function ab(e){let{value:a,onChange:t,setSelectedWallet:s,selectedWallet:i}=e,r=(0,p.useRef)(null),[o,d]=(0,p.useState)(!1);(0,p.useEffect)(()=>{r.current&&setTimeout(()=>{var e;null===(e=r.current)||void 0===e||e.focus()},100)},[]);let c=(null==i?void 0:i.walletType)!==n._KQ.LEDGER||ah.li.test(i.name)?(0,ax.k)((null==i?void 0:i.name)||""):`${A.dN[i.walletType]} Wallet ${i.addressIndex+1}`,u=(0,p.useMemo)(()=>(0,ex.l)()?eG.r.Logos.CompassCircle:(null==i?void 0:i.avatar)?i.avatar:eG.r.Misc.getWalletIconAtIndex(i.colorIndex,i.watchWallet),[i.avatar,i.colorIndex,i.watchWallet]);return(0,l.jsxs)("div",{className:"rounded-2xl w-full flex gap-[10px] bg-gray-50 dark:bg-gray-900 py-3 pr-3 pl-4 focus-within:border-green-600 border border-transparent",children:[(0,l.jsx)("input",{placeholder:"Search chain",className:"flex flex-1 min-[400px]:min-w-[160px] w-[50px] text-base outline-none bg-white-0 font-bold text-black-100 dark:text-white-100 text-md placeholder:font-medium dark:placeholder:text-gray-400 !leading-[21px]",value:a,onChange:t,ref:r}),(0,l.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-900 cursor-pointer border-l-2 border-gray-200 dark:border-gray-800 pl-4 pr-1 shrink-0",onClick:()=>d(!0),children:[u?(0,l.jsx)("img",{className:"w-5 h-5 rounded-full",src:u,alt:"wallet-avatar"}):(0,l.jsx)("img",{className:"w-5 h-5",src:eG.r.Logos.LeapLogo28,alt:"wallet-avatar"}),(0,l.jsx)(en.Z,{size:"sm",className:"font-bold",children:(0,eX.fy)(c,8)}),(0,l.jsx)(U.p,{size:16,className:"dark:text-white-100"})]}),(0,l.jsx)(ap,{isOpen:o,onClose:()=>d(!1),setSelectedWallet:s,selectedWallet:i})]})}let ay=function(e){let{skipSupportedDestinationChainsIDs:a,setSelectedAddress:t}=e,{displayAccounts:s,isIbcSupportDataLoading:i,sendActiveChain:r}=z(),o=(0,v.pb)(),d=(0,es.ZP)(),c=(0,Q.a)(),[u,m]=(0,p.useState)(null==d?void 0:d.activeWallet),[h,g]=(0,p.useState)(""),f=h.trim(),b=[];Object.keys(o).map(e=>{var t,l;(null==a?void 0:a.includes(null===(t=o[e])||void 0===t?void 0:t.chainId))&&b.push([e,null==u?void 0:null===(l=u.addresses)||void 0===l?void 0:l[e]])});let y=b.length>0?b:s,{name:w,colorIndex:k,watchWallet:j}=u,N=(0,p.useMemo)(()=>y.filter(e=>{var a;let[t]=e;return(0,ex.l)()&&"seiTestnet2"!==t?null:((null===(a=o[t])||void 0===a?void 0:a.chainName)??t).toLowerCase().includes(f.toLowerCase())}),[y,o,f]),C=(0,x.Z)().get("toChainId")??void 0;return((0,p.useEffect)(()=>{if(C&&(null==N?void 0:N.length)>0){var e,a,l;let n=null===(e=Object.values(o).find(e=>e.chainId===C))||void 0===e?void 0:e.key,s=null===(a=N.filter(e=>{let[a]=e;return a===n}))||void 0===a?void 0:a[0],i=(null===(l=o[n])||void 0===l?void 0:l.chainSymbolImageUrl)??c;t({address:null==s?void 0:s[1],avatarIcon:eG.r.Misc.getWalletIconAtIndex(k,j),chainIcon:i??"",chainName:null==s?void 0:s[0],emoji:void 0,name:`${w.length>12?`${w.slice(0,12)}...`:w} - ${(0,eX.kC)((null==s?void 0:s[0])==="seiTestnet2"?"sei":null==s?void 0:s[0])}`,selectionType:"currentWallet"})}},[C,(null==N?void 0:N.length)>0,r]),i)?(0,l.jsxs)("div",{className:"bg-white-100 dark:bg-gray-900 rounded-2xl p-3 relative h-48 w-full",children:[(0,l.jsx)(en.Z,{size:"xs",className:"p-1 font-bold",color:"text-gray-600 dark:text-gray-200",children:"Loading IBC Supported Chains"}),(0,l.jsx)(em.Z,{})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ab,{value:h,onChange:e=>g(e.target.value),setSelectedWallet:m,selectedWallet:u}),(0,l.jsx)("div",{className:"relative mt-4 h-[calc(100%-300px)] overflow-auto",children:N.length>0?N.map((e,a)=>{let[s,i]=e,r=o[s],d=(null==r?void 0:r.chainSymbolImageUrl)??c,m=(null==r?void 0:r.chainName)??s,v=a===N.length-1,h="";return(null==u?void 0:u.walletType)===n._KQ.LEDGER&&!(0,eY.i)(r.key,r.bip44.coinType,Object.values(o))&&(h=`Ledger not supported on ${r.chainName}`),(null==u?void 0:u.walletType)===n._KQ.LEDGER&&(0,eY.i)(r.key,r.bip44.coinType,Object.values(o))&&!i&&(h="Please import EVM wallet"),(0,l.jsxs)(p.Fragment,{children:[(0,l.jsxs)("button",{className:M()("w-full flex items-center gap-3 py-3",{"!cursor-not-allowed opacity-50":!!h}),onClick:()=>{t({address:i,avatarIcon:eG.r.Misc.getWalletIconAtIndex(k,j),chainIcon:d??"",chainName:s,emoji:void 0,name:`${w.length>12?`${w.slice(0,12)}...`:w} - ${(0,eX.kC)("seiTestnet2"===s?"sei":s)}`,selectionType:"currentWallet"})},disabled:!!h,children:[(0,l.jsx)("img",{src:d,alt:`${m} logo`,className:"rounded-full border border-white-30 h-10 w-10"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-bold text-left dark:text-white-100 text-gray-700 capitalize",children:m}),(0,l.jsx)("p",{className:"text-sm font-medium dark:text-gray-400 text-gray-600 text-left",children:h||(0,eX.Hn)(i)})]})]}),!v&&(0,l.jsx)("div",{className:"border-b w-full border-gray-100 dark:border-gray-850"})]},s)}):(0,l.jsxs)("div",{className:"py-[88px] w-full flex-col flex  justify-center items-center gap-4",children:[(0,l.jsx)(er.H,{size:40,className:"dark:text-white-100"}),(0,l.jsxs)("div",{className:"flex flex-col justify-start items-center w-full gap-1",children:[(0,l.jsx)("div",{className:"text-md text-center font-bold !leading-[21.5px] dark:text-white-100",children:f.length>0?`No chains found for "${f}"`:`No chains support IBC with ${o[r].chainName}`}),(0,l.jsx)("div",{className:"text-sm font-normal !leading-[22.4px] text-gray-400 dark:text-gray-400",children:"Try searching for a different term"})]})]})})]})},aw=e=>{let{isOpenType:a,onClose:t,setSelectedAddress:s,handleContactSelect:i,skipSupportedDestinationChainsIDs:r}=e,[o,d]=(0,p.useState)(a),{chains:c}=(0,n._IL)(),{sendActiveChain:u}=z(),m=c[u];return(0,p.useEffect)(()=>{d(a)},[a]),(0,l.jsxs)(B.Z,{title:"Select Destination",onClose:t,isOpen:!!a,closeOnBackdropClick:!0,contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"p-6",children:[(0,l.jsx)("div",{className:"w-full flex bg-gray-50 dark:bg-black-100 border-[3px] border-gray-50 dark:border-black-100 rounded-[25px] mb-6",children:["My Contacts","My Wallets"].map(e=>(0,l.jsx)("div",{className:M()("rounded-[40px] flex-1 text-center py-2 cursor-pointer text-sm font-bold transition-all duration-200",{"bg-white-100 dark:bg-gray-950 text-black-100 dark:text-white-100":o===e},{"bg-[transparent] text-gray-600 dark:text-gray-400":o!==e}),onClick:()=>d(e),children:e},e))}),(0,l.jsx)("div",{children:"My Contacts"===o?(0,l.jsx)(au,{handleContactSelect:i}):m.evmOnlyChain||(0,C.KPM)(m.key)||(0,e7.mq)(m.key)?(0,l.jsx)(av,{chainInfo:m,setSelectedAddress:s}):(0,l.jsx)(ay,{skipSupportedDestinationChainsIDs:r,setSelectedAddress:s})})]})};function ak(e){let{isOpen:a,onCloseHandler:t,onDelete:n,selectedAddress:i}=e,[r,o]=(0,p.useState)(!1),d=eK.o.useGetContact(i.address??""),{theme:c}=(0,s.useTheme)(),u=(0,p.useCallback)(e=>{e.stopPropagation()},[]);return(0,l.jsxs)("div",{onClick:u,children:[(0,l.jsx)(B.Z,{title:"Contact details",onClose:t,isOpen:a,closeOnBackdropClick:!0,contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"p-6",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,l.jsxs)("div",{className:"w-full bg-gray-50 dark:bg-gray-900 rounded-2xl p-4 flex items-center flex-col",children:[(0,l.jsx)(s.AvatarCard,{chainIcon:i.chainIcon,emoji:(null==d?void 0:d.emoji)??i.emoji,size:"lg",title:(null==d?void 0:d.name)??i.name,className:"mt-3"}),(0,l.jsx)(s.Buttons.CopyWalletAddress,{className:"mt-1",color:eh.w.juno,walletAddress:(0,eX.Hn)(i.address)})]}),(0,l.jsxs)("div",{className:"flex gap-4 w-full",children:[(0,l.jsx)(s.Buttons.Generic,{title:"Delete contact",color:eh.w.red300,onClick:async()=>{await eK.o.removeEntry(i.address??""),n(),t()},className:"flex-1",children:"Delete contact"}),(0,l.jsx)(s.Buttons.Generic,{title:"Edit contact",color:c===s.ThemeName.DARK?eh.w.gray900:"#F4F4F4",onClick:()=>o(!0),className:"flex-1",children:(0,l.jsx)("p",{className:"!text-black-100 dark:!text-white-100",children:"Edit contact"})})]})]})}),(0,l.jsx)(e3,{isOpen:r,title:"Edit Contact",address:i.address??"",onClose:()=>o(!1)})]})}let aj=e=>{let{selectedAddress:a,showEditMenu:t,onDelete:i}=e,r=(0,Q.a)(),[o,d]=(0,p.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center",title:`${a.chainName}: ${a.ethAddress?a.ethAddress:a.address}`,children:[(0,l.jsx)(s.Avatar,{size:"sm",avatarImage:a.avatarIcon??r,avatarOnError:(0,q._)(r),emoji:a.emoji,chainIcon:a.avatarIcon===a.chainIcon?void 0:a.chainIcon,className:"bg-gray-200 dark:bg-gray-800 !h-8 !w-8"}),(0,l.jsx)(en.Z,{size:"md",className:"text-black-100 dark:text-white-100 ml-2 font-bold",children:a.ethAddress&&"injective"!==a.chainName?(0,n.Hnh)(a.ethAddress):a.name}),t?(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),d(!0)},className:"ml-auto",children:(0,l.jsx)("img",{src:eG.r.Misc.Menu,alt:"Menu",className:"ml-auto"})}):null]}),(0,l.jsx)(ak,{isOpen:t&&o,selectedAddress:a,onDelete:i,onCloseHandler:()=>d(!1)})]})},aN=(0,g.Pi)(e=>{let{isOpen:a,setSelectedInitiaChain:t,onClose:n,chainTagsStore:s,chainInfoStore:i}=e,[r,o]=(0,p.useState)(""),d=(0,p.useMemo)(()=>Object.entries(s.allChainTags).filter(e=>{let[a,t]=e;return t.includes("Initia")}).map(e=>{let[a]=e;return i.chainInfos[C.NOo[a]]}).filter(e=>null==e?void 0:e.chainName.toLowerCase().includes(r.toLowerCase())),[i.chainInfos,s.allChainTags,r]);return(0,l.jsx)(B.Z,{title:"Select Recipient",onClose:()=>{o(""),n()},isOpen:a,closeOnBackdropClick:!0,containerClassName:"h-[calc(100%-34px)]",className:"p-6",children:(0,l.jsxs)("div",{className:"flex flex-col gap-y-6 h-full",children:[(0,l.jsx)(R.M,{divClassName:"flex w-full bg-white-100 dark:bg-gray-950 rounded-full py-2 pl-5 pr-[10px] focus-within:border-green-600",value:r,onChange:e=>o(e.target.value),placeholder:"Search chain",onClear:()=>o("")}),(0,l.jsx)("div",{className:"flex flex-col",children:d.map(e=>e?(0,l.jsxs)("div",{onClick:()=>{t(e.key),n()},className:"flex items-center gap-x-3 py-3 border-b dark:border-b-gray-850 border-b-gray-100 cursor-pointer",children:[(0,l.jsx)("img",{src:e.chainSymbolImageUrl,onError:(0,q._)(eJ.GenericLight),width:40,height:40,className:"rounded-full"}),(0,l.jsx)(en.Z,{size:"md",color:"text-gray-800 dark:text-white-100",className:"font-bold",children:e.chainName})]},e.key):null)})]})})}),aC=/^[a-zA-Z0-9_-]+\.[a-z]+$/,aS=(0,g.Pi)(e=>{var a,t,i;let{rootERC20DenomsStore:r,rootCW20DenomsStore:d,chainTagsStore:c,compassSeiTokensAssociationsStore:u}=e,m=(0,x.Z)().get("recipient")??void 0,[v,h]=(0,p.useState)(!1),[g,f]=(0,p.useState)(m??""),[b,y]=(0,p.useState)(!1),[k,N]=(0,p.useState)(null),[S,E]=(0,p.useState)(null),{ethAddress:D,selectedAddress:M,setSelectedAddress:I,addressError:Z,setAddressError:O,isIBCTransfer:H,setMemo:L,setCustomIbcChannelId:_,setEthAddress:P,selectedToken:F,addressWarning:B,setAddressWarning:W,isIbcUnwindingDisabled:R,fetchAccountDetails:V,fetchAccountDetailsData:$,fetchAccountDetailsStatus:G,setFetchAccountDetailsData:K,setAssociatedSeiAddress:Y,sendActiveChain:X,sendSelectedNetwork:q,associatedSeiAddress:J,setAssociated0xAddress:ee,setHasToUsePointerLogic:et,setPointerAddress:el,setSelectedToken:es,setHasToUseCw20PointerLogic:er}=z(),{chains:eo}=(0,n._IL)(),{theme:ed}=(0,s.useTheme)(),ec=(0,n.SFn)(),eu=(0,n.tIw)(),ev=(0,Q.a)(),eg=(0,n.rTu)(),ef=(0,n.uVs)(),{data:ep}=(0,ea.Uj)({chainTypes:["cosmos"]}),{data:eb}=(0,n.S2A)(),ey=r.allERC20Denoms,ew=d.allCW20Denoms,ek=eo[X],ej=ed===s.ThemeName.DARK,eN=(null==M?void 0:M.selectionType)==="currentWallet",eC=C.Dr3.includes(X),eS=(0,C.KPM)(X),eE={denom:(null==F?void 0:F.ibcDenom)||(null==F?void 0:F.coinMinimalDenom)||"",symbol:(null==F?void 0:F.symbol)||"",logoUri:(null==F?void 0:F.img)||"",decimals:(null==F?void 0:F.coinDecimals)||0,originDenom:(null==F?void 0:F.coinMinimalDenom)||"",denomTracePath:(null==F?void 0:F.ibcChainInfo)?`transfer/${null===(a=F.ibcChainInfo)||void 0===a?void 0:a.channelId}`:""},eD=null==ep?void 0:ep.find(e=>e.chainId===ek.chainId),{data:eM}=(null==eb?void 0:null===(t=eb.ibc)||void 0===t?void 0:t.extension)!=="disabled"?(0,ea.Mf)(eE,eD,"mainnet"===q):{data:null},eI=(null==M?void 0:M.address)===g&&(null==M?void 0:M.selectionType)==="saved",eZ=(0,p.useMemo)(()=>D?D:g,[D,g]),eO=(0,eU.Z)(eZ),eH=eK.o.useGetContact(eZ),eL=g.length>0?"clear":"paste",e_=(0,p.useMemo)(()=>{if(g.length>0)return eG.r.Misc.CrossFilled},[g]),eP=(0,p.useMemo)(()=>{let e=[...Object.keys(eu),"arch","sol","sei","pp","core"],[,a]=g.split("."),t=-1!==e.indexOf(a);return aC.test(g)&&t},[g,eu]),eF=(0,p.useMemo)(()=>{if(M)return(0,l.jsx)(aj,{selectedAddress:M,showEditMenu:M.address===(null==eH?void 0:eH.address)&&M.ethAddress===(null==eH?void 0:eH.ethAddress),onDelete:()=>{I(null),f(""),P("")}});if(eZ.length>0)try{return eV.bech32.decode(eZ),(0,l.jsx)(en.Z,{size:"md",className:"text-gray-800 dark:text-gray-200",children:(0,eX.Hn)(eZ)})}catch(e){}},[null==eH?void 0:eH.address,null==eH?void 0:eH.ethAddress,eZ,M,P,I]),ez=(0,p.useMemo)(()=>(null==eM?void 0:eM.filter(e=>"cosmos"===e.chainType&&(!!((null==eg?void 0:eg.walletType)!==n._KQ.LEDGER||(0,eY.i)(e.key,e.coinType,Object.values(eo)))&&(null==eg?!!void 0:!!eg.addresses[e.key])||!1)).map(e=>e.chainId))||[],[eM,null==eg?void 0:eg.walletType,null==eg?void 0:eg.addresses,eo]),eB=(0,p.useMemo)(()=>{if(!(null==M?void 0:M.address))return null;let e=(0,C.z_q)(M.address);if(!e)return null;let a=eu[e];return a?"initia"===a&&k?eo[k]:eo[a]:null},[eu,eo,null==M?void 0:M.address,k]),eW=!(g.trim().length>0&&eO.length>0)&&g.length>0&&!eI&&!eH&&g!==ec&&!eN&&!eP&&!(null==Z?void 0:Z.includes("The entered address is invalid")),eq=!eI&&!eW&&!eH&&!M&&!eP,eJ=!eI&&!eW&&!eH&&!M&&!eP&&"mainnet"===q&&!(0,ex.l)(),e0=(0,p.useCallback)(e=>{var a;if((ef||(null===(a=eo[X])||void 0===a?void 0:a.evmOnlyChain))&&e.toLowerCase().startsWith("0x"))O(void 0),P(e),f(e);else if(60===Number(ek.bip44.coinType)&&e.toLowerCase().startsWith("0x")&&"injective"!==ek.key)try{O(void 0);let a=(0,C.Jyw)(ek.addressPrefix,e);P(e),f(a);return}catch(e){O("The entered address is invalid")}P(""),f(e)},[ek.addressPrefix,ek.bip44.coinType,ek.key,eo,ef,X,O,P]),e1=(0,p.useCallback)(e=>{e0(e.target.value.trim())},[e0]),e8=(0,p.useCallback)((e,a)=>{switch(a){case"paste":eQ.i.pasteText().then(e=>{e&&f(e.trim())});break;case"clear":P(""),f(""),I(null),L("")}},[e0,P,L,I]),e4=(0,p.useCallback)(e=>{I(e),P(e.ethAddress??""),f(e.address??""),S&&E(null)},[S,P,I]),e6=(0,p.useCallback)(e=>{O(void 0),f(e.address??""),I(e),E(null)},[O,I]),e5=(0,p.useCallback)(()=>{try{var e;if(eS||(ef||(null===(e=eo[X])||void 0===e?void 0:e.evmOnlyChain))&&g.toLowerCase().startsWith("0x")){h(!0);return}if(!eu[(0,C.z_q)(g)??""]){O("Unsupported Chain");return}h(!0)}catch(e){O("The entered address is invalid")}},[eu,eo,eS,ef,g,X,O]),e7=(0,p.useCallback)(()=>{y(!0)},[]);!function(e){var a;let{fetchAccountDetailsData:t,fetchAccountDetailsStatus:l,addressWarningElementError:s,setAddressWarning:i}=e,r=(0,n.rTu)();(0,p.useEffect)(()=>{!async function(){switch(l){case"loading":i({type:"erc20",message:s});break;case"success":if((null==t?void 0:t.pubKey.key)&&(null==r?void 0:r.walletType)!==n._KQ.LEDGER){let e=(0,C.DiR)(t.pubKey.key);e.toLowerCase().startsWith("0x")?i({type:"erc20",message:`Recipient will receive the token on associated EVM address: ${e}`}):i({type:"erc20",message:"You can only transfer EVM tokens to an EVM address."})}else i({type:"erc20",message:"You can only transfer EVM tokens to an EVM address."});break;case"error":i({type:"erc20",message:"You can only transfer EVM tokens to an EVM address."});break;default:i(n.wL6)}}()},[null==t?void 0:null===(a=t.pubKey)||void 0===a?void 0:a.key,l])}({fetchAccountDetailsData:$,fetchAccountDetailsStatus:G,addressWarningElementError:(0,l.jsxs)(l.Fragment,{children:["Recipient will receive this on address:"," ",(0,l.jsx)(em.T,{color:eh.w.white100,className:"w-[20px] h-[20px]"})]}),setAddressWarning:W}),!function(e){let{setAssociated0xAddress:a,setAssociatedSeiAddress:t,setAddressError:l,setAddressWarning:s,setFetchAccountDetailsData:i,fetchAccountDetails:r,selectedToken:o,recipientInputValue:d,allCW20Denoms:c,allERC20Denoms:u,addressWarningElementError:m,showNameServiceResults:v,compassEvmToSeiMapping:h,compassSeiToEvmMapping:x,sendActiveChain:g,sendSelectedNetwork:f,setHasToUsePointerLogic:b,setPointerAddress:y,setHasToUseCw20PointerLogic:w,setSelectedToken:k}=e,{chains:j}=(0,n._IL)(),N=(0,ei.G)(),{evmJsonRpc:S}=(0,n.U9i)(g,f),E=(0,n.SFn)(),D=(0,n.rTu)(),M=(0,n.uVs)(),I=C.Dr3.includes(g),Z=(0,C.KPM)(g),O=T.w.useGetWallet(),{addressLinkState:H}=(0,n.uaF)(O),L=(0,p.useMemo)(()=>(0,n.kjy)(Object.keys(u),(null==o?void 0:o.coinMinimalDenom)??""),[u,null==o?void 0:o.coinMinimalDenom]),_=(0,p.useCallback)(async()=>{if(b(!1),null==o?void 0:o.ibcDenom)return!1;let[e,a,t]=await (0,n.Lzw)((null==o?void 0:o.coinMinimalDenom)??"",Object.keys(c),h,x);return t?(l(t),!0):!!e&&(b(!0),y(a),!0)},[c,null==o?void 0:o.coinMinimalDenom]),P=(0,p.useCallback)(async()=>{w(!1);let[e,a]=await (0,n.Lzw)((null==o?void 0:o.coinMinimalDenom)??"",[],h,x,"CW20");e?(w(!0),s(n.wL6),i(void 0),k(e=>({...e??{},coinMinimalDenom:a}))):await r(d)},[null==o?void 0:o.coinMinimalDenom,h,x,d]),F=(0,p.useCallback)(()=>{let e="bitcoin"===g?"mainnet":"testnet";(0,C.zri)(d,e)?l(void 0):l("The entered address is invalid")},[d,g]),z=(0,p.useCallback)(async()=>{var e;if((null==o?void 0:o.isEvm)&&d.toLowerCase()===(null===(e=N[1])||void 0===e?void 0:e.toLowerCase())){a(N[0]);return}d.length>=42&&(L?await P():(null==o?void 0:o.isEvm)?await r(d):(s(n.wL6),i(void 0)))},[d,null==o?void 0:o.isEvm,N,L]),B=(0,p.useCallback)(async()=>{let e=["done","unknown"].includes(H),l=null==o?void 0:o.isEvm,n=(null==o?void 0:o.coinMinimalDenom)==="usei";if(!n||!l){if(e&&n&&!l){a(d);return}if(!e&&n&&!l){s({type:"link",message:"To send Sei tokens to EVM address, link your EVM and Sei addresses first."});return}if(d.toLowerCase()===N[0].toLowerCase()&&N[1]){t(N[1]);return}try{let e=await C.kZr.GetSeiAddressFromHex(d,S);!L&&!n&&(t(e),s({type:"erc20",message:`Recipient will receive the token on associated Sei address: ${e}`}))}catch{}}},[H,S,d,null==o?void 0:o.coinMinimalDenom,null==o?void 0:o.isEvm,N,L]);(0,p.useEffect)(()=>{!async function(){var e;if(t(""),a(""),!Z){if(I&&d.length){F();return}if(M||E!==d){if((null===(e=j[g])||void 0===e?void 0:e.evmOnlyChain)&&d.length)!d.toLowerCase().startsWith("0x")&&l("The entered address is invalid");else if(M&&d.length&&o){if(d.toLowerCase().startsWith("0x")&&(null==D?void 0:D.walletType)===n._KQ.LEDGER){l(A.tR);return}if("loading"===H){s({type:"link",message:m});return}s(n.wL6);if(!d.toLowerCase().startsWith("0x")){await z();return}d.toLowerCase().startsWith("0x")&&!await _()&&await B()}else!d||(0,C.AtH)(d)||v?(s(n.wL6),l(void 0)):l("The entered address is invalid")}else;}}()},[M,H,E,d,o,null==o?void 0:o.coinMinimalDenom,null==o?void 0:o.isEvm,v,null==D?void 0:D.walletType,g,f,Z,I,j])}({setAssociatedSeiAddress:Y,setAssociated0xAddress:ee,setAddressError:O,setAddressWarning:W,setFetchAccountDetailsData:K,fetchAccountDetails:V,selectedToken:F,recipientInputValue:g,allCW20Denoms:ew,allERC20Denoms:ey,addressWarningElementError:(0,l.jsxs)(l.Fragment,{children:["Checking the Ox and Sei address link status"," ",(0,l.jsx)(em.T,{color:eh.w.white100,className:"w-[20px] h-[20px]"})]}),showNameServiceResults:eP,compassEvmToSeiMapping:u.compassEvmToSeiMapping,compassSeiToEvmMapping:u.compassSeiToEvmMapping,sendActiveChain:X,sendSelectedNetwork:q,setHasToUsePointerLogic:et,setPointerAddress:el,setHasToUseCw20PointerLogic:er,setSelectedToken:es}),(0,p.useEffect)(()=>{var e,a,t,l,n,s;if(eP){O(void 0);return}if(null==M?void 0:null===(e=M.information)||void 0===e?void 0:e.autofill){f((null==M?void 0:M.address)||"");return}let i=null==g?void 0:g.trim();if(g===(null==M?void 0:M.address)){let e=ef||(null===(a=eo[X])||void 0===a?void 0:a.evmOnlyChain),l=null==i?void 0:null===(t=i.toLowerCase())||void 0===t?void 0:t.startsWith("0x"),n=X===(null==M?void 0:M.chainName);if(e&&l){if(n||(null==M?void 0:M.selectionType)==="saved")return}else if(!k||k===(null==M?void 0:M.chainName))return}if(M&&i!==M.address){I(null);return}try{if(0===i.length){O(void 0);return}if(eS||(ef||(null===(l=eo[X])||void 0===l?void 0:l.evmOnlyChain))&&i.toLowerCase().startsWith("0x")){let e=ek.chainSymbolImageUrl??"";I({ethAddress:i,address:i,name:(0,eX.Hn)(i),avatarIcon:ek.chainSymbolImageUrl??"",emoji:void 0,chainIcon:e??"",chainName:ek.key,selectionType:"notSaved"});return}if(eC&&!(0,C.zri)(i,"bitcoin"===X?"mainnet":"testnet"))return;let{prefix:e}=eC?{prefix:""}:eV.bech32.decode(i),a=eu[e];"init"===e&&k&&(a=k),"bitcoin"===X&&(a="bitcoin"),"bitcoinSignet"===X&&(a="bitcoinSignet");let t=(null===(n=eo[a])||void 0===n?void 0:n.chainSymbolImageUrl)??ev;I({ethAddress:D,address:i,name:(0,eX.Hn)(i),avatarIcon:t??"",emoji:void 0,chainIcon:t??"",chainName:a,selectionType:"notSaved"})}catch(e){!(null==e?void 0:null===(s=e.message)||void 0===s?void 0:s.includes("too short"))&&O("Invalid Address")}},[eu,eo,ec,g,M,I,ef,eP,X,k]),(0,p.useEffect)(()=>{if(eH&&M&&!k&&(eH.ethAddress!==(null==M?void 0:M.ethAddress)||eH.address!==(null==M?void 0:M.address)||eH.name!==(null==M?void 0:M.name)||eH.emoji!==(null==M?void 0:M.emoji)||eH.blockchain!==(null==M?void 0:M.chainName))){var e;let a=(null===(e=eo[eH.blockchain])||void 0===e?void 0:e.chainSymbolImageUrl)??ev;L(eH.memo??""),I({ethAddress:null==eH?void 0:eH.ethAddress,address:eH.address,name:eH.name,avatarIcon:void 0,emoji:eH.emoji,chainIcon:a??"",chainName:eH.blockchain,selectionType:"saved"})}},[eo,eH,g,M,L,I,k]),!function(e){let{sendActiveChain:a,selectedAddress:t,associatedSeiAddress:l,sendSelectedNetwork:s,isIbcUnwindingDisabled:i,skipSupportedDestinationChainsIDs:r,selectedToken:o,setAddressError:d,manageChainsStore:c}=e,u=(0,n.uVs)(),{chains:m}=(0,n._IL)(),v=(0,n.tIw)(),h=C.Dr3.includes(a),x=(0,C.KPM)(a),g=m[a];(0,p.useEffect)(()=>{var e,f,p,b,y,w;let k,j;if(h||x||(u||(null===(e=m[a])||void 0===e?void 0:e.evmOnlyChain))&&((null==t?void 0:null===(f=t.address)||void 0===f?void 0:f.startsWith("0x"))||"loading"===l))return;if(null==t||!t.address)return;if(j=(0,C.z_q)(t.address))k=v[j];else{d("The entered address is invalid");return}let N=j&&j!==m[a].addressPrefix;if(!!N){if(N&&"testnet"===s){d("IBC transfers are not supported on testnet.");return}if(N&&k&&(0,ex.l)()&&!c.chains.filter(e=>"cosmos"!==e.chainName).find(e=>e.chainName===k)){let e=m[k].chainName,a=g.chainName;d(`IBC transfers are not supported between ${e} and ${a}`);return}if(i||(null===(p=m[k])||void 0===p?void 0:p.apiStatus)!==!1)d(void 0);else{d(`IBC transfers are not supported between ${(null===(y=m[k])||void 0===y?void 0:y.chainName)||"this address"} and ${g.chainName}.`);return}i||!((null==r?void 0:r.length)>0)||r.includes(null===(b=m[k])||void 0===b?void 0:b.chainId)?d(void 0):d(`IBC transfers are not supported between ${(null===(w=m[k])||void 0===w?void 0:w.chainName)||"this address"} and ${g.chainName} for ${(0,n.MDB)(null==o?void 0:o.symbol)} token.`)}},[g,t,m,v,r,c.chains,i,null==o?void 0:o.symbol,u,a,s,l,h])}({sendActiveChain:X,selectedAddress:M,associatedSeiAddress:J,sendSelectedNetwork:q,isIbcUnwindingDisabled:R,skipSupportedDestinationChainsIDs:ez,selectedToken:F,setAddressError:O,manageChainsStore:j.t}),(0,p.useEffect)(()=>{(null==M?void 0:M.chainName)&&_(void 0)},[null==M?void 0:M.chainName,_]),(0,p.useEffect)(()=>{var e;(null===(e=c.allChainTags[eo[X].chainId])||void 0===e?void 0:e.includes("Initia"))&&N(X)},[c.allChainTags,eo,X]);let ae=!!Z&&!Z.includes("IBC transfers are not supported");return(0,l.jsx)("div",{children:(0,l.jsxs)(o.E.div,{className:"p-4 rounded-2xl bg-white-100 dark:bg-gray-950",children:[(0,l.jsx)(e$.q,{autoFocus:!0,invalid:!!ae,warning:!!B.message,action:eL,buttonText:eL,icon:e_,value:eZ,onAction:e8,onChange:e1,placeholder:"Enter recipient address or contact",autoComplete:"off",spellCheck:"false",className:`border-transparent rounded-xl h-12 pl-4 py-[2px] text-md font-medium placeholder:text-gray-600 dark:placeholder:text-gray-400 text-black-100 dark:text-white-100 bg-gray-50 dark:bg-gray-900 ${!ae&&!B.message&&"focus-within:!border-green-600"}`,preview:eF}),ae?(0,l.jsx)(en.Z,{size:"xs",color:"text-red-300",className:"mt-2 ml-1 font-bold","data-testing-id":"send-recipient-address-error-ele",children:Z}):null,B.message?(0,l.jsx)(en.Z,{size:"xs",color:"text-yellow-600",className:"mt-2 ml-1 font-bold","data-testing-id":"send-recipient-address-error-ele",children:B.message}):null,(0,l.jsx)("div",{className:"flex w-full items-center justify-between mt-3",children:(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 w-full",children:[eq||eJ||eW?(0,l.jsxs)(l.Fragment,{children:[eq?(0,l.jsx)(e9,{leftIcon:(0,l.jsx)(eA,{size:12,className:"text-gray-800 dark:text-gray-200"}),onClick:()=>E("My Contacts"),actionLabel:"Open Contacts Sheet",children:(0,l.jsx)(en.Z,{size:"xs",className:"text-gray-800 dark:text-gray-200 whitespace-nowrap font-medium",children:"Contacts"})}):null,eJ?(0,l.jsx)(e9,{leftIcon:(0,l.jsx)(eT.w,{size:12,className:"text-gray-800 dark:text-gray-200"}),onClick:()=>E("My Wallets"),actionLabel:"Show My Wallets on Other Chains",iconClassName:"!text-sm !text-gray-800 dark:!text-gray-200",children:(0,l.jsx)(en.Z,{size:"xs",className:"text-gray-800 dark:text-gray-200 whitespace-nowrap font-medium",children:"My Wallets"})}):null,eW?(0,l.jsx)(e9,{leftIcon:(0,l.jsx)(eR,{size:12,className:"text-gray-800 dark:text-gray-200"}),onClick:e5,actionLabel:"Add Contact to Address Book",children:(0,l.jsx)(en.Z,{size:"xs",className:"text-gray-800 dark:text-gray-200 whitespace-nowrap font-medium",children:"Add Contact"})}):null]}):null,H&&!(0,ex.l)()&&"mainnet"===q&&eB?(0,l.jsx)("div",{className:"flex flex-1 justify-end",children:(0,l.jsxs)("div",{className:"flex w-fit gap-1 py-1 px-[10px] bg-[#F7EDFC] dark:bg-[#290939] rounded-3xl h-8 items-center",children:[(0,l.jsx)(eG.r.Misc.IbcProtocol,{color:ej?"#E0B9F4":"#A22CDD"}),(0,l.jsx)(en.Z,{size:"xs",color:"text-[#A22CDD] dark:text-[#E0B9F4]",className:"whitespace-nowrap font-medium",children:"IBC Transfer"})]})}):null,eB&&(null===(i=c.allChainTags[eB.chainId])||void 0===i?void 0:i.includes("Initia"))?(0,l.jsx)("div",{onClick:e7,className:"flex ml-auto justify-end cursor-pointer",children:(0,l.jsxs)("div",{className:"flex w-fit gap-x-1.5 py-1.5 px-3 bg-gray-100 dark:bg-gray-800 rounded-3xl items-center",children:[(0,l.jsx)(en.Z,{size:"xs",color:"text-gray-800 dark:text-white-100",className:"whitespace-nowrap font-medium",children:eB.chainName}),(0,l.jsx)(U.p,{size:10,className:"text-gray-800 dark:text-white-100"})]})}):null]})}),eP?(0,l.jsx)(e2,{address:g,handleContactSelect:e4}):null,(0,l.jsx)(aw,{isOpenType:S,setSelectedAddress:e6,handleContactSelect:e4,onClose:()=>E(null),skipSupportedDestinationChainsIDs:ez}),!(0,ex.l)()&&(0,l.jsx)(aN,{isOpen:b,setSelectedInitiaChain:N,onClose:()=>y(!1),chainTagsStore:c,chainInfoStore:w.Ui}),(0,l.jsx)(e3,{isOpen:v,onSave:e4,onClose:()=>h(!1),address:g,ethAddress:D,sendActiveChain:X})]})})});var aE=t("10493"),aD=t("26007"),aM=t("10853");let aI=e=>(0,p.useMemo)(()=>{var a;if((null==e?void 0:null===(a=e.trim())||void 0===a?void 0:a.length)===0)return"";let t=parseFloat(e);return isNaN(t)?"":t.toString()},[e]);var aA=t("20302"),aT=t("79533"),aZ=t(48834).Buffer;let aO=e=>{let{activeWallet:a}=(0,es.ZP)(),t=T.w.useGetWallet(),{chains:l}=(0,n._IL)(),s=(0,n.a74)(),i=(0,p.useMemo)(()=>e||s,[s,e]),r=(null==a?void 0:a.walletType)===n._KQ.LEDGER,o=(0,p.useCallback)(async(e,a)=>{var n;let s=await t((null===(n=l[i])||void 0===n?void 0:n.key)??"");if("signDirect"in s){let t=await s.signDirect(e,a);return{signature:new Uint8Array(aZ.from(t.signature.signature,"base64")),signed:t.signed}}throw Error("signDirect not supported")},[i,l,t]),d=(0,p.useCallback)(async(e,a)=>{var n;let s=await t((null===(n=l[i])||void 0===n?void 0:n.key)??"");if("signAmino"in s){let t=await s.signAmino(e,a);return{signature:new Uint8Array(aZ.from(t.signature.signature,"base64")),signed:t.signed}}throw Error("signAmino not supported")},[i,l,t]),c=(0,p.useMemo)(()=>({signDirect:o,signAmino:d}),[d,o]);return{walletClient:(0,p.useMemo)(()=>({enable:async()=>{},getAccount:async e=>{var t;if(!a)throw Error("No active wallet");let l=(await (0,aT._d)())[e]??i,n=a.addresses[l],s=null===(t=a.pubKeys)||void 0===t?void 0:t[l];if(!n||!s)throw Error("No address or pubKey");return{bech32Address:n,pubKey:(0,aA.fromBase64)(s),isNanoLedger:r}},getSigner:async()=>c}),[i,a,r,c])}};var aH=t("80502"),aL=t("51994"),a_=t("80588");let aP=(0,g.Pi)(e=>{let{rootDenomsStore:a,rootBalanceStore:t}=e,[n,s]=(0,p.useState)(!1),{userPreferredGasPrice:i,userPreferredGasLimit:r,setUserPreferredGasLimit:o,setUserPreferredGasPrice:d,gasEstimate:c,gasOption:u,setGasOption:m,setFeeDenom:v,selectedToken:h,gasError:x,setGasError:g,addressWarning:f,sendActiveChain:b,sendSelectedNetwork:y,isSeiEvmTransaction:w}=z(),k=a.allDenoms,j=(0,I.e7)(k,{activeChain:b,selectedNetwork:y,isSeiEvmTransaction:w}),[N,C]=(0,p.useState)({option:u,gasPrice:i??j.gasPrice}),S=(0,p.useRef)(!1),E=(0,p.useCallback)(()=>{s(!1)},[]),D=(0,p.useCallback)((e,a)=>{S.current=!0,C(e),v({...a.denom,ibcDenom:a.ibcDenom})},[v]);return(0,p.useEffect)(()=>{if(!S.current)C({option:u,gasPrice:j.gasPrice})},[j.gasPrice.amount.toString(),j.gasPrice.denom]),(0,p.useEffect)(()=>{m(N.option),d(N.gasPrice)},[N,m,d]),(0,l.jsx)("div",{children:(0,l.jsxs)(I.ZP,{recommendedGasLimit:c.toString(),gasLimit:(null==r?void 0:r.toString())??c.toString(),setGasLimit:e=>o(Number(e.toString())),gasPriceOption:N,onGasPriceOptionChange:D,error:x,setError:g,isSelectedTokenEvm:null==h?void 0:h.isEvm,chain:b,network:y,isSeiEvmTransaction:w,rootDenomsStore:a,rootBalanceStore:t,children:["link"===f.type?null:(0,l.jsx)(aL.a,{setShowFeesSettingSheet:s}),x&&!n?(0,l.jsx)("p",{className:"text-red-300 text-sm font-medium mt-2 text-center",children:x}):null,(0,l.jsx)(a_.k,{showFeesSettingSheet:n,onClose:E,gasError:x,hideAdditionalSettings:"bitcoin"===b||"bitcoinSignet"===b})]})})});function aF(){let[e,a]=(0,p.useState)(new(E())(1)),[t]=(0,n.fOz)(),{feeDenom:s,feeTokenFiatValue:i,sendActiveChain:r,sendSelectedNetwork:o}=z(),{lcdUrl:d}=(0,n.U9i)(r,o);return(0,p.useEffect)(()=>{!async function(){switch(r){case"mayachain":{let e=await (0,n.Tti)(d??"");a(new(E())(e).div(10**s.coinDecimals));break}case"thorchain":{let e=await (0,n.d5w)(d??"");a(new(E())(e).div(10**s.coinDecimals))}}}()},[s.coinDecimals,d,r]),(0,l.jsxs)("div",{className:"flex items-center justify-center text-gray-600 dark:text-gray-400",children:[(0,l.jsx)("p",{className:"font-semibold text-center text-sm",children:"Transaction fee: "}),(0,l.jsxs)("p",{className:"font-semibold text-center text-sm ml-1",children:[(0,l.jsxs)("strong",{className:"mr-1",children:[e.toString()," ",s.coinDenom]}),i?`(${t(e.multipliedBy(i))})`:null]})]})}var az=t("12887"),aB=t("26089"),aW=t("86200"),aR=t("42152"),aV=t("30942"),a$=t("86134"),aU=t("65182"),aG=t("43460"),aK=t("1252");let aQ=()=>{let[e,a]=(0,p.useState)(!1),[t,l]=(0,p.useState)(),{selectedToken:s,selectedAddress:i,fee:r,inputAmount:o,isIBCTransfer:d,transferData:c,memo:u,sendActiveChain:m,sendSelectedNetwork:v,associatedSeiAddress:h}=z(),x=(0,n.X82)(),{chains:g}=(0,n._IL)(),{data:f}=(0,ea.C$)(),{setPendingTx:b}=(0,n.EEe)(),y=(0,H._)(),{walletClient:w}=aO(m),k=(0,n.FmJ)(),j=n.rNU.useOperateCosmosTx(),[N,S]=(0,p.useState)(!1),D=T.w.useGetWallet(),M=(0,n.xxU)(m,v),{activeWallet:I}=(0,es.ZP)(),A=null==I?void 0:I.addresses[m],Z=(0,p.useMemo)(()=>(0,aK.n)(Object.values(g)),[g]);return{confirmSkipTx:async()=>{if(!r||!c||!("messages"in c)||!(null==c?void 0:c.messages)||!g){r?c&&"messages"in c&&(null==c?void 0:c.messages)?g?l("Invalid transfer data"):l("Invalid transfer chains"):l("Invalid transfer message"):l("Invalid transfer fee");return}l(void 0),a(!0);let{messages:e}=c;for(let c=0;c<e.length;c++){var t,p,N,T,O,H,L;let _,P,F;let z=e[c],B=null==z?void 0:z.multi_chain_msg,W=JSON.parse(B.msg),R=new Date().getTime();if(Number(W.timeout_timestamp/1e6)<R){l("Transaction timed out"),a(!1);return}let{senderAddress:V,encodedMessage:$}=(0,aU.u0)(B.msg_type_url,W),U=null==f?void 0:f.find(e=>e.chainId===B.chain_id);if(!U){l("Chain info is not found");return}try{_=await w.getAccount(""),P=await w.getSigner(""),(null==_?void 0:_.isNanoLedger)&&S(!0)}catch(e){l(null==e?void 0:e.message),a(!1);return}let G=new aU.gO(String(U.chainId),U.restUrl,U.coinType,P,_),K=await D(U.key);try{if((null==I?void 0:I.walletType)===n._KQ.LEDGER){if(Z.includes(U.key)){if("injective"===U.key){let e=new C.QQ$(!1,K,U.restUrl),a=(await (0,C.WdH)(U.restUrl,$.value.sourceChannel,"transfer")).data.identified_client_state.client_state.latest_height,t={revisionHeight:new(E())(a.revision_height).plus(150),revisionNumber:a.revision_number},l={...$,value:{memo:$.value.memo,receiver:$.value.receiver,sender:$.value.sender,amount:$.value.token,height:t,timeout:$.value.timeoutTimestamp,port:$.value.sourcePort,channelId:$.value.sourceChannel}},n=await e.signTx(V,[l],r,u);F=a$.gO.encode(n)}else if("dymension"===U.key||"evmos"===U.key||"humans"===U.key){let e=new C.c6u(U.restUrl,K,C.oCA[U.key].chainId,C.oCA[U.key].evmChainId),a=$.value;if(!a.token)throw Error("Invalid token");F=await e.signIbcTx({fromAddress:a.sender,toAddress:a.receiver,transferAmount:a.token,sourcePort:a.sourcePort,sourceChannel:a.sourceChannel,timeoutTimestamp:void 0,timeoutHeight:void 0,fee:r,memo:u||"",txMemo:a.memo})}}else F=(await (0,aG.U)($,r,U,K,V,u)).txBytesString}else F=await G.sign(V,[$],r,u)}catch(e){(null==e?void 0:null===(t=e.message)||void 0===t?void 0:t.includes("rejected"))||(null==e?void 0:null===(p=e.message)||void 0===p?void 0:p.includes("declined"))?(a(!1),l(null==e?void 0:e.message)):(l(null==e?void 0:e.message),a(!1)),S(!1);return}finally{S(!1)}try{let e="",a=!1;try{let t=await G.submitTx(String(U.chainId),F);if(!(a=t.success))throw Error("SubmitTx Failed");e=t.response.tx_hash}catch(t){if("SubmitTx Failed"===t.message){let{transactionHash:t,code:l,codespace:n}=await G.broadcastTx(F);if(e=t,0!==l)throw Error(`BroadcastTx Failed ${(0,C.f4W)(l,n)}`);a=!0}else throw Error(`BroadcastTx Failed ${(0,C.f4W)(t.code,t.codespace)}`)}let t=async()=>{let a=0;for(;a<=100;){let t=await aU.xJ.getTxnStatus({chain_id:B.chain_id,tx_hash:e});if(t.success){let{state:e,error:a}=t.response;if(e===aU._T.STATE_COMPLETED_SUCCESS)return{code:0};if(e===aU._T.STATE_ABANDONED)return{code:0};if(null==a?void 0:a.code)return a}a+=1,await (0,C._vH)(2e3)}},l=h||(null==i?void 0:i.address)||"",c=(null==s?void 0:s.coinMinimalDenom)||(null==s?void 0:s.ibcDenom)||"",u={img:U.icon,sentAmount:o,sentTokenInfo:{...s,coinDenom:(null==s?void 0:s.symbol)||(null==s?void 0:s.name)},sentUsdValue:"",subtitle1:(0,n.Hnh)(l),title1:`${o} ${(null==s?void 0:s.symbol)||(null==s?void 0:s.name)}`,txStatus:"loading",txType:d?"ibc/transfer":"send",txHash:e,promise:t(),sourceChain:m,sourceNetwork:v,toAddress:l,toChain:null==i?void 0:i.chainName},f=g[(null===(N=x[(null==s?void 0:s.coinMinimalDenom)??""])||void 0===N?void 0:N.chain)??""],p=await (0,n.IGx)(o,{coinGeckoId:null===(T=x[(null==s?void 0:s.coinMinimalDenom)??""])||void 0===T?void 0:T.coinGeckoId,coinMinimalDenom:(null==s?void 0:s.coinMinimalDenom)??"",chainId:(0,n.LQk)(f,v),chain:(null==s?void 0:s.chain)??""}),w=(0,C.hI1)(o.toString(),(null==s?void 0:s.coinDecimals)??6),S=d?await (0,n.V51)(null==W?void 0:W.source_channel,l,{denom:c,amount:w}):(0,n.dSc)(l,{denom:c,amount:w});S={...S,...k},await j({txHash:e,txType:d?n.pb0.IbcSend:n.pb0.Send,amount:p,metadata:S,feeDenomination:null==r?void 0:null===(O=r.amount[0])||void 0===O?void 0:O.denom,feeQuantity:null==r?void 0:null===(H=r.amount[0])||void 0===H?void 0:H.amount,forceChain:m,forceNetwork:v,forceWalletAddress:A,chainId:M}),b(u),a?y("success"):y("txDeclined")}catch(e){a(!1),(null==e?void 0:null===(L=e.message)||void 0===L?void 0:L.includes("insufficient fees"))?l("Send failed due to low gas fees. Please try again with higher gas."):l(null==e?void 0:e.message);return}}a(!1)},txnProcessing:e,error:t,showLedgerPopupSkipTx:N,setError:l}},aY=(0,g.Pi)(e=>{var a,t,i,r,o;let{isOpen:d,onClose:c,rootERC20DenomsStore:u}=e,[m]=(0,n.fOz)(),v=(0,Q.a)(),h=(0,n.DI5)(),x=T.w.useGetWallet(),g=u.allERC20Denoms,f=(0,n.uVs)(),{memo:b,selectedToken:y,selectedAddress:w,fee:k,showLedgerPopup:j,inputAmount:N,tokenFiatValue:S,isSending:D,txError:M,isIBCTransfer:I,sendDisabled:A,confirmSend:Z,confirmSendEth:O,clearTxError:H,userPreferredGasPrice:L,userPreferredGasLimit:_,gasEstimate:P,transferData:F,isIbcUnwindingDisabled:W,fetchAccountDetailsData:R,associatedSeiAddress:V,sendActiveChain:$,associated0xAddress:U,setIsSending:G,isSeiEvmTransaction:K,hasToUsePointerLogic:Y,pointerAddress:X}=z(),{confirmSkipTx:J,txnProcessing:ee,error:ea,showLedgerPopupSkipTx:et,setError:el}=aQ(),en=(0,p.useMemo)(()=>m(new(E())(N).multipliedBy(S??0)),[m,N,S]),es=(0,p.useCallback)(()=>{el(""),c()},[]),ei=(0,p.useCallback)(async()=>{if(H(),!!k&&!!(null==w?void 0:w.address)&&!!y)try{var e,a,t,l,s,i;let r=w.address,o=(0,n.kjy)(Object.keys(g),null==y?void 0:y.coinMinimalDenom);if((f||(null===(e=h[$])||void 0===e?void 0:e.evmOnlyChain))&&o&&r.toLowerCase().startsWith(h[$].addressPrefix)&&(null==R?void 0:R.pubKey.key)&&(r=(0,C.DiR)(R.pubKey.key)),w.address.toLowerCase().startsWith("0x")&&V&&(r=V),U&&(r=U),K||(null===(a=h[$])||void 0===a?void 0:a.evmOnlyChain)){let e=await x($,!0),a=null===(l=Object.keys((null===(s=h[$])||void 0===s?void 0:s.nativeDenoms)??{}))||void 0===l?void 0:l[0];await O(r,N,_??P,e,parseInt((null==L?void 0:null===(i=L.amount)||void 0===i?void 0:i.toString())??""),{isERC20Token:o||Y,contractAddress:Y?X:y.coinMinimalDenom,decimals:y.coinDecimals,nativeTokenKey:a})}else if((null==F?void 0:F.isSkipTransfer)&&!W&&(I||(null==w?void 0:null===(t=w.address)||void 0===t?void 0:t.startsWith("init")))){let e=await x($,!0);"evmos"===$&&e instanceof C.Hlr?await Z({selectedToken:y,toAddress:V||(null==w?void 0:w.address)||"",amount:new(E())(N),memo:b,fees:k}):J()}else await Z({selectedToken:y,toAddress:V||(null==w?void 0:w.address)||"",amount:new(E())(N),memo:b,fees:k})}catch(e){G(!1),(0,aB.Tb)(e)}},[H,k,null==w?void 0:w.address,y,g,f,h,$,null==R?void 0:null===(a=R.pubKey)||void 0===a?void 0:a.key,V,U,K,null==F?void 0:F.isSkipTransfer,W,I,x,O,N,_,P,null==L?void 0:L.amount,Y,X,Z,b,J,G]);return((0,aV.X)(M),(j||et)&&!M)?(0,l.jsx)(aR.Z,{showLedgerPopup:j||et}):(0,l.jsx)(B.Z,{isOpen:d,closeOnBackdropClick:!0,onClose:es,title:"Review Transaction",contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"p-6",children:(0,l.jsxs)("div",{className:"flex flex-col items-center w-full gap-y-4",children:[(0,l.jsxs)("div",{className:"w-full flex items-center gap-2 p-4 rounded-2xl bg-gray-50 dark:bg-gray-900",children:[(0,l.jsxs)("div",{className:"flex flex-col flex-1 items-center",children:[(0,l.jsx)(s.Avatar,{avatarImage:(null==y?void 0:y.img)??v,chainIcon:null==h?void 0:null===(t=h[$])||void 0===t?void 0:t.chainSymbolImageUrl,size:"sm",avatarOnError:(0,q._)(v),className:"mb-4 bg-gray-100 dark:bg-gray-850 rounded-full p-2 !h-11 !w-11"}),(0,l.jsx)("p",{className:"text-sm text-black-100 dark:text-white-100 font-bold mb-1","data-testing-id":"send-review-sheet-inputAmount-ele",children:(0,n.LHZ)(N,(null==y?void 0:y.symbol)??"")}),(0,l.jsxs)("p",{className:"text-xs text-gray-800 dark:text-gray-200 font-medium",children:[en," \xb7 on ",null==h?void 0:null===(i=h[$])||void 0===i?void 0:i.chainName]})]}),(0,l.jsx)(az.o,{size:24,className:"text-black-100 shrink-0 dark:text-white-100 bg-gray-100 dark:bg-gray-850 rounded-full p-1.5"}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 items-center",children:[(0,l.jsx)(s.Avatar,{avatarImage:null==w?void 0:w.avatarIcon,emoji:null==w?void 0:w.emoji,chainIcon:null==w?void 0:w.chainIcon,size:"sm",avatarOnError:(0,q._)(v),className:"mb-4 bg-gray-100 dark:bg-gray-850 rounded-full p-2 !h-11 !w-11"}),(0,l.jsx)("p",{className:"text-sm text-black-100 dark:text-white-100 font-bold mb-1","data-testing-id":"send-review-sheet-to-ele",children:(null==w?void 0:w.ethAddress)&&(null==w?void 0:w.chainName)!=="injective"?(0,n.Hnh)(w.ethAddress):(null==w?void 0:w.selectionType)==="currentWallet"?null==w?void 0:null===(r=w.name)||void 0===r?void 0:r.split("-")[0]:null==w?void 0:w.name}),(0,l.jsxs)("p",{className:"text-xs text-gray-800 dark:text-gray-200 font-medium",children:["on ",null==h?void 0:null===(o=h[null==w?void 0:w.chainName])||void 0===o?void 0:o.chainName," ",(0,l.jsx)("br",{})]})]})]}),b?(0,l.jsxs)("div",{className:"w-full flex items-baseline gap-4 p-4 rounded-2xl bg-gray-50 dark:bg-gray-900",children:[(0,l.jsx)("p",{className:"text-sm text-gray-800 dark:text-gray-200 font-bold",children:"Memo"}),(0,l.jsx)("p",{className:"font-medium text-md text-black-100 dark:text-white-100",children:b})]}):null,(0,l.jsx)(s.Buttons.Generic,{color:(0,ex.l)()?eh.w.compassPrimary:eh.w.green600,size:"normal",title:"Send",className:"w-full mt-2",onClick:ei,disabled:j||D||A||ee,"data-testing-id":"send-review-sheet-send-btn",children:D||ee?"Sending...":"Confirm Send"}),M||ea?(0,l.jsx)(aW._,{text:M||ea}):null]})})});var aX=t(34406);let aq=(0,g.Pi)(e=>{var a,t,i,r,o;let{rootDenomsStore:d,rootBalanceStore:c,rootERC20DenomsStore:u}=e,{activeWallet:m}=(0,es.ZP)(),v=T.w.useGetWallet(),[h,x]=(0,p.useState)(!1),[g,f]=(0,p.useState)(!1),[b,y]=(0,p.useState)(!1),{sendDisabled:w,clearTxError:k,fee:j,inputAmount:N,setInputAmount:S,selectedToken:E,addressWarning:D,setAddressWarning:M,setGasError:I,selectedAddress:Z,setTransferData:O,pfmEnabled:H,isIbcUnwindingDisabled:L,isIBCTransfer:_,fetchAccountDetailsStatus:P,amountError:F,addressError:B,sendActiveChain:W,sendSelectedNetwork:R,isSeiEvmTransaction:V,hasToUseCw20PointerLogic:$,feeDenom:U}=z(),{addressLinkState:G,updateAddressLinkState:K}=(0,n.uaF)(v),{status:Q}=(0,n.CIk)(W,R),{status:Y}=(0,n.sXv)(W,R),X=(0,C.KPM)(W),{chains:q}=(0,n._IL)(),J=(0,n.SFn)(W),{walletClient:ee}=aO(W),et=(0,ei.G)(),el=aI(N),en=(0,ea.cF)(el,500),{data:er}=(0,ea.Uj)({chainTypes:["cosmos"],onlyTestnets:"testnet"===R}),{data:eo}=(0,n.S2A)(),ed=(0,p.useRef)(null),[ec,eu]=(0,p.useState)(""),[ev,eg]=(0,p.useState)(""),ef=(null==Z?void 0:null===(a=Z.address)||void 0===a?void 0:a.startsWith("init"))??!1,{data:ep}=(0,ea.N0)({only_testnets:"testnet"===R}),eb=(0,p.useMemo)(()=>{var e;return null==ep?void 0:ep[null==q?void 0:null===(e=q[W])||void 0===e?void 0:e.chainId]},[ep,q,W]),ey=(0,p.useMemo)(()=>{var e,a,t,l;let n=null==eb?void 0:eb.find(e=>{var a;let t=null===(a=e.denom)||void 0===a?void 0:a.replace(/(cw20:|erc20\/)/g,"");return(null==E?void 0:E.ibcDenom)?t===E.ibcDenom:t===(null==E?void 0:E.coinMinimalDenom)});return n?{...n,trace:(null==E?void 0:E.ibcChainInfo)?`transfer/${null===(e=E.ibcChainInfo)||void 0===e?void 0:e.channelId}`:n.trace}:{denom:((null==E?void 0:E.ibcDenom)||(null==E?void 0:E.coinMinimalDenom))??"",symbol:(null==E?void 0:E.symbol)||"",logoUri:(null==E?void 0:E.img)||"",decimals:(null==E?void 0:E.coinDecimals)||0,originDenom:(null==E?void 0:E.coinMinimalDenom)||"",trace:(null==E?void 0:E.ibcChainInfo)?`transfer/${null===(a=E.ibcChainInfo)||void 0===a?void 0:a.channelId}`:"",name:(null==E?void 0:E.name)||"",chainId:(null==E?void 0:null===(t=E.ibcChainInfo)||void 0===t?void 0:t.name)||"",originChainId:(null==E?void 0:null===(l=E.ibcChainInfo)||void 0===l?void 0:l.name)||"",isCw20:!1,coingeckoId:(null==E?void 0:E.coinGeckoId)||""}},[E,eb]),ew=(0,p.useMemo)(()=>{var e,a;if(Z&&(null===(e=Z.address)||void 0===e?void 0:e.startsWith("init"))&&Z.chainName!==W){let e=q[null==Z?void 0:Z.chainName];return null==ep?void 0:null===(a=ep[null==e?void 0:e.chainId])||void 0===a?void 0:a.find(a=>{var t;return a.denom===(null===(t=Object.values(null==e?void 0:e.nativeDenoms)[0])||void 0===t?void 0:t.coinMinimalDenom)})}},[ep,q,Z,W]),ek=(0,ea.DA)({amount:en,asset:ey,destinationChain:null==er?void 0:er.find(e=>{var a;return e.chainId===(null===(a=q[null==Z?void 0:Z.chainName])||void 0===a?void 0:a.chainId)}),destinationAsset:ew,destinationAddress:null==Z?void 0:Z.address,sourceChain:null==er?void 0:er.find(e=>e.chainId===q[W].chainId),userAddress:J??"",walletClient:ee,enabled:(_||ef)&&(null==eo?void 0:null===(t=eo.ibc)||void 0===t?void 0:t.extension)!=="disabled",isMainnet:"mainnet"===R});(0,p.useEffect)(()=>{(null==ek?void 0:ek.messages)?O(ek):O({isSkipTransfer:!1,isGasFeesLoading:!1,gasFees:void 0,gasFeesError:void 0})},[null==E?void 0:E.coinMinimalDenom,null==Z?void 0:Z.chainName,null==ek?void 0:ek.messages]),(0,p.useEffect)(()=>{if(ef){var e,a;(null==ek?void 0:ek.isLoadingMessages)||(null==ek?void 0:ek.isLoadingRoute)||null==Z||!Z.chainName||(null===(e=q[null==Z?void 0:Z.chainName])||void 0===e?void 0:e.chainId)===(null===(a=q[W])||void 0===a?void 0:a.chainId)||(null==ek?void 0:ek.messages)?y(!1):y(!0)}},[q,ef,null==Z?void 0:Z.chainName,W,null==ek?void 0:ek.isLoadingMessages,null==ek?void 0:ek.messages,null==ek?void 0:ek.isLoadingRoute]);let ej=(0,p.useMemo)(()=>{if(b)return"No routes found";if(F)return F.includes("IBC transfers are not supported")?"Select different chain or address":F.includes("You can only send this token to a SEI address")?"Address not supported":F;if(B)return"The entered address is invalid"===B?"Invalid address":B.includes("IBC transfers are not supported")?"Select different chain or address":B;if("link"===D.type&&"success"===G)return"Addresses linked successfully";if("link"===D.type&&!["done","unknown"].includes(G)){var e;return(null==eo?void 0:null===(e=eo.link_evm_address)||void 0===e?void 0:e.extension)==="redirect"?(0,l.jsxs)("span",{className:"flex items-center gap-1",children:["Link Addresses",(0,l.jsx)(aD.O,{size:16,className:"!leading-[20px]"})]}):"Link Addresses"}return"Review Transfer"},[B,G,D.type,F,null==eo?void 0:null===(i=eo.link_evm_address)||void 0===i?void 0:i.extension,b]),eN=async()=>{var e,a,t;if((null==eo?void 0:null===(e=eo.link_evm_address)||void 0===e?void 0:e.extension)==="redirect"){let e=await (0,n.auI)({activeNetwork:R,activeChain:W,infoType:n.SGB.NO_FUNDS_DAPP_LINK});window.open(e,"_blank")}else if((null==eo?void 0:null===(a=eo.link_evm_address)||void 0===a?void 0:a.extension)==="no-funds")try{let e=await (null===(t=ed.current)||void 0===t?void 0:t.execute({async:!0}));if(!e){eu("Could not get hCaptcha response. Please try again.");return}await K({setError:I,ethAddress:et[0],token:e.response,setShowLoadingMessage:eg})}catch(e){eu("Failed to verify captcha. Please try again.")}else await K({setError:I,ethAddress:et[0]});M(n.wL6)},eC=(0,p.useCallback)(()=>{f(!1)},[]),eS=(0,p.useMemo)(()=>{var e,a,t;return!!ef&&((null==ek?!!void 0:!!ek.isLoadingRoute)||(null==ek?!!void 0:!!ek.isLoadingMessages)||(null==Z?!!void 0:!!Z.chainName)&&(null===(e=q[null==Z?void 0:Z.chainName])||void 0===e?void 0:e.chainId)!==(null===(a=q[W])||void 0===a?void 0:a.chainId)&&!(null==ek?void 0:ek.messages))||("link"===D.type?["loading","success"].includes(G)||(null==eo?void 0:null===(t=eo.link_evm_address)||void 0===t?void 0:t.extension)==="disabled":!!V&&"loading"===Q||!!X&&"loading"===Y||w||!H&&!L||["error","loading"].includes(P)&&!$)},[ef,null==ek?void 0:ek.isLoadingRoute,null==ek?void 0:ek.isLoadingMessages,null==ek?void 0:ek.messages,null==Z?void 0:Z.chainName,q,W,D.type,V,Q,w,H,L,P,$,G,null==eo?void 0:null===(r=eo.link_evm_address)||void 0===r?void 0:r.extension,Y,X]),eE={amount:(null==j?void 0:j.amount[0].amount.toString())??"",denom:U.coinMinimalDenom};return V&&"loading"===Q||X&&"loading"===Y?(0,l.jsx)(l.Fragment,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"absolute w-[calc(100%-4px)] flex flex-col gap-4 p-4 !pr-[14px] bottom-0 left-0 dark:bg-black-100 bg-gray-50",children:[N&&(A.Vv.includes(W)?(0,l.jsx)(aF,{}):(0,l.jsx)(aP,{rootDenomsStore:d,rootBalanceStore:c})),(null==eo?void 0:null===(o=eo.link_evm_address)||void 0===o?void 0:o.extension)!=="no-funds"||"link"!==D.type||["done","unknown"].includes(G)?null:(0,l.jsx)("form",{children:(0,l.jsx)(aE.Z,{ref:ed,sitekey:aX.env.LINK_ADDRESS_HCAPTCHA_SITE_KEY??"",size:"invisible",theme:"dark"})}),(0,l.jsx)(s.Buttons.Generic,{size:"normal",color:B||F||b?eh.w.red300:(0,ex.l)()?eh.w.compassPrimary:eh.w.green600,onClick:"link"!==D.type||["done","unknown"].includes(G)?()=>{(null==m?void 0:m.watchWallet)?aH.o.setShowPopup(!0):f(!0)}:eN,disabled:eS,"data-testing-id":"send-review-transfer-btn",className:"w-full",children:"link"===D.type&&"loading"===G?(0,l.jsx)(em.T,{color:eh.w.white100}):ej}),ec?(0,l.jsx)("p",{className:"text-red-300 text-center mt-4",children:ec}):null,ev?(0,l.jsx)("p",{className:"text-yellow-600 text-center mt-4",children:ev}):null]}),E&&j&&g?(0,l.jsx)(aM.K,{amount:N,setAmount:S,selectedToken:E,fee:eE,setShowReviewSheet:x,closeAdjustmentSheet:eC,forceChain:W,forceNetwork:R,rootDenomsStore:d,isSeiEvmTransaction:V}):null,(0,l.jsx)(aY,{isOpen:h,onClose:()=>{x(!1),k()},rootERC20DenomsStore:u})]})}),aJ=()=>{(0,c.a)(r.q.Send);let e=(0,b.s0)(),a=(0,b.TH)(),t=(0,v.pb)(),g=(0,n.a74)(),C=(0,m.N8)(),[S,E]=(0,p.useState)(!1),{headerChainImgSrc:D}=(0,d.Cd)(),{theme:M}=(0,s.useTheme)(),I=(0,x.Z)().get("chainId")??void 0,A=(0,h._)(j.t),T=N.jZ.loading;return(0,p.useEffect)(()=>{if(I){var e;let a=null===(e=Object.values(t).find(e=>e.chainId===I))||void 0===e?void 0:e.key;a&&C(a)}},[I,t]),(0,u.$)({page:"send",queryStatus:T?"loading":"success",op:"sendPageLoad",description:"loading state on send page"}),(0,l.jsx)(o.E.div,{className:"relative h-full w-full",children:(0,l.jsxs)(i.Z,{header:(0,l.jsx)(s.Header,{action:{onClick:()=>e("/home"),type:s.HeaderActionType.BACK},imgSrc:D,onImgClick:A?void 0:()=>E(!0),title:"/ibc"===a.pathname?"IBC":"Send"}),children:[(0,l.jsx)(F,{activeChain:g,rootDenomsStore:k.gb,rootCW20DenomsStore:k.UE,rootERC20DenomsStore:k.iE,children:(0,l.jsxs)("div",{className:"p-4 space-y-4 overflow-y-auto scrollbar",style:{height:"calc(100% - 72px)"},children:[(0,l.jsx)(aS,{themeColor:"dark"===M?"#9e9e9e":"#696969",rootERC20DenomsStore:k.iE,rootCW20DenomsStore:k.UE,chainTagsStore:w.HN,compassSeiTokensAssociationsStore:w.Bj}),(0,l.jsx)(ee,{rootBalanceStore:N.jZ,isAllAssetsLoading:T,rootDenomsStore:k.gb,rootCW20DenomsStore:k.UE,rootERC20DenomsStore:k.iE,evmBalanceStore:y.Ct}),(0,l.jsx)(eb,{}),(0,l.jsx)(ep,{}),(0,l.jsx)("div",{className:"h-[100px]"}),(0,l.jsx)(aq,{rootBalanceStore:N.jZ,rootDenomsStore:k.gb,rootERC20DenomsStore:k.iE})]})}),(0,l.jsx)(f.Z,{isVisible:S,onClose:()=>E(!1),chainTagsStore:w.HN})]})})};aJ.displayName="Send";let a0=(0,g.Pi)(aJ)},85763:function(e,a,t){t.d(a,{$:function(){return i}});var l=t(93407),n=t(2826),s=t(66534);class i{static shortenAddress(e,a){if(a>=e.length)return e;let t=e.indexOf("1"),l=e.slice(0,t),n=e.slice(t+1);if(a-=l.length,a-=3,(a-=1)<=0)return"";let s=Math.floor(n.length/2),i=n.slice(0,s),r=n.slice(s);for(;a<i.length+r.length;)(i.length+r.length)%2==1&&i.length>0?i=i.slice(0,i.length-1):r=r.slice(1);return l+"1"+i+"..."+r}static fromBech32(e,a){let t=s.bech32.decode(e);if(a&&t.prefix!==a)throw Error("Unmatched prefix");return new i(new Uint8Array(s.bech32.fromWords(t.words)))}static validate(e,a){let{prefix:t}=s.bech32.decode(e);if(a&&a!==t)throw Error(`Unexpected prefix (expected: ${a}, actual: ${t})`)}static getChainKey(e){try{let{prefix:a}=s.bech32.decode(e),t=n.BU_[a];if("cosmoshub"===t)return"cosmos";return t}catch(e){return}}toBech32(e){let a=s.bech32.toWords(this.address);return s.bech32.encode(e,a)}constructor(e){(0,l._)(this,"address",void 0),this.address=e}}},26793:function(e,a,t){t.d(a,{W:()=>x});var l=t("2784"),n=t("6806");let s=new Map([["bold",l.createElement(l.Fragment,null,l.createElement("path",{d:"M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"}))],["duotone",l.createElement(l.Fragment,null,l.createElement("path",{d:"M160,48V208L80,128Z",opacity:"0.2"}),l.createElement("path",{d:"M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"}))],["fill",l.createElement(l.Fragment,null,l.createElement("path",{d:"M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"}))],["light",l.createElement(l.Fragment,null,l.createElement("path",{d:"M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"}))],["regular",l.createElement(l.Fragment,null,l.createElement("path",{d:"M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"}))],["thin",l.createElement(l.Fragment,null,l.createElement("path",{d:"M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"}))]]);var i=Object.defineProperty,r=Object.defineProperties,o=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,m=(e,a,t)=>a in e?i(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,v=(e,a)=>{for(var t in a||(a={}))c.call(a,t)&&m(e,t,a[t]);if(d)for(var t of d(a))u.call(a,t)&&m(e,t,a[t]);return e},h=(e,a)=>r(e,o(a));let x=(0,l.forwardRef)((e,a)=>l.createElement(n.Z,h(v({ref:a},e),{weights:s})));x.displayName="CaretLeft"}}]);