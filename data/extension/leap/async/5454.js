!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e9daf477-41e7-43ee-9a51-096bf00355e4",e._sentryDebugIdIdentifier="sentry-dbid-e9daf477-41e7-43ee-9a51-096bf00355e4")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.17.3"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["5454"],{57767:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(52322),l=n(14281);n(2784);var i=n(86376),r=n(69816);function s(e){let{showLedgerPopup:t,onClose:n}=e;return(0,a.jsx)(l.Z,{isOpen:t,onClose:n,title:"Confirm on Ledger",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"my-10",children:(0,a.jsx)(i.Z,{})}),(0,a.jsx)(r.Z,{size:"md",className:"font-bold mb-7",children:"Approve transaction on your hardware wallet"})]})})}},48681:function(e,t,n){n.d(t,{Z:function(){return y}});var a=n(52322),l=n(21950),i=n(39279),r=n(14281),s=n(69816),o=n(35226),d=n(23259),c=n(71603),u=n(78935),m=n(81252),p=n(98851),v=n(70734),g=n(2784),f=n(32374),h=n(49409),x=n(71198);let w=m.w.useWallets;function y(e){var t,n,m,y,b,j,N,E,S,k,A,T,M,D,H;let{isOpen:C,onClose:Z,title:I,currentWalletInfo:V,activeChain:_}=e,O=w(),{activeWallet:L,setActiveWallet:F}=(0,c.ZP)(),P=(0,g.useMemo)(()=>O?Object.values(O).map(e=>e).sort((e,t)=>e.name.localeCompare(t.name)):[],[O]),R=null==V?void 0:null===(n=V.wallets)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.name,B=null==V?void 0:null===(b=V.wallets)||void 0===b?void 0:null===(y=b[0])||void 0===y?void 0:null===(m=y.addresses)||void 0===m?void 0:m[_],G=null==V?void 0:null===(N=V.wallets)||void 0===N?void 0:null===(j=N[0])||void 0===j?void 0:j.colorIndex,W=(null==V?void 0:null===(A=V.origin)||void 0===A?void 0:null===(k=A.split("//"))||void 0===k?void 0:null===(S=k.at(-1))||void 0===S?void 0:null===(E=S.split("."))||void 0===E?void 0:E.at(-2))||(null==V?void 0:null===(M=V.origin)||void 0===M?void 0:null===(T=M.split("//"))||void 0===T?void 0:T.at(-1)),$=(0,u.G)(null==V?void 0:V.origin);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.Z,{isOpen:C,onClose:Z,title:I,closeOnBackdropClick:!0,children:(0,a.jsxs)("div",{children:[V&&(0,a.jsxs)("div",{className:"flex flex-col p-4 mb-4 rounded-2xl bg-white-100 dark:bg-gray-900 min-h-[100px] justify-center items-center",children:[(0,a.jsxs)("div",{className:"mt-2 flex flex-row items-center",children:[(0,a.jsx)("img",{src:p.r.Misc.getWalletIconAtIndex(G,null==V?void 0:null===(H=V.wallets)||void 0===H?void 0:null===(D=H[0])||void 0===D?void 0:D.watchWallet),className:"z-10 border-2 border-gray-900 rounded-full relative left-2"}),(0,a.jsx)(i.Avatar,{avatarImage:$,avatarOnError:(0,h._)(p.r.Misc.DefaultWebsiteIcon),size:"sm",className:"-left-2 z-0 rounded-full overflow-hidden"})]}),(0,a.jsx)(s.Z,{size:"md",color:"text-green-600",className:"font-bold my-2",children:W}),(0,a.jsxs)(s.Z,{size:"xl",className:"my-0 font-extrabold",children:[R," Connected"]}),B?(0,a.jsx)("p",{className:"text-sm font-medium dark:text-gray-400 text-gray-700",children:(0,x.Hn)(B)}):null]}),(0,a.jsx)("div",{className:"flex flex-col rounded-2xl bg-white-100 dark:bg-gray-900 h-fit max-h-[250px] overflow-y-auto",children:P.map((e,t,n)=>{var r,s;let c=t===n.length-1;if(e.id===(null==V?void 0:null===(s=V.wallets)||void 0===s?void 0:null===(r=s[0])||void 0===r?void 0:r.id))return null;let u="";e.walletType===l._KQ.LEDGER&&(u=` \xb7 /0'/0/${e.addressIndex}`),(e.walletType===l._KQ.PRIVATE_KEY||e.walletType===l._KQ.SEED_PHRASE_IMPORTED)&&(u=` \xb7 Imported`);let m=e.walletType!=l._KQ.LEDGER||o.li.test(e.name)?(0,f.k)(e.name):`${d.dN[e.walletType]} Wallet ${e.addressIndex+1}`,g=m.length>16?m.slice(0,16)+"...":m;return(0,a.jsxs)("div",{className:"relative min-h-[56px] w-full",children:[(0,a.jsx)(i.Card,{onClick:async()=>{let t=null==V?void 0:V.wallets.map(e=>e.id);await (0,v.E)(null==V?void 0:V.chainIds,t??[],null==V?void 0:V.origin),F(e),Z()},className:"!w-full",title:g,subtitle:`${(0,x.Hn)(e.addresses[_])}${u}`,iconSrc:(null==L?void 0:L.id)===e.id?p.r.Misc.CheckCosmos:void 0,imgSrc:p.r.Misc.getWalletIconAtIndex(e.colorIndex,e.watchWallet),isRounded:!0},e.name),c?null:(0,a.jsx)(i.CardDivider,{})]},e.id)})})]})})})}},99188:function(e,t,n){n.d(t,{m:function(){return s}});var a=n(52322),l=n(94184),i=n.n(l),r=n(2784);let s=e=>{let{tabsList:t,tabsContent:n,className:l}=e,[s,o]=r.useState(t[0].id);return(0,a.jsxs)("div",{className:i()("w-full",l),children:[(0,a.jsx)("div",{className:"w-full flex items-center justify-start border-b border-gray-900",children:t.map(e=>{let{id:t,label:n}=e;return(0,a.jsx)("button",{className:`px-4 py-2 cursor-pointer transition-colors border-b-2 ${s===t?"dark:border-white-100 border-gray-900 font-bold text-gray-900 dark:text-white-100":"border-transparent text-gray-700 dark:text-gray-400"}`,onClick:()=>o(t),children:n},t)})}),(0,a.jsx)("div",{className:"w-full",children:n[s]})]})}},74703:function(e,t,n){n.d(t,{u:function(){return l}});var a,l=((a={}).signResponse="sign-response",a.signingPopupOpen="signing-popup-open",a.signTransaction="sign-transaction",a.signBitcoinResponse="sign-bitcoin-response",a.signSeiEvmResponse="sign-sei-evm-response",a)},73108:function(e,t,n){n.r(t),n.d(t,{default:()=>ec});var a=n("52322"),l=n("58097"),i=n("21950"),r=n("2826"),s=n("39279"),o=n("59458"),d=n("7835"),c=n("26089"),u=n("94184"),m=n.n(u),p=n("86200"),v=n("23060"),g=n("3929"),f=n("57767"),h=n("19623"),x=n("48681"),w=n("99188"),y=n("69816"),b=n("23259"),j=n("74703"),N=n("53108"),E=n("79533"),S=n("76131"),k=n("78935"),A=n("81252"),T=n("98851"),M=n("114"),D=n("8891"),H=n.n(D),C=n("75958"),Z=n("2784"),I=n("10289"),V=n("26245"),_=n("42799"),O=n("48346"),L=n("46103"),F=n("44818"),P=n("32374"),R=n("49409"),B=n("48534"),G=n("71198"),W=n("72565"),$=n.n(W),z=n("26571"),U=n("50292"),K=n("60431"),Q=n("6391"),q=n.n(Q),Y=n("69332"),J=n("6401"),X=n("1067");let ee=(e,t)=>{var n;let{amount:a}=e,l=(null===(n=a[0])||void 0===n?void 0:n.amount)??"",i=(0,r.t7o)(new(q())(l).toString(),t),s=i.toFormat(5,q().ROUND_DOWN),o=i.isLessThan("0.00001");return{amount:i,formattedAmount:o&&!i.isEqualTo(0)?"< 0.00001":s}},et=(0,C.Pi)(e=>{var t,n,l;let{fee:r,error:s,setError:o,disableBalanceCheck:d,rootDenomsStore:c,rootBalanceStore:u,activeChain:m,selectedNetwork:p}=e,v=(0,i.dco)(),[g]=(0,i.X$P)(),f=u.getSpendableBalancesForChain(m,p),h=u.getLoadingStatusForChain(m,p),x=(0,Z.useMemo)(()=>h?"loading":"success",[h]),w=(0,i.xxU)(),y=c.allDenoms,[b]=(0,J.nB)(),{data:j,isFetching:N}=(0,i.oOU)(f,y,m),E=(0,Z.useMemo)(()=>{var e,t;let n=null==r?void 0:null===(e=r.amount[0])||void 0===e?void 0:e.denom,a=null==j?void 0:j.find(e=>e.ibcDenom?e.ibcDenom===n:e.denom.coinMinimalDenom===n),l=null===(t=f.find(e=>{var t;return(null==a?void 0:a.ibcDenom)||(null==e?void 0:e.ibcDenom)?(null==e?void 0:e.ibcDenom)===(null==a?void 0:a.ibcDenom):(null==e?void 0:e.coinMinimalDenom)===(null==a?void 0:null===(t=a.denom)||void 0===t?void 0:t.coinMinimalDenom)}))||void 0===t?void 0:t.amount;return{...a,amount:l}},[f,null==r?void 0:r.amount,j]),{data:S}=(0,K.useQuery)(["fee-token-fiat-value",null==E?void 0:null===(t=E.denom)||void 0===t?void 0:t.coinDenom],async()=>{var e,t,n;return(0,i.knL)("1",(null==E?void 0:null===(e=E.denom)||void 0===e?void 0:e.coinGeckoId)??"",null==E?void 0:null===(t=E.denom)||void 0===t?void 0:t.chain,i.r95[g].currencyPointer,`${w}-${null==E?void 0:null===(n=E.denom)||void 0===n?void 0:n.coinMinimalDenom}`)}),k=(0,Z.useMemo)(()=>{var e;return r?ee(r,(null==E?void 0:null===(e=E.denom)||void 0===e?void 0:e.coinDecimals)??0):null},[m,v,r,null==E?void 0:null===(n=E.denom)||void 0===n?void 0:n.coinDecimals]);return(0,Z.useEffect)(()=>{var e,t;let n=null==k?void 0:null===(e=k.amount)||void 0===e?void 0:e.toString();!d&&n&&"loading"!==x&&(new(q())(n).isGreaterThan((null==E?void 0:E.amount)??0)?o(`You don't have enough ${null==E?void 0:null===(t=E.denom)||void 0===t?void 0:t.coinDenom} to pay the gas fee`):o(null))},[E,k,x,d]),k?(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-gray-500 dark:text-gray-100 text-sm font-medium tracking-wide flex items-center",children:[(0,a.jsx)("span",{className:"mr-3",children:"Transaction Fee"}),(0,a.jsx)(Y.Z,{content:(0,a.jsx)("p",{className:"text-gray-700 dark:text-white-100 text-sm font-medium tracking-wide",children:"This dApp does not allow you to edit the transaction fee."}),children:(0,a.jsx)("div",{className:"inline relative",children:(0,a.jsx)("img",{src:X.Warning,alt:"Get more context",className:"h-5 w-5"})})})]}),(0,a.jsxs)("p",{className:"text-gray-700 dark:text-white-100 text-sm font-medium tracking-wide mt-2",children:[(0,a.jsxs)("span",{className:"mt-[2px] mr-[2px]",children:[k.formattedAmount," ",null==E?void 0:null===(l=E.denom)||void 0===l?void 0:l.coinDenom]}),S?(0,a.jsxs)("span",{className:"mr-[2px]",children:["(",b(new(q())((null==k?void 0:k.amount)??0).multipliedBy(S)),")"]}):null]}),s?(0,a.jsx)("p",{className:"text-red-300 text-sm font-medium mt-2 px-1",children:s}):null]}):null}),en={send_immediately:!0,transport:"sendBeacon"},ea=e=>{switch(e){case i._KQ.LEDGER:return"ledger";case i._KQ.PRIVATE_KEY:return"private-key";default:return"seed-phrase"}};var el=n("56594"),ei=n(48834).Buffer,er=n(48834).Buffer;let es=A.w.useGetWallet,eo=A.w.useAptosSigner,ed=(0,C.Pi)(e=>{var t,n,u;let{data:h,chainId:E,rootBalanceStore:A,rootStakeStore:D,rootDenomsStore:C,activeChain:V}=e,_=(0,Z.useRef)(!1),O=(0,Z.useRef)(!1),W=(0,Z.useRef)(!1),[K,Q]=(0,Z.useState)(!1),[Y,J]=(0,Z.useState)(!1),[X,ee]=(0,Z.useState)(null),[ed]=(0,Z.useState)(null),[ec,eu]=(0,Z.useState)(null),[em,ep]=(0,Z.useState)(""),[ev,eg]=(0,Z.useState)(!1),ef=(0,i.QSC)(V),eh=(0,i.rTu)(),ex=eo(),ew=es(V),ey=(0,I.s0)(),eb=(0,Z.useMemo)(()=>(null==ef?void 0:ef.testnetChainId)&&(null==ef?void 0:ef.testnetChainId)===E?"testnet":"mainnet",[null==ef?void 0:ef.testnetChainId,E]),ej=C.allDenoms,eN=(0,v.e7)(ej,{activeChain:V}),eE=(0,i.bkk)(ej,V,eb),eS=i.rNU.useLogCosmosDappTx(),ek=(0,i.dco)(),eA=(0,Z.useRef)(!1),[eT,eM]=(0,Z.useState)(null),[eD,eH]=(0,Z.useState)(!1),eC=(0,i.FmJ)(),{setDefaultFee:eZ}=(0,i.ezp)(),eI=(0,Z.useRef)(null);(0,Z.useEffect)(()=>{!eT&&eI.current&&setTimeout(()=>{eI.current.scrollIntoView({behavior:"smooth",block:"nearest"})},10)},[eT]),(0,Z.useEffect)(()=>{A.loadBalances(V,eb)},[V,eb]);let[eV,e_]=(0,Z.useState)({gasPrice:eN.gasPrice,option:i.j1p.LOW});(0,F.h)(null!==eh,"activeWallet is null");let eO=(0,Z.useMemo)(()=>eh.walletType===i._KQ.LEDGER?`${b.dN[eh.walletType]} Wallet ${eh.addressIndex+1}`:(0,P.k)(eh.name),[eh.addressIndex,eh.name,eh.walletType]),{shouldSubmit:eL,isSignMessage:eF,signOptions:eP}=(0,Z.useMemo)(()=>{let e=null==h?void 0:h.submit,t=null==h?void 0:h.isSignMessage;return{shouldSubmit:e,isSignMessage:t,signOptions:null==h?void 0:h.signOptions}},[h]),{lcdUrl:eR}=(0,i.U9i)(V,eb),[eB,eG,eW,e$,ez]=(0,Z.useMemo)(()=>{if(eF){var e,t,n;return[!1,null===(n=h.signDoc)||void 0===n?void 0:null===(t=n.split("\n"))||void 0===t?void 0:null===(e=t.find(e=>e.includes("message: ")))||void 0===e?void 0:e.replace("message: ",""),h.signDoc,null,null]}let a=function(e){var t,n;let{signRequestData:a,gasPrice:i,gasLimit:s,isGasOptionSelected:o,nativeFeeDenom:d}=e,c=Uint8Array.from(ei.from(a.signDoc,"hex")),u=a.signOptions,m=new l.ZKs(c).deserialize(l._tO),p=(0,el.calculateFee)(Number(m.rawTransaction.max_gas_amount??0),r.DB5.fromString(`${m.rawTransaction.gas_unit_price??0}${d.coinMinimalDenom}`)),v={chain_id:m.rawTransaction.chain_id,fee:p,...m},g=new(q())(s);let f=(null==u?void 0:u.preferNoSetFee)&&!o?v.fee:(t=!g.isNaN()&&g.isGreaterThan(0)?g.toString():v.fee.gas,n=i,(0,el.calculateFee)(parseInt(t),n));return v.fee=f,{signDocForSigning:m,signDoc:{...v},fee:v.fee,allowSetFee:!(null==u?void 0:u.preferNoSetFee),defaultFee:p,defaultMemo:""}}({signRequestData:h,gasPrice:eV.gasPrice,gasLimit:em,isGasOptionSelected:eA.current,nativeFeeDenom:eE});return[a.allowSetFee,"",a.signDocForSigning,a.fee,a.defaultFee]},[h,eV.gasPrice,em,eE,eF]),eU=null==h?void 0:h.origin,eK=null==eU?void 0:null===(u=eU.split("//"))||void 0===u?void 0:null===(n=u.at(-1))||void 0===n?void 0:null===(t=n.split("."))||void 0===t?void 0:t.at(-2),eQ=(0,k.G)(eU),eq=(0,Z.useCallback)(()=>{setTimeout(()=>{A.refetchBalances(V,eb),D.updateStake(V,eb,!0)},3e3)},[V,A,D,eb]),eY=(0,Z.useCallback)(async()=>{if(!O.current&&!W.current){if(O.current=!0,!(0,U.l)())try{H().track(z.B_.DappTxnRejected,{dAppURL:eU,signMode:"sign-aptos",walletType:ea(eh.walletType),chainId:ef.chainId,chainName:ef.chainName,productVersion:$().runtime.getManifest().version,time:Date.now()/1e3},en)}catch(e){(0,c.Tb)(e)}$().runtime.sendMessage({type:j.u.signResponse,payload:{status:"error",data:"Transaction cancelled by the user."}}),(0,B.oj)()?ey("/home"):(await (0,r._vH)(100),setTimeout(async()=>{window.close()},10))}},[eU,eh.walletType,ef.chainId,ef.chainName,ey]),eJ=(0,Z.useMemo)(()=>{if(eh&&E&&eU)return{wallets:[eh],chainIds:[E],origin:eU}},[eh,E,eU]),eX=(0,Z.useMemo)(()=>ez?"gasLimit"in ez?ez.gasLimit.toString():ez.gas.toString():ek[V].DEFAULT_GAS_IBC.toString(),[V,ez]),e0=(0,Z.useMemo)(()=>{if(ez&&(null==ez?void 0:ez.amount[0])){let{denom:e}=ez.amount[0];return e}return eN.gasPrice.denom},[ez,eN.gasPrice]),e1=(0,Z.useCallback)(async()=>{var e,t,n;let a=eh.addresses[V];if(!!V&&!!eW&&!!a){eg(!0);try{let n=await ex(V);if(eF){let e=await n.sign(eW),t=new l.ei2;e.serialize(t);let a=er.from(t.toUint8Array()).toString("hex");await (0,r._vH)(100);try{$().runtime.sendMessage({type:j.u.signResponse,payload:{status:"success",data:a}})}catch{throw Error("Could not send transaction to the dApp")}eg(!1),(0,B.oj)()?(eq(),ey("/home")):setTimeout(async()=>{window.close()},10);return}let s=await n.signTransaction(eW),o=new l.rEE(new l.EZS(n.publicKey.toUint8Array()),s),d=(0,l.e8z)({transaction:eW,senderAuthenticator:o});try{await eS({txHash:d,txType:i.pb0.Dapp,metadata:{...eC,dapp_url:eU},feeQuantity:null==e$?void 0:null===(e=e$.amount[0])||void 0===e?void 0:e.amount,feeDenomination:null==e$?void 0:null===(t=e$.amount[0])||void 0===t?void 0:t.denom,chain:V,chainId:E,address:a,network:eb,isAptos:!0})}catch(e){(0,c.Tb)(e)}let u=new l.ei2;o.serialize(u);let m=er.from(u.toUint8Array()).toString("hex");if(await (0,r._vH)(100),!eL){try{$().runtime.sendMessage({type:j.u.signResponse,payload:{status:"success",data:m}})}catch{throw Error("Could not send transaction to the dApp")}eg(!1),(0,B.oj)()?(eq(),ey("/home")):setTimeout(async()=>{window.close()},10);return}let p=await r.eAr.getAptosClient(eR??"",n),v=await p.signAndBroadcastTransaction(eW);try{$().runtime.sendMessage({type:j.u.signResponse,payload:{status:"success",data:v.hash}})}catch{throw Error("Could not send transaction to the dApp")}eg(!1),(0,B.oj)()?(eq(),ey("/home")):setTimeout(async()=>{window.close()},10)}catch(e){(0,c.Tb)(e),eg(!1),ee((null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.error_code)??(null==e?void 0:e.message)??"Unknown error"),setTimeout(()=>{ee(null)},3e3)}}},[eh.addresses,eb,V,eq,eW,ew,eU,e$,eS,eY,eR]);(0,Z.useEffect)(()=>{eZ(ez)},[ez]),(0,Z.useEffect)(()=>(window.addEventListener("beforeunload",eY),$().storage.local.remove(N.u1),()=>{window.removeEventListener("beforeunload",eY)}),[eY]),(0,Z.useEffect)(()=>{if(!!eU){if(!_.current)try{!(0,U.l)()&&H().track(z.B_.DappTxnInit,{dAppURL:eU,signMode:"sign-aptos",walletType:ea(eh.walletType),chainId:ef.chainId,chainName:ef.chainName,productVersion:$().runtime.getManifest().version,time:Date.now()/1e3},en),_.current=!0}catch(e){(0,c.Tb)(e)}}},[eh.walletType,ef.chainId,ef.chainName,eU]),(0,S.$)({page:"sign-transaction",queryStatus:h?"success":"loading",op:"signTransactionPageLoad",description:"Load tome for sign transaction page"});let e2=(0,Z.useMemo)(()=>!!(null==e$?void 0:e$.granter)||!!(null==e$?void 0:e$.payer)||!!(null==eP?void 0:eP.disableBalanceCheck),[null==e$?void 0:e$.granter,null==e$?void 0:e$.payer,null==eP?void 0:eP.disableBalanceCheck]),e8=!e0||!!X||!!ec||!1===eT&&!eD||ev;return(0,a.jsx)("div",{className:m()("panel-width enclosing-panel h-full relative self-center justify-self-center flex justify-center items-center",{"mt-2":!(0,B.oj)()}),children:(0,a.jsx)("div",{className:m()("relative w-full overflow-clip rounded-md border border-gray-300 dark:border-gray-900",{"panel-height":(0,B.oj)()}),children:(0,a.jsxs)(g.Z,{header:(0,a.jsx)("div",{className:"w-[396px]",children:(0,a.jsx)(s.Header,{imgSrc:ef.chainSymbolImageUrl??M.GenericLight,title:(0,a.jsx)(s.Buttons.Wallet,{brandLogo:(0,U.l)()?(0,a.jsx)("img",{className:"w-[24px] h-[24px] mr-1",src:T.r.Logos.CompassCircle}):void 0,title:(0,G.fy)(eO,10),className:"pr-4 cursor-default"})})}),children:[(0,a.jsxs)("div",{className:"px-7 py-3 overflow-y-auto relative",style:{height:"calc(100% - 144px)"},children:[(0,a.jsx)("h2",{className:"text-center text-lg font-bold dark:text-white-100 text-gray-900 w-full",children:"Approve Transaction"}),(0,a.jsxs)("div",{className:"flex items-center mt-3 rounded-2xl dark:bg-gray-900 bg-white-100 p-4",children:[(0,a.jsx)(s.Avatar,{avatarImage:eQ,avatarOnError:(0,R._)(T.r.Misc.Globe),size:"sm",className:"rounded-full overflow-hidden"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"capitalize text-gray-900 dark:text-white-100 text-base font-bold",children:eK}),(0,a.jsx)("p",{className:"lowercase text-gray-500 dark:text-gray-400 text-xs font-medium",children:eU})]})]}),eF?(0,a.jsx)("pre",{className:m()("text-xs text-gray-900 dark:text-white-100 dark:bg-gray-900 bg-white-100 p-4 w-full overflow-x-auto mt-3 rounded-2xl whitespace-pre-line break-words"),children:eG}):(0,a.jsx)(v.ZP,{initialFeeDenom:e0,gasLimit:em||eX,setGasLimit:e=>ep(e.toString()),recommendedGasLimit:eX,gasPriceOption:eA.current||eB?eV:{...eV,option:""},onGasPriceOptionChange:e=>{eA.current=!0,e_(e)},error:ec,setError:eu,considerGasAdjustment:!1,disableBalanceCheck:e2,fee:e$,chain:V,network:eb,validateFee:!0,onInvalidFees:(e,t)=>{try{!1===t&&eM(!1)}catch(e){(0,c.Tb)(e)}},hasUserTouchedFees:!!(null==eA?void 0:eA.current),notUpdateInitialGasPrice:!eB,rootDenomsStore:C,rootBalanceStore:A,children:(0,a.jsx)(w.m,{className:"mt-3",tabsList:[{id:"fees",label:"Fees"},{id:"data",label:"Data"}],tabsContent:{fees:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"rounded-2xl p-4 mt-3 dark:bg-gray-900 bg-white-100",children:(0,a.jsx)(et,{fee:e$,error:ec,setError:eu,disableBalanceCheck:e2,rootDenomsStore:C,rootBalanceStore:A,activeChain:V,selectedNetwork:eb})})}),data:(0,a.jsx)("pre",{className:"text-xs text-gray-900 dark:text-white-100 dark:bg-gray-900 bg-white-100 p-4 w-full overflow-x-auto mt-3 rounded-2xl",children:JSON.stringify(eW,(e,t)=>"bigint"==typeof t?t.toString():t,2)})}})}),(0,a.jsx)("div",{className:"mt-3",children:X??ed?(0,a.jsx)(p._,{text:X??ed??""}):null}),(0,a.jsx)(f.Z,{showLedgerPopup:Y,onClose:()=>{J(!1)}}),(0,a.jsx)(x.Z,{isOpen:K,onClose:()=>Q(!1),currentWalletInfo:eJ,title:"Select Wallet",activeChain:V}),!1===eT&&(0,a.jsxs)("div",{ref:eI,className:"flex dark:bg-gray-900 bg-white-100 px-4 py-3 w-full rounded-2xl items-center mt-3",children:[(0,a.jsx)("div",{className:"mr-3",onClick:()=>eH(!eD),children:eD?(0,a.jsx)(d.l,{size:16,className:"cursor-pointer",color:L.w.getChainColor(V)}):(0,a.jsx)(o.b,{size:16,className:"text-gray-700 cursor-pointer"})}),(0,a.jsxs)(y.Z,{size:"sm",color:"text-gray-400",children:["The selected fee amount is unusually high.",(0,a.jsx)("br",{}),"I confirm and agree to proceed"]})]})]}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 py-3 px-7 dark:bg-black-100 bg-gray-50 w-full",children:(0,a.jsxs)("div",{className:"flex items-center justify-center w-full space-x-3",children:[(0,a.jsx)(s.Buttons.Generic,{title:"Reject Button",color:L.w.gray900,onClick:eY,children:"Reject"}),(0,a.jsx)(s.Buttons.Generic,{title:"Approve Button",color:L.w.getChainColor(V),onClick:e1,disabled:e8,className:`${e8?"cursor-not-allowed opacity-50":""}`,children:ev?"Signing...":"Approve"})]})})]})})})}),ec=(e=>{let t=()=>{let[t,n]=(0,Z.useState)(),[l,i]=(0,Z.useState)(r.NOo),[o,d]=(0,Z.useState)(null),[u,m]=(0,Z.useState)(),[p]=(0,Z.useState)(null),v=(0,I.s0)();(0,Z.useEffect)(()=>{(0,E._d)().then(i).catch(c.Tb)},[]);let f=(e,t)=>{if(t.id===$().runtime.id&&e.type===j.u.signTransaction){var a;let t=e.payload,i=t.chainId?t.chainId:null===(a=t.signDoc)||void 0===a?void 0:a.chainId,r=i?l[i]:void 0;if(!r){$().runtime.sendMessage({type:j.u.signResponse,payload:{status:"error",data:`Invalid chainId ${i}`}}),(0,B.oj)()?v("/home"):setTimeout(async()=>{window.close()},10);return}n(r),m(i),d(t)}};if((0,Z.useEffect)(()=>($().runtime.sendMessage({type:j.u.signingPopupOpen}),$().runtime.onMessage.addListener(f),()=>{$().runtime.onMessage.removeListener(f)}),[]),t&&o&&u)return(0,a.jsx)(e,{data:o,chainId:u,activeChain:t,rootDenomsStore:_.gb,rootBalanceStore:O.jZ,evmBalanceStore:V.Ct,rootStakeStore:O.lc});if(p){let e=(e=>{if("no-data"===e)return"No Transaction Data";return"Something Went Wrong"})(p.code);return(0,a.jsx)(g.Z,{className:"self-center justify-self-center",header:(0,a.jsx)(s.Header,{title:"Sign Transaction"}),children:(0,a.jsxs)("div",{className:"h-full w-full flex flex-col gap-4 items-center justify-center",children:[(0,a.jsx)("h1",{className:"text-red-300 text-2xl font-bold px-4 text-center",children:e}),(0,a.jsx)("p",{className:"text-black-100 dark:text-white-100 text-sm font-medium px-4 text-center",children:p.message}),(0,a.jsx)("button",{className:"mt-8 py-1 px-4 text-center text-sm font-medium dark:text-white-100 text-black-100 bg-indigo-300 rounded-full",onClick:()=>{(0,B.oj)()?v("/home"):window.close()},children:"Close Wallet"})]})})}return(0,a.jsx)(g.Z,{className:"self-center justify-self-center",header:(0,a.jsx)(s.Header,{title:"Sign Transaction"}),children:(0,a.jsx)("div",{className:"h-full w-full flex flex-col gap-4 items-center justify-center",children:(0,a.jsx)(h.T,{color:"white"})})})};return t.displayName=`withTxnSigningRequest(${e.displayName})`,t})(Z.memo(ed))},7835:function(e,t,n){n.d(t,{l:()=>g});var a=n("2784"),l=n("6806");let i=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M79.51,144.49a12,12,0,1,1,17-17L112,143l47.51-47.52a12,12,0,0,1,17,17l-56,56a12,12,0,0,1-17,0ZM228,48V208a20,20,0,0,1-20,20H48a20,20,0,0,1-20-20V48A20,20,0,0,1,48,28H208A20,20,0,0,1,228,48Zm-24,4H52V204H204Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,48V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8H208A8,8,0,0,1,216,48Z",opacity:"0.2"}),a.createElement("path",{d:"M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM224,48V208a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48ZM208,208V48H48V208H208Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32Zm-34.34,77.66-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M172.24,99.76a6,6,0,0,1,0,8.48l-56,56a6,6,0,0,1-8.48,0l-24-24a6,6,0,0,1,8.48-8.48L112,151.51l51.76-51.75A6,6,0,0,1,172.24,99.76ZM222,48V208a14,14,0,0,1-14,14H48a14,14,0,0,1-14-14V48A14,14,0,0,1,48,34H208A14,14,0,0,1,222,48Zm-12,0a2,2,0,0,0-2-2H48a2,2,0,0,0-2,2V208a2,2,0,0,0,2,2H208a2,2,0,0,0,2-2Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM224,48V208a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48ZM208,208V48H48V208H208Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M170.83,101.17a4,4,0,0,1,0,5.66l-56,56a4,4,0,0,1-5.66,0l-24-24a4,4,0,0,1,5.66-5.66L112,154.34l53.17-53.17A4,4,0,0,1,170.83,101.17ZM220,48V208a12,12,0,0,1-12,12H48a12,12,0,0,1-12-12V48A12,12,0,0,1,48,36H208A12,12,0,0,1,220,48Zm-8,0a4,4,0,0,0-4-4H48a4,4,0,0,0-4,4V208a4,4,0,0,0,4,4H208a4,4,0,0,0,4-4Z"}))]]);var r=Object.defineProperty,s=Object.defineProperties,o=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&m(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&m(e,n,t[n]);return e},v=(e,t)=>s(e,o(t));let g=(0,a.forwardRef)((e,t)=>a.createElement(l.Z,v(p({ref:t},e),{weights:i})));g.displayName="CheckSquare"},59458:function(e,t,n){n.d(t,{b:()=>g});var a=n("2784"),l=n("6806");let i=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,28H48A20,20,0,0,0,28,48V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V48A20,20,0,0,0,208,28Zm-4,176H52V52H204Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,48V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8H208A8,8,0,0,1,216,48Z",opacity:"0.2"}),a.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32Zm0,176H48V48H208V208Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,48V208a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,34H48A14,14,0,0,0,34,48V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V48A14,14,0,0,0,208,34Zm2,174a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V48a2,2,0,0,1,2-2H208a2,2,0,0,1,2,2Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32Zm0,176H48V48H208V208Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,36H48A12,12,0,0,0,36,48V208a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V48A12,12,0,0,0,208,36Zm4,172a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V48a4,4,0,0,1,4-4H208a4,4,0,0,1,4,4Z"}))]]);var r=Object.defineProperty,s=Object.defineProperties,o=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&m(e,n,t[n]);if(d)for(var n of d(t))u.call(t,n)&&m(e,n,t[n]);return e},v=(e,t)=>s(e,o(t));let g=(0,a.forwardRef)((e,t)=>a.createElement(l.Z,v(p({ref:t},e),{weights:i})));g.displayName="Square"}}]);