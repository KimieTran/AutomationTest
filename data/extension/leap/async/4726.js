!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="61d88958-9b00-45ea-a9d9-8759ab301b60",e._sentryDebugIdIdentifier="sentry-dbid-61d88958-9b00-45ea-a9d9-8759ab301b60")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.17.3"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["4726"],{94057:function(e,t,l){l.r(t),l.d(t,{default:()=>H});var s=l("52322"),a=l("56594"),i=l("21950"),n=l("73873"),d=l("39279"),r=l("3493"),c=l("26007"),o=l("2784"),u=l("22068"),x=l("12157"),m=Object.defineProperty,f=Object.defineProperties,g=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,p=(e,t,l)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,w=(e,t)=>{for(var l in t||(t={}))b.call(t,l)&&p(e,l,t[l]);if(h)for(var l of h(t))k.call(t,l)&&p(e,l,t[l]);return e},E=(e,t)=>f(e,g(t));let v=(0,o.forwardRef)((e,t)=>o.createElement(u.Z,E(w({ref:t},e),{weights:x.Z})));v.displayName="CheckCircle";var y=l("3929"),j=l("19623"),N=l("69816"),A=l("26571"),S=l("71566"),D=l("98851"),T=l("114"),L=l("75958"),_=l("10289"),C=l("46103"),G=l("53221"),M=l("49409"),R=l("50292"),I=l("48534"),O=l("36906"),U=l("32692");let z={DELEGATE:"staking",UNDELEGATE:"unstaking",CANCEL_UNDELEGATION:"cancel unstaking",REDELEGATE:"restaking",CLAIM_REWARDS:null},P=(0,L.Pi)(e=>{let t=z[e.mode];if(!t)return null;let l=`Amount is queued for ${t} in next epoch (${U.t.timeLeft}).`;return(0,s.jsxs)("div",{className:"flex w-full bg-white-100 dark:bg-gray-950 p-4 rounded-2xl gap-2 items-center",children:[(0,s.jsx)(O.k,{size:20,className:"text-orange-500 dark:text-orange-300 shrink-0 items-center"}),(0,s.jsx)(N.Z,{className:"text-xs",children:l})]})}),Z={loading:{title:"In Progress..."},success:{title:"Complete"},submitted:{title:"Submitted"},failed:{title:"Failed"}},H=(0,L.Pi)(e=>{var t;let{rootBalanceStore:l,rootStakeStore:u}=e,x=(0,_.TH)(),{validator:m,mode:f,forceChain:g,forceNetwork:h,provider:b}=(0,o.useMemo)(()=>{let e=JSON.parse(sessionStorage.getItem("navigate-stake-pending-txn-state")??"null");return(null==x?void 0:x.state)??e},[null==x?void 0:x.state]),k=(0,S.a7)(),p=(0,o.useMemo)(()=>g||k,[k,g]),w=(0,i.obn)(),E=(0,o.useMemo)(()=>h||w,[w,h]),{pendingTx:L,setPendingTx:O}=(0,i.EEe)(),U=(0,_.s0)(),[z,H]=(0,o.useState)(""),[$,V]=(0,o.useState)(""),[W,B]=(0,o.useState)(!1),{data:K}=(0,i.pD_)(m),{data:q}=(0,i.S2A)(),{refetchDelegations:F}=(0,i.fHb)(),J=(0,o.useCallback)(()=>{l.refetchBalances(p,E)},[p,l,E]),X=(0,o.useCallback)(()=>{u.updateStake(p,E,!0)},[p,u,E]),{theme:Y}=(0,d.useTheme)();(0,o.useEffect)(()=>{H(null==L?void 0:L.txHash)},[null==L?void 0:L.txHash]),(0,o.useEffect)(()=>{L&&L.promise&&L.promise.then(e=>{e&&(0,a.isDeliverTxSuccess)(e)?O({...L,txStatus:"success"}):O({...L,txStatus:"failed"})},()=>O({...L,txStatus:"failed"})).catch(()=>{O({...L,txStatus:"failed"})}).finally(()=>{J(),X(),"lava"===p&&(null==q?void 0:q.restaking.extension)==="active"&&F()})},[]);let Q=(0,o.useMemo)(()=>({CLAIM_REWARDS:{loading:"claiming rewards",success:"claimed successfully",failed:"failed claiming",submitted:"claim submitted"},DELEGATE:{loading:"staking",success:"staked successfully",failed:"failed staking",submitted:"stake submitted"},UNDELEGATE:{loading:"unstaking",success:"unstaked successfully",failed:"failed unstaking",submitted:"unstake submitted"},CANCEL_UNDELEGATION:{loading:"cancelling unstake",success:"unstake cancelled successfully",failed:"failed cancelling unstake",submitted:"cancel undelegation submitted"},REDELEGATE:{loading:`switching ${b?"provider":"validator"}`,success:`${b?"provider":"validator"} switched successfully`,failed:`failed switching ${b?"provider":"validator"}`,submitted:"redelegation submitted"},CLAIM_AND_DELEGATE:{loading:"claiming and staking rewards",success:"claimed and staked successfully",failed:"failed claiming and staking",submitted:"claim and delegate submitted"}}),[b]),{explorerTxnUrl:ee}=(0,i.xGX)({forceChain:p,forceNetwork:E,forceTxHash:z});return(0,o.useEffect)(()=>{let e="CLAIM_REWARDS"===f||"UNDELEGATE"===f?null==L?void 0:L.receivedUsdValue:null==L?void 0:L.sentUsdValue;"-"===e&&(e="CLAIM_REWARDS"===f||"UNDELEGATE"===f?null==L?void 0:L.receivedAmount:null==L?void 0:L.sentAmount),V(e)},[f,null==L?void 0:L.receivedAmount,null==L?void 0:L.receivedUsdValue,null==L?void 0:L.sentAmount,null==L?void 0:L.sentUsdValue]),(0,s.jsxs)(y.Z,{children:[(0,s.jsx)(d.Header,{title:`Transaction ${Z[(null==L?void 0:L.txStatus)??"loading"].title}`}),(0,s.jsxs)("div",{className:"flex flex-col justify-between p-6",style:{height:"calc(100% - 72px)"},children:[(0,s.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,s.jsxs)("div",{className:"bg-white-100 dark:bg-gray-950 rounded-2xl w-full flex flex-col gap-y-2 items-center p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center h-[100px] w-[100px]",children:[(null==L?void 0:L.txStatus)==="loading"&&(0,s.jsx)(j.T,{color:"#29a874",className:"w-full h-full"}),(null==L?void 0:L.txStatus)==="success"&&(0,s.jsx)("img",{src:D.r.Activity.TxSwapSuccess,width:75,height:75}),(null==L?void 0:L.txStatus)==="failed"&&(0,s.jsx)("img",{src:D.r.Activity.TxSwapFailure,width:75,height:75})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-1 items-center",children:[(0,s.jsx)(N.Z,{size:"lg",className:"font-bold",color:"text-black-100 dark:text-white-100",children:$}),(0,s.jsx)(N.Z,{size:"sm",color:"text-black-100 dark:text-white-100",className:"font-medium text-center",children:null===(t=Q[f])||void 0===t?void 0:t[(null==L?void 0:L.txStatus)??"loading"]})]}),(0,s.jsxs)("div",{className:"flex gap-x-2",children:[m&&(0,s.jsxs)("div",{className:"flex items-center pr-3 pl-2 py-1.5 rounded-full bg-gray-50 dark:bg-gray-900 gap-x-1.5",children:[(0,s.jsx)("img",{className:"rounded-full",width:20,height:20,src:K??(null==m?void 0:m.image)??D.r.Misc.Validator,onError:(0,M._)(T.GenericLight)}),(0,s.jsx)("span",{className:"text-sm font-bold text-black-100 dark:text-white-100 text-center",children:(0,n.MD)(null==m?void 0:m.moniker,(0,I.oj)()?6+Math.floor((Math.min(window.innerWidth,400)-320)/81*7):10,0)})]}),b&&(0,s.jsxs)("div",{className:"flex items-center pr-3 pl-2 py-1.5 rounded-full bg-gray-50 dark:bg-gray-900 gap-x-1.5",children:[(0,s.jsx)("img",{className:"rounded-full",width:20,height:20,src:D.r.Misc.Validator,onError:(0,M._)(T.GenericLight)}),(0,s.jsx)("span",{className:"text-sm font-bold text-black-100 dark:text-white-100 text-center",children:(0,n.MD)(b.moniker,(0,I.oj)()?6+Math.floor((Math.min(window.innerWidth,400)-320)/81*7):10,0)})]})]})]}),z&&(0,s.jsx)(d.GenericCard,{isRounded:!0,title:(0,s.jsx)(N.Z,{size:"sm",color:"text-black-100 dark:text-white-100",className:"font-bold mb-1",children:"Transaction ID"}),subtitle:(0,s.jsx)(N.Z,{size:"md",color:"dark:text-gray-400 text-gray-600",className:"font-medium",children:(0,i.Hnh)(z)}),className:"py-4 px-6 bg-white-100 dark:bg-gray-950",size:"md",icon:(0,s.jsxs)("div",{className:"flex gap-x-2 items-center shrink-0",children:[(0,s.jsx)("button",{onClick:()=>{G.i.copyText(z??""),B(!0),setTimeout(()=>{B(!1)},2e3)},disabled:W,className:"bg-gray-50 dark:bg-gray-900 rounded-full flex items-center justify-center h-8 w-8 disabled:opacity-80",children:W?(0,s.jsx)(v,{size:18,weight:"fill",className:"text-green-500"}):(0,s.jsx)(r.K,{size:16,className:"text-black-100 dark:text-white-100"})}),ee&&(0,s.jsx)("button",{className:"h-8 w-8 rounded-full bg-gray-50 dark:bg-gray-900 flex items-center justify-center",onClick:e=>{e.stopPropagation(),window.open(ee,"_blank")},children:(0,s.jsx)(c.O,{size:16,className:"text-black-100 dark:text-white-100"})})]})}),(null==L?void 0:L.txStatus)==="success"&&"babylon"===p&&(0,s.jsx)(P,{mode:f})]}),(0,s.jsxs)("div",{className:"flex gap-x-4",children:[(0,s.jsx)(d.Buttons.Generic,{onClick:()=>U("/home"),size:"normal",color:Y===d.ThemeName.DARK?C.w.gray800:C.w.gray200,className:"mt-auto w-full",children:(0,s.jsx)(N.Z,{color:"dark:text-white-100 text-black-100",children:"Home"})}),(0,s.jsx)(d.Buttons.Generic,{onClick:()=>{"DELEGATE"===f?U(-1):U(`/stake?pageSource=${A.q.StakeTxnPage}`)},color:(null==L?void 0:L.txStatus)==="failed"||"DELEGATE"===f?(0,R.l)()?C.w.compassPrimary:C.w.green600:Y===d.ThemeName.DARK?C.w.white100:C.w.black100,size:"normal",className:"mt-auto w-full",disabled:(null==L?void 0:L.txStatus)==="loading",children:(0,s.jsx)(N.Z,{color:`${(null==L?void 0:L.txStatus)==="failed"||"DELEGATE"===f?"text-white-100 dark:text-white-100":"text-white-100 dark:text-black-100"}`,children:(null==L?void 0:L.txStatus)==="failed"?"Retry":"DELEGATE"===f?"Stake Again":"Done"})})]})]})]})})},32692:function(e,t,l){l.d(t,{t:function(){return d}});var s=l(24877),a=l(36321),i=l(48346),n=l(30809);let d=new s.H9(i.lc,a.Ui,n.i)}}]);