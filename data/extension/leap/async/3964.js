!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="51ce3054-de3a-45e6-8230-6926e99457ad",e._sentryDebugIdIdentifier="sentry-dbid-51ce3054-de3a-45e6-8230-6926e99457ad")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.17.3"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["3964"],{91503:function(e,n,i){i.d(n,{GL:()=>u,X6:()=>c,zb:()=>j,No:()=>r,$_:()=>t});var l=i("52322"),a=i("2784");function t(e){let{children:n}=e;return(0,l.jsx)("div",{className:"w-full flex flex-col justify-center items-center box-border mt-4",children:n})}var o=i("39279"),s=i("46103");function r(e){let{rejectBtnClick:n,rejectBtnText:i,confirmBtnClick:a,confirmBtnText:t}=e;return(0,l.jsxs)("div",{className:"flex flex-row justify-between w-full",children:[(0,l.jsx)(o.Buttons.Generic,{style:{height:"48px",background:s.w.gray900,color:s.w.white100},onClick:n,children:i}),(0,l.jsx)(o.Buttons.Generic,{style:{height:"48px",background:s.w.cosmosPrimary,color:s.w.white100},className:"ml-3 bg-gray-800",onClick:a,children:t})]})}var d=i("69816");function c(e){let{text:n}=e;return(0,l.jsx)(d.Z,{size:"lg",className:"font-bold mt-5",children:n})}function u(e){let{text:n}=e;return(0,l.jsx)(d.Z,{size:"xs",className:"font-bold text-center mt-[2px] max-w-[250px]",color:"text-gray-800 dark:text-gray-600 mb-2",children:n})}var h=i("94184"),f=i.n(h),v=i("53108"),x=i("75958"),w=i("10289"),g=i("48534"),m=i("72565"),y=i.n(m);let j=(0,x.Pi)(e=>{let{children:n,suggestKey:i,chainTagsStore:t}=e,o=(0,w.s0)(),r=(0,a.useCallback)(async e=>{await y().storage.local.set({[v.u1]:{error:e}}),setTimeout(async()=>{await y().storage.local.remove([i]),await y().storage.local.remove(v.u1),(0,g.oj)()?o("/home"):window.close()},10)},[o,i]),d=(0,a.useCallback)(async()=>{await r("Rejected by the user.")},[r]);return(0,a.useEffect)(()=>(window.addEventListener("beforeunload",d),y().storage.local.remove(v.u1),()=>{window.removeEventListener("beforeunload",d)}),[d]),(0,l.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,l.jsxs)("div",{className:"panel-width panel-height max-panel-height enclosing-panel",children:[(0,l.jsx)("div",{className:"w-full h-1 rounded-t-2xl",style:{backgroundColor:s.w.cosmosPrimary}}),(0,l.jsx)("div",{className:f()("relative h-full flex flex-col justify-between items-center pt-4 pb-10",{"px-7":!(0,g.oj)(),"px-4":(0,g.oj)()}),children:n({handleRejectBtnClick:d,handleError:r,chainTagsStore:t})})]})})})},90065:function(e,n,i){i.r(n),i.d(n,{default:function(){return _}});var l=i(52322),a=i(21950),t=i(2826),o=i(39279),s=i(41477),r=i(19623),d=i(53108),c=i(76131),u=i(71566),h=i(71603),f=i(36400),v=i(57124),x=i(75958),w=i(2784),g=i(10289),m=i(36321),y=i(46103),j=i(49409),p=i(50292),b=i(48534),I=i(72565),C=i.n(I),N=i(70734),k=i(91503);let T=(0,x.Pi)(e=>{var n,i,x,m,I,T,_,B,P,S,E,R;let{handleError:z,handleRejectBtnClick:A,chainTagsStore:L}=e,D=(0,g.s0)(),G=(0,f.pb)(),$=(0,a.lfg)(),F=(0,f.oS)(),[U,Z]=(0,w.useState)(!1),[H,J]=(0,w.useState)(null),O=null==H?void 0:H.origin.replace("https://",""),X=(0,h.Af)(),{activeWallet:q,setActiveWallet:K}=(0,h.ZP)(),[M,W]=(0,w.useState)(!1),Y=(0,w.useRef)(),Q=(0,u.N8)(),V=(0,v.a)(),ee=(0,w.useMemo)(()=>{var e,n,i;return H?(null===(n=$.filter(e=>{var n;return e.chainId===(null===(n=H.chainInfo)||void 0===n?void 0:n.chainId)}))||void 0===n?void 0:null===(e=n[0])||void 0===e?void 0:e.chainRegistryPath)||(null===(i=H.chainInfo)||void 0===i?void 0:i.chainRegistryPath):null},[$,H]);(0,w.useEffect)(()=>{C().storage.local.get([d.A_]).then(e=>{let n=e[d.A_];F({...G,[ee]:n.chainInfo}),J(n),Y.current=n.origin})},[]);let en=(0,w.useCallback)(async()=>{var e,n,i,l;(null==H?void 0:null===(e=H.chainInfo)||void 0===e?void 0:e.chainId)&&await L.setBetaChainTags(H.chainInfo.chainId,["Cosmos"]),(null==H?void 0:null===(n=H.chainInfo)||void 0===n?void 0:n.testnetChainId)&&await L.setBetaChainTags(H.chainInfo.testnetChainId,["Cosmos"]),(null==H?void 0:null===(i=H.chainInfo)||void 0===i?void 0:i.evmChainId)&&await L.setBetaChainTags(H.chainInfo.evmChainId,["Cosmos"]),(null==H?void 0:null===(l=H.chainInfo)||void 0===l?void 0:l.evmChainIdTestnet)&&await L.setBetaChainTags(H.chainInfo.evmChainIdTestnet,["Cosmos"])},[H,L]),ei=async()=>{await (0,t._vH)(200),Z(!0);try{let e=await X(q,ee,"UPDATE",H.chainInfo),n=await C().storage.local.get([d.Pw]),i={...JSON.parse(n[d.Pw]??"{}"),[ee]:H.chainInfo};await C().storage.local.set({[d.Pw]:JSON.stringify(i)}),await en(),q&&(await (0,N.E)([H.chainInfo.chainId],[q.id],Y.current??""),await K(e[q.id])),await Q(ee),window.removeEventListener("beforeunload",A),await C().storage.local.set({[d.u1]:{data:"Approved",success:"Chain enabled"}}),setTimeout(async()=>{await C().storage.local.remove(d.u1),Z(!1),(0,b.oj)()?D("/home"):setTimeout(async()=>{window.close()},10)},100)}catch(e){z("Something went wrong. Please try again."),Z(!1)}};return(0,c.$)({page:"suggest-chain",queryStatus:H?"loading":"success",op:"suggestedChainLoad",description:"loading state on suggested chain approval"}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)(k.X6,{text:"Add Network"}),(0,l.jsx)(k.GL,{text:`This will allow this network to be used within ${(0,p.l)()?"Compass":"Leap"} Wallet.`}),(0,l.jsx)(o.GenericCard,{title:(0,l.jsx)("span",{className:"text-[15px] truncate",children:(null==H?void 0:null===(n=H.chainInfo)||void 0===n?void 0:n.chainName)??""}),subtitle:O,className:"py-8 my-5",img:(0,l.jsx)("img",{src:(null==H?void 0:null===(i=H.chainInfo)||void 0===i?void 0:i.chainSymbolImageUrl)??V,className:"h-10 w-10 mr-3",onError:(0,j._)(V)}),size:"sm",isRounded:!0}),(0,l.jsxs)("div",{className:"flex flex-col gap-y-[10px] bg-white-100 dark:bg-gray-900 rounded-2xl p-4 w-full",children:[(0,l.jsx)(s.sr,{children:"Network Name"}),(0,l.jsx)(s.B4,{children:(null==H?void 0:null===(x=H.chainInfo)||void 0===x?void 0:x.chainName)??""}),s.iz,(0,l.jsx)(s.sr,{children:"Network URL"}),(0,l.jsx)(s.B4,{children:(null==H?void 0:null===(I=H.chainInfo)||void 0===I?void 0:null===(m=I.apis)||void 0===m?void 0:m.rest)||(null==H?void 0:null===(_=H.chainInfo)||void 0===_?void 0:null===(T=_.apis)||void 0===T?void 0:T.restTest)||""}),s.iz,(0,l.jsx)(s.sr,{children:"Chain ID"}),(0,l.jsx)(s.B4,{children:(null==H?void 0:null===(B=H.chainInfo)||void 0===B?void 0:B.chainId)??""}),s.iz,(0,l.jsx)(s.sr,{children:"Currency Symbol"}),(0,l.jsx)(s.B4,{children:(null==H?void 0:null===(P=H.chainInfo)||void 0===P?void 0:P.denom)??""}),M&&(0,l.jsxs)(l.Fragment,{children:[s.iz,(0,l.jsx)(s.sr,{children:"Coin Type"}),(0,l.jsx)(s.B4,{children:(null==H?void 0:null===(S=H.chainInfo)||void 0===S?void 0:S.bip44.coinType)??""}),s.iz,(0,l.jsx)(s.sr,{children:"Address Prefix"}),(0,l.jsx)(s.B4,{children:(null==H?void 0:null===(E=H.chainInfo)||void 0===E?void 0:E.addressPrefix)??""}),s.iz,(0,l.jsx)(s.sr,{children:"Chain Registry Path"}),(0,l.jsx)(s.B4,{children:(null==H?void 0:null===(R=H.chainInfo)||void 0===R?void 0:R.chainRegistryPath)??""})]}),(0,l.jsx)("button",{className:"text-sm font-bold text-gray-400 h-5 w-full text-left",style:{color:"#726FDC"},onClick:()=>W(!M),children:M?"Show less":"Show more"})]})]}),(0,l.jsx)(k.$_,{children:(0,l.jsx)(k.No,{rejectBtnClick:A,rejectBtnText:"Reject",confirmBtnText:U?(0,l.jsx)(r.T,{color:y.w.white100}):"Approve",confirmBtnClick:ei})})]})});function _(){return(0,l.jsx)(k.zb,{suggestKey:d.A_,chainTagsStore:m.HN,children:e=>{let{handleError:n,handleRejectBtnClick:i,chainTagsStore:a}=e;return(0,l.jsx)(T,{handleError:n,handleRejectBtnClick:i,chainTagsStore:a})}})}}}]);