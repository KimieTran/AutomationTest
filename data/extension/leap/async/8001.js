!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2f4689b2-0356-4865-859c-4e3410878f5f",e._sentryDebugIdIdentifier="sentry-dbid-2f4689b2-0356-4865-859c-4e3410878f5f")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.17.3"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["8001"],{97070:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var l=a(52322),n=a(21950),s=a(39279),i=a(41477),o=a(19623),r=a(53108),c=a(29312),d=a(71566),u=a(71603),h=a(75958),w=a(70734),f=a(2784),m=a(10289),x=a(36321),v=a(48346),g=a(46103),j=a(49409),y=a(50292),b=a(48534),p=a(72565),C=a.n(p),N=a(91503);let k=(0,h.Pi)(e=>{var t,a;let{handleRejectBtnClick:h,handleError:x,rootStore:v,chainTagsStore:p}=e,k=(0,m.s0)(),[_,E]=(0,f.useState)(void 0),[I,T]=(0,f.useState)(""),[B,S]=(0,f.useState)(!1),A=(0,c.a1)(),L=(0,u.Af)(),{activeWallet:P,setActiveWallet:R}=(0,u.ZP)(),z=(0,d.N8)(),{setChains:D,chains:M}=(0,n._IL)(),G=(0,f.useMemo)(()=>I.replace("https://",""),[I]),J=(0,f.useMemo)(()=>(null==_?void 0:_.key)||(null==_?void 0:_.chainName)||"",[_]);(0,f.useEffect)(()=>{C().storage.local.get([r.A_]).then(async function(e){let{chainInfo:t,origin:a}=e[r.A_].msg;E(t),T(a)})},[]);let U=(0,f.useCallback)(async()=>{(null==_?void 0:_.chainId)&&await p.setBetaChainTags(_.chainId,["EVM"]),(null==_?void 0:_.testnetChainId)&&await p.setBetaChainTags(_.testnetChainId,["EVM"]),(null==_?void 0:_.evmChainId)&&await p.setBetaChainTags(_.evmChainId,["EVM"]),(null==_?void 0:_.evmChainIdTestnet)&&await p.setBetaChainTags(_.evmChainIdTestnet,["EVM"])},[_,p]),V=async()=>{S(!0);try{let e=await L(P,J,"UPDATE",_),t=await C().storage.local.get([r.Pw]),a={...JSON.parse(t[r.Pw]??"{}"),[J]:_};await C().storage.local.set({[r.Pw]:JSON.stringify(a)}),await U(),await z(J,_),P&&(await (0,w.E)([(null==_?void 0:_.evmChainId)||""],[P.id],I??""),await R(e[P.id])),D({...M,[J]:_}),v.setChains({...M,[J]:_}),v.reloadAddresses(),window.removeEventListener("beforeunload",h),await C().storage.local.set({[r.u1]:{data:"Approved"}}),await C().storage.local.remove([r.A_]),await C().storage.local.remove(r.u1),(0,b.oj)()?k("/home"):window.close(),S(!1)}catch(e){x("Failed to add network"),S(!1)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)(N.X6,{text:"Add Network"}),(0,l.jsx)(N.GL,{text:`This will allow this network to be used within ${(0,y.l)()?"Compass":"Leap"} Wallet.`}),(0,l.jsx)(s.GenericCard,{title:(0,l.jsx)("span",{className:"text-[15px] truncate",children:(null==_?void 0:_.chainName)??""}),subtitle:G,className:"py-8 my-5",img:(0,l.jsx)("img",{src:(null==_?void 0:_.chainSymbolImageUrl)??A,className:"h-10 w-10 mr-3",onError:(0,j._)(A)}),size:"sm",isRounded:!0}),(0,l.jsxs)("div",{className:"flex flex-col gap-y-[10px] bg-white-100 dark:bg-gray-900 rounded-2xl p-4 w-full",children:[(0,l.jsx)(i.sr,{children:"Network Name"}),(0,l.jsx)(i.B4,{children:(null==_?void 0:_.chainName)??""}),i.iz,(0,l.jsx)(i.sr,{children:"Network URL"}),(0,l.jsx)(i.B4,{children:(null==_?void 0:null===(t=_.apis)||void 0===t?void 0:t.evmJsonRpc)||(null==_?void 0:null===(a=_.apis)||void 0===a?void 0:a.evmJsonRpcTest)||""}),i.iz,(0,l.jsx)(i.sr,{children:"Chain ID"}),(0,l.jsx)(i.B4,{children:(null==_?void 0:_.evmChainId)??""}),i.iz,(0,l.jsx)(i.sr,{children:"Currency Symbol"}),(0,l.jsx)(i.B4,{children:(null==_?void 0:_.denom)??""})]})]}),(0,l.jsx)(N.$_,{children:(0,l.jsx)(N.No,{rejectBtnClick:h,rejectBtnText:"Reject",confirmBtnText:B?(0,l.jsx)(o.T,{color:g.w.white100}):"Approve",confirmBtnClick:V})})]})});function _(){return(0,l.jsx)(N.zb,{chainTagsStore:x.HN,suggestKey:r.A_,children:e=>{let{handleRejectBtnClick:t,handleError:a,chainTagsStore:n}=e;return(0,l.jsx)(k,{chainTagsStore:n,handleRejectBtnClick:t,handleError:a,rootStore:v.Ux})}})}},91503:function(e,t,a){a.d(t,{GL:()=>u,X6:()=>d,zb:()=>y,No:()=>r,$_:()=>s});var l=a("52322"),n=a("2784");function s(e){let{children:t}=e;return(0,l.jsx)("div",{className:"w-full flex flex-col justify-center items-center box-border mt-4",children:t})}var i=a("39279"),o=a("46103");function r(e){let{rejectBtnClick:t,rejectBtnText:a,confirmBtnClick:n,confirmBtnText:s}=e;return(0,l.jsxs)("div",{className:"flex flex-row justify-between w-full",children:[(0,l.jsx)(i.Buttons.Generic,{style:{height:"48px",background:o.w.gray900,color:o.w.white100},onClick:t,children:a}),(0,l.jsx)(i.Buttons.Generic,{style:{height:"48px",background:o.w.cosmosPrimary,color:o.w.white100},className:"ml-3 bg-gray-800",onClick:n,children:s})]})}var c=a("69816");function d(e){let{text:t}=e;return(0,l.jsx)(c.Z,{size:"lg",className:"font-bold mt-5",children:t})}function u(e){let{text:t}=e;return(0,l.jsx)(c.Z,{size:"xs",className:"font-bold text-center mt-[2px] max-w-[250px]",color:"text-gray-800 dark:text-gray-600 mb-2",children:t})}var h=a("94184"),w=a.n(h),f=a("53108"),m=a("75958"),x=a("10289"),v=a("48534"),g=a("72565"),j=a.n(g);let y=(0,m.Pi)(e=>{let{children:t,suggestKey:a,chainTagsStore:s}=e,i=(0,x.s0)(),r=(0,n.useCallback)(async e=>{await j().storage.local.set({[f.u1]:{error:e}}),setTimeout(async()=>{await j().storage.local.remove([a]),await j().storage.local.remove(f.u1),(0,v.oj)()?i("/home"):window.close()},10)},[i,a]),c=(0,n.useCallback)(async()=>{await r("Rejected by the user.")},[r]);return(0,n.useEffect)(()=>(window.addEventListener("beforeunload",c),j().storage.local.remove(f.u1),()=>{window.removeEventListener("beforeunload",c)}),[c]),(0,l.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,l.jsxs)("div",{className:"panel-width panel-height max-panel-height enclosing-panel",children:[(0,l.jsx)("div",{className:"w-full h-1 rounded-t-2xl",style:{backgroundColor:o.w.cosmosPrimary}}),(0,l.jsx)("div",{className:w()("relative h-full flex flex-col justify-between items-center pt-4 pb-10",{"px-7":!(0,v.oj)(),"px-4":(0,v.oj)()}),children:t({handleRejectBtnClick:c,handleError:r,chainTagsStore:s})})]})})})}}]);