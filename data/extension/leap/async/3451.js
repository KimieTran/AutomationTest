!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="02401653-38f4-49d6-a50c-60b76a754c67",e._sentryDebugIdIdentifier="sentry-dbid-02401653-38f4-49d6-a50c-60b76a754c67")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.17.3"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["3451"],{42804:function(e,a,t){t.r(a),t.d(a,{default:()=>D});var l=t("52322"),s=t("21950"),i=t("39279"),o=t("12887"),n=t("69282"),r=t.n(n),c=t("3929"),d=t("19623"),u=t("23259"),h=t("53108"),m=t("29312"),g=t("71566"),f=t("38313"),x=t("98851"),w=t("114"),v=t("70734"),y=t("2784"),p=t("10289"),b=t("48346"),j=t("46103"),N=t("32374"),k=t("50292"),I=t("48534"),S=t("71198"),_=t("72565"),A=t.n(_),C=t("57124"),T=t("49409");function E(e){let{src:a,bodyText:t,alt:s="chain logo"}=e,i=(0,C.a)();return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,l.jsx)("img",{src:a,onError:(0,T._)(i),alt:s,className:"w-[36px] h-[36px] rounded-full"}),(0,l.jsx)("p",{className:"dark:text-white-100 text-gray-900",children:t})]})}function D(){var e,a,t;let{theme:n}=(0,i.useTheme)(),_=(0,g.a7)(),C=(0,s.QSC)(),T=(0,y.useMemo)(()=>C?C:_===u.HW?{chainName:"All chains",chainSymbolImageUrl:n===i.ThemeName.DARK?x.r.Misc.AggregatedViewDarkSvg:x.r.Misc.AggregatedViewSvg}:{chainName:"Unknown chain",chainSymbolImageUrl:""},[C,_,n]),D=(0,s.rTu)(),{topChainColor:U}=(0,m.Cd)(),R=(0,g.N8)(),B=(0,f.fn)();r()(null!==D,"activeWallet is null");let L=(0,y.useMemo)(()=>(0,N.k)(D.name),[D.name]),M=(0,s.DI5)(),[G,W]=(0,y.useState)(!1),[H,K]=(0,y.useState)(""),[O,V]=(0,y.useState)(),Y=(0,p.s0)(),[z,Q]=(0,y.useState)("");(0,y.useEffect)(()=>{A().storage.local.get([h.AI]).then(async function(e){let{requestedActiveChain:a,setNetworkTo:t,origin:l}=e[h.AI].msg;K(a),V(t),Q(l)})},[]);let Z=async()=>{await A().storage.local.set({[h.u1]:{error:"Rejected by the user."}}),setTimeout(async()=>{await A().storage.local.remove([h.AI]),await A().storage.local.remove(h.u1),(0,I.oj)()?Y("/home"):window.close()},10)},$=async()=>{var e,a,t;W(!0);let l=("testnet"===O?null===(e=M[H])||void 0===e?void 0:e.testnetChainId:null===(a=M[H])||void 0===a?void 0:a.chainId)??"";await (0,v.E)([l],[D.id],z),await A().storage.local.set({[h.hs]:H}),R(H),b.Ux.setActiveChain(H),(null===(t=M[H])||void 0===t?void 0:t.evmOnlyChain)&&await A().storage.local.set({[h.YK]:H}),O&&(B(O),await A().storage.local.set({[h.Ol]:O})),await A().storage.local.set({[h.u1]:{data:"Approved"}}),setTimeout(async()=>{await A().storage.local.remove([h.AI]),await A().storage.local.remove(h.u1),W(!1),(0,I.oj)()?Y("/home"):window.close()},50)};return(0,l.jsx)("div",{className:"w-[400px] h-full relative self-center justify-self-center flex justify-center items-center mt-2",children:(0,l.jsx)("div",{className:"panel-height relative w-full overflow-clip rounded-md border border-gray-300 dark:border-gray-900",children:(0,l.jsxs)(c.Z,{header:(0,l.jsx)("div",{className:"w-[396px]",children:(0,l.jsx)(i.Header,{imgSrc:(null==T?void 0:T.chainSymbolImageUrl)??w.GenericLight,title:(0,l.jsx)(i.Buttons.Wallet,{brandLogo:(0,k.l)()?(0,l.jsx)("img",{className:"w-[24px] h-[24px] mr-1",src:x.r.Logos.CompassCircle}):void 0,title:(0,S.fy)(L,10),className:"pr-4 cursor-default"})})}),children:[(0,l.jsxs)("div",{className:"px-7 py-3 overflow-y-auto relative h-[450px]",children:[(0,l.jsx)("h2",{className:"text-center text-lg font-bold dark:text-white-100 text-gray-900 w-full",children:"Allow this site to switch the chain?"}),(0,l.jsxs)("p",{className:"text-center text-sm dark:text-gray-300 text-gray-500 w-full",children:["This will switch the selected chain within ",(0,k.l)()?"Compass":"Leap"," to a previously added chain:"]}),(0,l.jsxs)("div",{className:"flex w-full p-8 items-center justify-between",children:[(0,l.jsx)(E,{src:(null==T?void 0:T.chainSymbolImageUrl)??"",bodyText:(null==T?void 0:T.chainName)??"",alt:(null==T?void 0:T.chainName)+" logo"}),(0,l.jsx)("div",{className:"bg-gray-100 dark:bg-gray-850 shrink-0 flex justify-center items-center w-[36px] h-[36px] rounded-full",children:(0,l.jsx)(o.o,{size:24,className:"dark:text-white-100 text-black-100"})}),(0,l.jsx)(E,{src:(null===(e=M[H])||void 0===e?void 0:e.chainSymbolImageUrl)??"",bodyText:(null===(a=M[H])||void 0===a?void 0:a.chainName)??"",alt:(null===(t=M[H])||void 0===t?void 0:t.chainName)+" logo"})]})]}),(0,l.jsx)("div",{className:"absolute bottom-[36px] left-0 py-3 px-7 dark:bg-black-100 bg-gray-50 w-full",children:(0,l.jsxs)("div",{className:"flex items-center justify-center w-full space-x-3",children:[(0,l.jsx)(i.Buttons.Generic,{title:"Reject Button",color:j.w.gray900,onClick:Z,disabled:G,children:"Reject"}),(0,l.jsx)(i.Buttons.Generic,{title:"Approve Button",color:U,onClick:$,disabled:G,className:`${G?"cursor-not-allowed opacity-50":""}`,children:G?(0,l.jsx)(d.T,{color:"white"}):"Switch chain"})]})})]})})})}}}]);