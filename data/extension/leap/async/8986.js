!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c7f0be52-38e4-4abc-a0e5-5d3b3e4b1f33",e._sentryDebugIdIdentifier="sentry-dbid-c7f0be52-38e4-4abc-a0e5-5d3b3e4b1f33")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.17.3"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["8986"],{36549:function(e,n,o){o.d(n,{a:function(){return l}});var a=o(52322),t=o(94184),i=o.n(t),r=o(69816);let l=(0,o(2784).forwardRef)((e,n)=>{let{placeholder:o,value:t,onChange:l,name:s,error:c,warning:d,onBlur:m}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:i()({"!border-red-300":c,"!border-yellow-600":d,"w-full border border-gray-500 rounded-xl flex h-12 bg-white-100 dark:bg-gray-900 py-2 pl-5 pr-[10px] mb-4":!0}),children:(0,a.jsx)("input",{placeholder:o,className:i()({"flex flex-grow text-base dark:text-white-100 text-gray-400 outline-none bg-white-0 placeholder-gray-400::placeholder":!0,"border-red-300":c,"border-yellow-600":d}),value:t,name:s,onChange:l,autoComplete:"off",onBlur:m,ref:n})}),c&&(0,a.jsx)(r.Z,{size:"sm",color:"text-red-300 mb-4",children:c}),d&&(0,a.jsx)(r.Z,{size:"sm",color:"text-yellow-600 mb-4",children:d})]})});l.displayName="InputComponent"},60143:function(e,n,o){o.r(n),o.d(n,{default:function(){return D}});var a=o(52322),t=o(21950),i=o(2826),r=o(39279),l=o(36549),s=o(3929),c=o(69816),d=o(98851),m=o(75958),u=o(2784),f=o(10289),h=o(78344),x=o(42799),b=o(48346),g=o(30809),y=o(46103),p=o(53345),w=o(50292),C=o(23163);let v=(0,m.Pi)(e=>{var n;let{betaCW20DenomsStore:o,betaERC20DenomsStore:s,betaNativeDenomsStore:c,activeChainStore:d,rootDenomsStore:m,selectedNetworkStore:h,rootBalanceStore:x,enabledCW20DenomsStore:b}=e,g=(0,f.s0)(),v=(0,f.TH)().state,D=(0,t.DI5)(),k=d.activeChain,j=m.allDenoms,S=h.selectedNetwork,[N,I]=(0,u.useState)({name:"",coinDenom:"",coinMinimalDenom:"",coinDecimals:"",coinGeckoId:"",icon:"",chain:k}),[M,E]=(0,u.useState)(!1),[W,_]=(0,u.useState)(!1),[T,B]=(0,u.useState)(!1),[L,O]=(0,u.useState)(!1),[A,G]=(0,u.useState)({}),[R,Z]=(0,u.useState)(!1),{name:$,coinDenom:H,coinMinimalDenom:P,coinDecimals:z,coinGeckoId:F,icon:U,chain:Y}=N,{lcdUrl:X,evmJsonRpc:J}=(0,t.U9i)(),K=(0,t.xxU)(k,S,!0),V=(0,u.useRef)(null),q=b.getEnabledCW20DenomsForChain(k),Q=(0,t.uVs)(),ee=(0,u.useCallback)(async e=>{var n;let o=e.currentTarget.value.trim();if(!o&&o.toLowerCase().startsWith("ibc/"))return;O(!0),E(!1),_(!1);let a=!1;try{let e=await (0,i.bt3)(k,"testnet"===S);if(e&&e.assets)for(let n of e.assets){let e=n.denom.trim(),t=!1;if(!!e){if(e.startsWith("cw20:")&&(t=!0,e=e.slice(5)),o.startsWith("cw20:")&&(o=o.slice(5)),e.toLowerCase()===o.toLowerCase()){let{name:o,symbol:i,image:r,decimals:l,coingecko_id:s}=n;a=!0,t?E(!0):E(!1),I(n=>({...n,name:o,coinDenom:i,coinMinimalDenom:e,coinDecimals:String(l),coinGeckoId:s,icon:r}));break}}}}catch(e){}if(!1===a)try{let e=await (0,p.s)(X??"",o);"string"!=typeof e&&e.symbol?(a=!0,E(!0),I(n=>({...n,name:e.name,coinDenom:e.symbol,coinDecimals:e.decimals,coinMinimalDenom:o}))):E(!1)}catch(e){E(!1)}if(!1===a&&(Q||(null===(n=D[k])||void 0===n?void 0:n.evmOnlyChain)))try{let e=await (0,i.d_E)(o,J??"",Number(K));a=!0,_(!0),I(n=>({...n,name:e.name,coinDenom:e.symbol,coinDecimals:String(e.decimals),coinMinimalDenom:o}))}catch(e){_(!1)}if(!1===a&&["mainCoreum","coreum"].includes(Y))try{let{symbol:e,precision:n}=await (0,t.yaX)(X??"",o);a=!0,I(a=>({...a,coinDenom:e,coinMinimalDenom:o,coinDecimals:n}))}catch(e){}B(a),O(!1)},[Q,D,k,Y,S,X,J,K]),en=(0,u.useCallback)(e=>{let{name:n,value:o}=e.currentTarget,a="";if(o){if("coinMinimalDenom"===n){var t,r;let e=o.trim().toLowerCase();Object.keys(j).map(e=>e.toLowerCase()).includes(e)?a="Token with same minimal denom already exists":(null===(t=D[k])||void 0===t?void 0:t.evmOnlyChain)&&!(0,i.Ohs)(e)?a="Invalid contract address":!Q&&!(null===(r=D[k])||void 0===r?void 0:r.evmOnlyChain)&&(e.startsWith("erc20/")||(0,i.Ohs)(e))?a="We don't support adding erc20 token yet.":e.startsWith("ibc/")&&(a="We don't support adding ibc token yet.")}else"coinDecimals"===n&&(0,C.W)(o)?a="Incorrect decimal value":"icon"===n&&(0,C.S)(o)&&(a="Invalid Icon URL")}a?G(e=>({...e,[n]:a})):A[n]&&(delete A[n],G(A)),I(e=>({...e,[n]:o.trim()}))},[k,D,j,A,Q]);(0,u.useEffect)(()=>{v&&v.coinMinimalDenom&&en({currentTarget:{name:"coinMinimalDenom",value:v.coinMinimalDenom}})},[v]),(0,u.useEffect)(()=>{V.current&&V.current.focus()},[]);let eo=(0,u.useCallback)(async e=>{e.preventDefault(),Z(!0);let n={...N,coinDecimals:Number(N.coinDecimals)};!n.name&&(n.name=void 0),M?await o.setBetaCW20Denoms(N.coinMinimalDenom,n,Y):W?await s.setBetaERC20Denoms(N.coinMinimalDenom,n,Y):await c.setBetaNativeDenoms(N.coinMinimalDenom,n,Y);let a=[...q,N.coinMinimalDenom];await b.setEnabledCW20Denoms(a,k),x.refetchBalances(),Z(!1),g("/")},[k,o,s,c,Y,b,q,M,W,g,x,N]),ea=(0,u.useMemo)(()=>!L&&!T&&P&&!A.coinMinimalDenom,[L,T,P,A]),et=(0,u.useMemo)(()=>!H||!P||!z||R||L||!!A.coinMinimalDenom||!!A.coinDenom||!!A.coinDecimals||!!A.coinGeckoId||!!A.name||!!A.icon,[H,P,z,R,L,A]),{coinMinimalDenomPlaceholder:ei,coinDenomPlaceholder:er}=(0,u.useMemo)(()=>{var e;let n="Coin minimal denom (ex: juno1...5awr)",o="Coin denom (ex: NETA)";return(null===(e=D[k])||void 0===e?void 0:e.evmOnlyChain)?(n="Contract address (ex: 0x...)",o="Symbol (ex: PYTH)"):(0,w.l)()&&(n="Coin minimal denom (ex: sei16...xx00)",o="Coin denom (ex: ECLIP)",Q&&(n="Contract address/Coin minimal denom (ex: 0x.../sei16...xx00)",o="Symbol/Coin denom (ex: PYTH/ECLIP)")),{coinMinimalDenomPlaceholder:n,coinDenomPlaceholder:o}},[k,D,Q]);return(0,a.jsxs)("form",{className:"mx-auto w-[344px] mb-5",onSubmit:eo,children:[(0,a.jsx)(l.a,{placeholder:ei,value:P,name:"coinMinimalDenom",onChange:en,error:A.coinMinimalDenom,warning:ea?`Make sure the coin minimal denom is correct and it belongs to ${null===(n=D[k])||void 0===n?void 0:n.chainName} chain`:"",onBlur:ee,ref:V}),(0,a.jsx)(l.a,{placeholder:er,value:H,name:"coinDenom",onChange:en,error:A.coinDenom}),(0,a.jsx)(l.a,{placeholder:"Coin decimals (ex: 6)",value:z,name:"coinDecimals",onChange:en,error:A.coinDecimals}),(0,a.jsx)(l.a,{placeholder:"Token name (optional)",value:$,name:"name",onChange:en,error:A.name}),(0,a.jsx)(l.a,{placeholder:"Coin gecko id (optional)",value:F,name:"coinGeckoId",onChange:en,error:A.coinGeckoId}),(0,a.jsx)(l.a,{placeholder:"Icon url (optional)",value:U,name:"icon",onChange:en,error:A.icon}),L?(0,a.jsx)("p",{className:"font-bold text-gray-900 dark:text-gray-50 text-center mb-2",children:"Finding token info..."}):null,(0,a.jsxs)("div",{className:"flex gap-x-4 mt-3",children:[(0,a.jsx)(r.Buttons.Generic,{className:"rounded-2xl w-full font-bold py-3 dark:bg-gray-900 bg-gray-900 text-gray-900 dark:text-white-100 h-12",type:"reset",onClick:()=>g("/"),style:{boxShadow:"none"},children:"Cancel"}),(0,a.jsx)(r.Buttons.Generic,{className:"rounded-2xl w-full font-bold py-3 text-gray-900 dark:text-white-100 relative h-12",style:{backgroundColor:y.w.getChainColor(k),boxShadow:"none"},type:"submit",disabled:et,children:"Add Token"})]})]})});function D(){let e=(0,f.s0)();return(0,a.jsx)("div",{className:"relative overflow-clip m-auto",children:(0,a.jsx)(s.Z,{header:(0,a.jsx)(r.Header,{title:"Add Token",action:{onClick:()=>{e("/home")},type:r.HeaderActionType.BACK}}),children:(0,a.jsxs)("div",{className:"panel-width px-7 panel-height max-panel-height overflow-y-auto bg-gray-50 dark:bg-black-100",children:[(0,a.jsxs)("div",{className:"rounded-xl w-full flex items-center h-[68px] bg-white-100 dark:bg-gray-900 py-2 pl-5 pr-[10px] mt-7 mb-4",children:[(0,a.jsx)("img",{className:"mr-[16px]",src:d.r.Misc.Warning,width:"40",height:"40"}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-[2px]",children:[(0,a.jsx)(c.Z,{size:"sm",color:"text-gray-400 font-medium",children:"Caution:"}),(0,a.jsx)(c.Z,{size:"sm",color:"font-bold dark:text-white-100 text-gray-900",children:"Only add tokens you trust."})]})]}),(0,a.jsx)(v,{selectedNetworkStore:g.i,betaCW20DenomsStore:x.Xy,betaERC20DenomsStore:x.EM,betaNativeDenomsStore:x.vk,activeChainStore:h.J,rootDenomsStore:x.gb,rootBalanceStore:b.jZ,enabledCW20DenomsStore:x.bI})]})})})}},53345:function(e,n,o){o.d(n,{s:function(){return i}});var a=o(55334),t=o(48834).Buffer;async function i(e,n){let o=`${e}/cosmwasm/wasm/v1/contract/${n}/smart/${t.from('{"token_info":{}}').toString("base64")}`,{data:i}=await a.Z.get(o);return i.error&&i.error.toLowerCase().includes("decoding bech32 failed")?"Invalid Contract Address":i.data}},23163:function(e,n,o){function a(e){return!/^(http|https):\/\/[^ "]+$/.test(e)}function t(e){return!/^\d+$/.test(e)}o.d(n,{S:function(){return a},W:function(){return t}})}}]);