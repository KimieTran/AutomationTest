!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="bd88fbf1-6830-45c3-a396-afb48c926fa3",e._sentryDebugIdIdentifier="sentry-dbid-bd88fbf1-6830-45c3-a396-afb48c926fa3")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.17.3"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["6045"],{77807:function(e,s,t){t.d(s,{Z:function(){return b}});var r=t(52322),a=t(2826),l=t(39279),i=t(26089),n=t(60431),o=t(66534),c=t(69332),d=t(69816),m=t(23259),x=t(36400),u=t(98851),h=t(114),p=t(1067),g=t(2784),f=t(86874),y=t(50292),j=t(71198);let w=async e=>{let{address:s,lcdUrl:t,chain:r}=e;try{return{balances:(await (0,a.F$d)({baseURL:t,method:"get",url:`/cosmos/bank/v1beta1/balances/${s}`})).data.balances??[],chain:r}}catch(e){return(0,i.Tb)(e),{balances:[],chain:r}}},b=function(e){let{cosmosAddress:s,id:t,onClick:b,isExistingAddress:v,isChosen:k,hidden:N,showDerivationPath:C=!1,...M}=e,S=(0,x.pb)(),Z=(0,g.useRef)(new AbortController),{isLoading:I,error:E,data:z}=(0,n.useQuery)({queryKey:[s],refetchOnWindowFocus:!1,refetchOnReconnect:!0,queryFn:async()=>{let{words:e}=o.bech32.decode(s),t=Object.values(S).filter(e=>!e.beta&&!m.CM.includes(e.chainId)).map(s=>{let t=o.bech32.encode(s.addressPrefix,e),r=(0,a.PqN)(S,s.key,!1);return r?w({address:t,lcdUrl:r,chain:s.key}):Promise.reject(Error("No rest endpoint"))}),r=await Promise.allSettled(t),l=[];return r.forEach(e=>{if("fulfilled"===e.status){let{balances:s,chain:t}=e.value;s.length>0&&s.some(e=>{let{amount:s}=e;return Number(s)>0})&&l.push(t)}}),l},onError:e=>{(0,i.Tb)(e)}}),P=(0,y.l)()?u.r.Misc.CompassCopied:u.r.Misc.CheckBox,W=(0,g.useMemo)(()=>v?u.r.Misc.CheckCircle:k?P:u.r.Misc.CheckBoxOutlineBlank,[P,k,v]);(0,g.useEffect)(()=>{let e=Z.current;return()=>e.abort()},[]);let O=(0,g.useMemo)(()=>(0,p.getWalletIconAtIndex)(t),[t]);return(0,r.jsxs)("div",{className:`rounded-xl w-[360px] shrink-0 ${N?"hidden":""}`,children:[(0,r.jsx)(l.OnboardCard,{imgSrc:O,title:"Wallet "+(t+1),subTitle:(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[C&&(0,r.jsx)(d.Z,{size:"xs",className:"font-medium py-1 px-[6px] rounded bg-gray-200 dark:bg-gray-800",children:"0/'0/1"}),(0,j.Hn)(s)]}),isRounded:!1,size:"lg",onClick:b,iconSrc:W,className:`w-full rounded-t-lg ${I||z?"":"rounded-b-lg"}`,...M}),!(0,y.l)()&&!E&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-[1px] bg-gray-100 dark:bg-gray-600"}),(0,r.jsx)("div",{className:"w-[360px] bg-white-100 dark:bg-gray-900 px-6 py-2 rounded-b-lg",children:I?(0,r.jsx)(f.Z,{className:"light:bg-gray-200 bg-gray-800 z-0"}):z&&(0,r.jsxs)("div",{className:"flex rounded-b-lg",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[z.slice(0,3).map(e=>(0,r.jsx)("img",{src:(0,h.getChainImage)(e),className:"block w-5 h-5 rounded-full shadow ml-1.5"},e)),z.length>3&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.Z,{content:(0,r.jsx)("li",{className:"list-none space-y-3 w-full",children:z.slice(3).map(e=>{var s;return(0,r.jsxs)("ul",{className:"flex",children:[(0,r.jsx)("img",{src:(0,h.getChainImage)(e),className:"block w-5 h-5 rounded-full shadow mr-3"}),(0,r.jsx)(d.Z,{size:"sm",className:"capitalize",children:(null===(s=a.oCA[e])||void 0===s?void 0:s.chainName)??e})]},e)})}),children:(0,r.jsx)("div",{className:"relative cursor-pointer",children:(0,r.jsxs)(d.Z,{size:"xs",className:"ml-2 font-bold bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300 rounded-sm inline-block p-[2px]",children:["+",z.length-3]})})})})]}),(0,r.jsxs)(d.Z,{size:"sm",className:"ml-4 text-gray-600 dark:text-gray-300",children:["Funds on ",z.length," network",z.length>1?"s":""]})]})})]})]})}},51416:function(e,s,t){t.d(s,{k:function(){return m}});var r=t(21950),a=t(2826),l=t(88054),i=t(97486),n=t(81252),o=t(2784),c=t(1252),d=t(50292);function m(){let[e,s]=(0,o.useState)(),t=n.w.useImportMultipleWalletAccounts(),{chains:m}=(0,r._IL)(),[x,u]=(0,o.useState)(""),h=n.w.useSaveLedgerWallet(),p=(0,o.useRef)();(0,o.useEffect)(()=>{!x&&u(i.W.CreateNewMnemonic())},[x]);let g=e=>{p.current=e},f=async(s,t)=>{if(s){let r=Object.entries(p.current??{}).filter(e=>{let[,s]=e,r=(0,d.l)()?"seiTestnet2":"cosmos";return t.indexOf(s[r].address)>-1}).reduce((e,s)=>{let[t,r]=s;return e[parseInt(t)]={chainAddresses:r},e},{});await h({addresses:r,password:s,pubKeys:(e??[]).map(e=>e.pubkey)})}};function y(e,s){let t=Object.keys(s).map(e=>parseInt(e)),r={...s};for(let s of t)r[s]?r[s]={...r[s],...e[s]}:r[s]=e[s];for(let s of Object.keys(e).map(e=>parseInt(e)))!r[s]&&(r[s]=e[s]);return r}return{mnemonic:x,walletAccounts:e,getAccountDetails:async e=>{let t=(0,d.l)()?"sei":"cosmos";s(await l.Kn.getWalletsFromMnemonic(e,5,"118",t))},getLedgerAccountDetails:async e=>{let t=(0,d.l)()?"seiTestnet2":"cosmos",{primaryChainAccount:r,chainWiseAddresses:l}=await (0,a.hW4)([0,1,2,3,4],e,e?"injective":t,[],m);s(r.map((e,s)=>({address:e.address,pubkey:e.pubkey,index:s})));let i={};for(let[e,s]of Object.entries(l)){let t=0;for(let r of s)i[t]?i[t][e]=r:i[t]={[e]:r},t+=1}p.current?g(y(i,p.current)):g(i)},onOnboardingComplete:(e,s,r,a)=>{if(e&&s)return t({mnemonic:e,password:s,selectedAddressIndexes:Object.entries(r).filter(e=>{let[,s]=e;return s}).map(e=>{let[s]=e;return parseInt(s)}),type:a})},onBoardingCompleteLedger:f,getEvmLedgerAccountDetails:async()=>{let e=(0,d.l)()?"seiTestnet2":"cosmos",s=(0,c.n)(Object.values(m)),{chainWiseAddresses:t}=await (0,a.hW4)([0,1,2,3,4],!0,"injective",s,m),r={};for(let[e,s]of Object.entries(t)){let t=0;for(let a of s)r[t]?r[t][e]=a:r[t]={[e]:a},t+=1}p.current?g(y(r,p.current)):g(r)},getLedgerAccountDetailsForIdxs:async(e,t)=>{let r=(0,d.l)()?"seiTestnet2":"cosmos",{primaryChainAccount:l,chainWiseAddresses:i}=await (0,a.hW4)(t,e,e?"injective":r,[],m);s(e=>[...e??[],...l.map((s,t)=>({address:s.address,pubkey:s.pubkey,index:(e??[]).length+t}))]);let n={};for(let[e,s]of Object.entries(i)){let r=t[0];for(let t of s)n[r]?n[r][e]=t:n[r]={[e]:t},r+=1}p.current?g(y(n,p.current)):g(n)}}}},27292:function(e,s,t){t.d(s,{B:function(){return a}});var r=t(98851);let a={Keplr:{imgSrc:r.r.Logos.Keplr,title:"Keplr","data-testing-id":"",mixpanelMethod:"existing-keplr"},WalletIcon:{imgSrc:r.r.Misc.WalletIcon,title:void 0,"data-testing-id":"import-seed-phrase",mixpanelMethod:"existing-seed"},PrivateKey:{imgSrc:r.r.Misc.PkWallet,title:"Using a Private key","data-testing-id":"import-private-key",mixpanelMethod:"existing-pk"}}},36057:function(e,s,t){t.r(s),t.d(s,{default:()=>$});var r=t("52322"),a=t("2826"),l=t("39279"),i=t("38525"),n=t("58002"),o=t("59432"),c=t("46753"),d=t("51416"),m=t("42941"),x=t("75958"),u=t("2784"),h=t("10289"),p=t("22014"),g=t("46103"),f=t("50371"),y=t("50292"),j=t("72565"),w=t.n(j),b=t("94184"),v=t.n(b),k=t("69816");function N(e){let{heading:s,description:t,headingClassName:a,descriptionClassName:l}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Heading,{className:a,children:s}),(0,r.jsx)(N.Description,{className:l,children:t})]})}function C(e){let{walletName:s,isCosmostation:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Heading,{children:"Where can I find my phrase?"}),(0,r.jsx)(N.Description,{children:(0,r.jsxs)("ol",{className:"mb-[32px]",children:[(0,r.jsxs)("li",{children:["1. Open ",(0,r.jsxs)("strong",{children:[" ",s," extension "]})]}),"Leap"===s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("li",{children:["2. On top left, click on the ",(0,r.jsx)("strong",{children:" Hamburger icon "})]}),(0,r.jsxs)("li",{children:["3. Select show recovery phrase and enter your password and"," ",(0,r.jsx)("strong",{children:" view recovery phrase "})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("li",{children:["2. On top ",t?"left":"right",", click on the"," ",(0,r.jsx)("strong",{children:" Profile icon "})]}),(0,r.jsxs)("li",{children:["3. Select ",t?"account settings":"wallet"," and click on the 3 dots and ",(0,r.jsx)("strong",{children:" view recovery phrase "})]})]}),(0,r.jsx)("li",{children:"4. Copy and paste the recovery phrase to the field on the left."})]})})]})}N.Heading=function(e){let{children:s,className:t}=e;return(0,r.jsx)(k.Z,{size:"md",className:v()("font-bold text-gray-600 dark:text-gray-200 mt-1",t),children:s})},N.Description=function(e){let{children:s,className:t}=e;return(0,r.jsx)(k.Z,{size:"sm",color:v()("font-medium text-gray-600 dark:text-gray-400",t),children:s})};var M=t("2810"),S=t("98851"),Z=t("80793"),I=t("27292");function E(e){var s,t,a,i,n,o,c,d,m,x,h,p;let{onProceed:f,walletName:j,secret:w,setSecret:b,isPrivateKey:v,privateKeyError:E,setPrivateKeyError:z,isMetamaskKey:P,isOtherEvmWallets:W}=e,[O,T]=(0,u.useState)(E??""),A="Cosmostation"===j;(0,u.useEffect)(()=>{(null==E?void 0:E.length)&&T(E)},[E]);let B=e=>{T(""),z&&z(""),b(e)};let L=(s=v,t=j,a=P,i=W,(0,u.useMemo)(()=>{var e;if(a)return S.r.Logos.Metamask;if(i)return S.r.Misc.EvmWalletIcon;if(s)return I.B.PrivateKey.imgSrc;return(null===(e=I.B[t])||void 0===e?void 0:e.imgSrc)??S.r.Misc.WalletIcon},[a,i,s,t]));let F=(n=v,o=j,c=P,d=W,(0,u.useMemo)(()=>{let e="Import";return c?e+=" via MetaMask":d?e+=" via EVM Wallet":n?e+=" via Private Key":o?e+=` ${o}`:!o&&(e+=" via Recovery Phrase"),e},[c,d,n,o]));let D=(m=v,x=j,h=P,p=W,(0,u.useMemo)(()=>{if(h)return"Use private key to import your MetaMask wallet to generate the same EVM address as on MetaMask.";if(p)return"Use private key to import your EVM wallet to generate the same EVM address as on the EVM wallet.";if(m)return(0,y.l)()?"Use private key to import your MetaMask (or EVM) wallet to generate the same EVM address as on MetaMask (or EVM wallet).":"To import an existing wallet, please enter the private key here:";return(0,y.l)()&&"leap"!==x.toLowerCase().trim()?"Importing a recovery phrase from MetaMask might give a different address, use private key instead.":`To import an existing ${x} wallet, please enter the recovery phrase here:`},[h,p,m,x]));return(0,r.jsxs)("div",{className:"flex flex-row overflow-scroll gap-x-[20px]",children:[(0,r.jsxs)("div",{className:"flex flex-col w-[408px]",children:[(0,r.jsx)("img",{src:L,width:"36",height:"36"}),(0,r.jsx)(k.Z,{size:"xxl",className:"font-black mt-4",children:F}),(0,r.jsx)(k.Z,{size:"md",color:"text-gray-600 dark:text-gray-400",className:"font-medium mb-[32px]",children:D}),v?(0,r.jsx)(l.TextArea,{autoFocus:!0,onChange:e=>B(e.target.value),value:w,isErrorHighlighted:!!O,placeholder:"Enter or Paste your private key","data-testing-id":"enter-phrase"}):(0,r.jsx)("div",{className:"w-[376px]",children:(0,r.jsx)(M.W,{onChangeHandler:B,isError:!!O,heading:""})}),O&&(0,r.jsx)(k.Z,{size:"sm",color:"text-red-300 mt-[16px]","data-testing-id":"error-text-ele",children:O}),(0,r.jsxs)("div",{className:"w-[376px] h-auto rounded-xl dark:bg-gray-900 bg-white-100 flex items-center px-5 py-3 my-7",children:[(0,r.jsx)("img",{className:"mr-[16px]",src:S.r.Misc.Warning,width:"40",height:"40"}),(0,r.jsxs)("div",{className:"flex flex-col gap-y-[2px]",children:[(0,r.jsx)(k.Z,{size:"sm",color:"text-gray-400 font-medium",children:"Recommended security practice:"}),(0,r.jsx)(k.Z,{size:"sm",color:"text-gray-400 dark:text-white-100 font-bold",children:`It is always safer to type the ${v?"private key":"recovery phrase"} rather than pasting it.`})]})]}),(0,r.jsx)(l.Buttons.Generic,{disabled:!!O||!w,color:g.w.cosmosPrimary,onClick:()=>{(0,Z.b)({phrase:w,isPrivateKey:v,setError:T,setSecret:b})&&f()},"data-testing-id":"btn-import-wallet",children:"Import Wallet"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"shrink flex-col gap-y-[4px] w-[408px] p-[32px] rounded-lg border-[1px] border-gray-800",children:[(0,r.jsx)(N,{heading:`What is a ${v?"private key":"recovery phrase"}?`,description:`${v?"A private key is like a password — a string of letters and numbers — ":"Recovery phrase is a 12 or 24-word phrase"} that can be used to restore your wallet.`,descriptionClassName:"mb-[32px]"}),j&&!v&&(0,r.jsx)(C,{walletName:j,isCosmostation:A}),(0,r.jsx)(N,{heading:`Is it safe to enter it into ${(0,y.l)()?"Compass":"Leap"}?`,description:"Yes. It will be stored locally and never leave your device without your explicit permission."})]})})]})}var z=t("40920"),P=t("88054"),W=t("72419"),O=t("77807"),T=t("98817"),A=t("114"),B=t("1067");function L(e){let{onYes:s,onNo:t,onClose:a}=e,{theme:i}=(0,l.useTheme)();return(0,r.jsx)("div",{className:"absolute w-full h-full flex items-center justify-center left-0 top-0 bg-[#0003] backdrop-blur-[10px] z-10",children:(0,r.jsxs)("div",{className:"w-[540px] bg-gray-950 rounded-3xl",children:[(0,r.jsxs)("div",{className:"flex justify-between py-6 px-6 border-b border-gray-900",children:[(0,r.jsx)(k.Z,{className:"font-[700] text-[18px]",children:"Cosmos import successful"}),(0,r.jsx)(T.X,{size:24,className:"text-gray-500 cursor-pointer",onClick:a})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 mb-8 mt-11",children:[(0,r.jsx)("img",{src:B.CheckGreenNew,className:"height-[72px] width-[72px]"}),(0,r.jsxs)(k.Z,{size:"lg",className:"font-bold text-center",children:["Your Cosmos wallets can ",(0,r.jsx)("br",{})," now be used with Leap!"]})]}),(0,r.jsx)("div",{className:"h-[1px] bg-gray-900 w-full"}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 mt-11 mb-7",children:[(0,r.jsx)("img",{src:A.LedgerEvmChains,className:"height-[32px] width-[88px]"}),(0,r.jsxs)(k.Z,{size:"md",className:"text-center",children:["You can now import your EVM based wallets to use ",(0,r.jsx)("br",{})," chains like Dymension, Evmos & Injective."]})]}),(0,r.jsxs)("div",{className:"flex gap-4 px-6 mb-6",children:[(0,r.jsx)(l.Buttons.Generic,{color:i===l.ThemeName.DARK?g.w.gray800:g.w.gray100,size:"normal",className:"w-full",onClick:t,children:(0,r.jsx)(k.Z,{color:"text-green-600",children:"Skip"})}),(0,r.jsx)(l.Buttons.Generic,{color:g.w.green600,size:"normal",className:"w-full",onClick:s,children:"Import"})]}),(0,r.jsx)("div",{className:"flex items-center justify-center text-center mb-8",children:(0,r.jsx)(k.Z,{color:"text-gray-400 dark:text-gray-600 ",className:"font-medium",children:"You can also import EVM wallets later."})})]})})}function F(e){let{onProceed:s,accountsData:t,selectedIds:a,setSelectedIds:i,onEVMConnect:o,getLedgerAccountDetailsForIdxs:c}=e,[d,m]=(0,u.useState)(""),[x,h]=(0,u.useState)(!1),[p,f]=(0,u.useState)([]),[j,w]=(0,u.useState)(!1),[b]=(0,u.useState)(!1);(0,u.useEffect)(()=>{(async()=>{let e=await P.Kn.getAllWallets(),s=[];for(let t of Object.values(e??{})){let e=(0,y.l)()?t.addresses.seiTestnet2:t.addresses.cosmos;s.push(e)}f(s)})()},[]),(0,u.useEffect)(()=>{let e=document.getElementById("fetch-more-wallets");if(!e)return;let s=new IntersectionObserver(e=>{e[0].isIntersecting&&c(!1,[0,1,2,3,4].map((e,s)=>(t??[]).length+s))},{root:null,rootMargin:"0px",threshold:1});return s.observe(e),()=>s.disconnect()},[null==t?void 0:t.length]);let v=()=>(m(""),!!Object.values(a).some(e=>e)||(m("Please select at least one wallet"),!1)),N=()=>{h(!0),v()&&s()},C=(0,u.useMemo)(()=>[],[]),M=(0,u.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s="custom"===e?C:t;return(0,r.jsxs)(r.Fragment,{children:[s.map(e=>{let{address:s,index:t}=e,l=p.indexOf(s)>-1,n=a[t];return(0,r.jsx)(O.Z,{"data-testing-id":0===t?"wallet-1":"",id:t,cosmosAddress:s,isChosen:n,isExistingAddress:l,showDerivationPath:b,onClick:()=>{!l&&(n?i({...a,[t]:!1}):i({...a,[t]:!0}))}},t)}),(0,r.jsx)("div",{className:"w-full",id:"fetch-more-wallets",children:(0,r.jsx)(W.jy,{})})]})},[C,t,p,a,b,i]);return(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(k.Z,{className:"text-[28px] font-black mb-3 justify-center",children:"Select wallets"}),(0,r.jsx)(k.Z,{size:"md",color:"text-gray-600 dark:text-gray-400",className:"font-bold mb-20 justify-center",children:"Select all the wallets you want to import."}),(0,r.jsxs)("div",{className:"flex gap-6",children:[(0,r.jsxs)("div",{className:"flex flex-col w-[408px] px-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"select-wallets flex flex-col space-y-4 h-[470px] overflow-y-scroll pb-8 pr-3",children:[(null==C?void 0:C.length)>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k.Z,{className:"font-bold",children:"Custom derivation path"}),M("custom"),(0,r.jsx)(k.Z,{className:"font-bold",children:"Default wallets"})]}),M()]}),(0,r.jsx)("div",{className:"absolute h-10 w-full bottom-0 left-0 bg-gradient-to-t from-black-100 to-black-50"})]}),d&&(0,r.jsxs)(k.Z,{size:"sm",color:"text-red-300 mt-[16px]",children:[" ",d]}),x?(0,r.jsx)(l.Buttons.Generic,{color:g.w.cosmosPrimary,type:"button",className:"flex items-center",children:(0,r.jsx)(n.Z,{})}):(0,r.jsx)(l.Buttons.Generic,{disabled:x||0===Object.values(a).filter(e=>e).length,color:g.w.cosmosPrimary,onClick:()=>{(0,y.l)()?N():w(!0)},"data-testing-id":"btn-select-wallet-proceed",children:"Import"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"shrink flex-col gap-y-[4px] w-[408px] p-[32px] rounded-lg border-[1px] dark:border-gray-800 border-gray-200",children:[(0,r.jsx)(k.Z,{size:"lg",className:"font-medium text-gray-600 dark:text-gray-200",children:"Which wallets are displayed here?"}),(0,r.jsx)(k.Z,{size:"md",color:"text-gray-600 dark:text-gray-400 mb-[32px]",children:"Only wallets with transactions are imported."}),(0,r.jsx)(k.Z,{size:"lg",className:"font-medium text-gray-600 dark:text-gray-200",children:"Can I edit wallet details?"}),(0,r.jsx)(k.Z,{size:"md",color:"text-gray-600 dark:text-gray-400",children:"You can rename, add or remove wallets at any time."})]})})]}),j&&(0,r.jsx)(L,{onNo:N,onClose:()=>w(!1),onYes:()=>{o(),w(!1)}})]})}var D=t("63161"),K=t("48272");function _(e){let{onProceed:s,accountsData:t,selectedIds:a,setSelectedIds:i}=e,[o,c]=(0,u.useState)(""),[d,m]=(0,u.useState)(!1),[x,h]=(0,u.useState)([]),[p,f]=(0,u.useState)(!1),j=()=>f(e=>!e);(0,u.useEffect)(()=>{(async()=>{let e=await P.Kn.getAllWallets(),s=[];for(let t of Object.values(e??{})){let e=(0,y.l)()?t.addresses.seiTestnet2:t.addresses.cosmos;(null==t||!t.watchWallet)&&s.push(e)}h(s)})()},[]);let w=()=>(c(""),!!Object.values(a).some(e=>e)||(c("Please select at least one wallet"),!1)),b=(0,u.useMemo)(()=>(0,r.jsx)(r.Fragment,{children:t.map(e=>{let{address:s,index:t}=e,l=x.indexOf(s)>-1,n=a[t];return(0,r.jsx)(O.Z,{"data-testing-id":0===t?"wallet-1":"",id:t,hidden:!p&&t>=2,cosmosAddress:s,isChosen:n,isExistingAddress:l,onClick:()=>{!l&&(n?i({...a,[t]:!1}):i({...a,[t]:!0}))}},t)})}),[t,x,a,i,p]);return(0,r.jsxs)("div",{className:"flex flex-row gap-x-[20px]",children:[(0,r.jsxs)("div",{className:"flex flex-col w-[408px]",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-x-[12px]",children:[(0,r.jsx)("img",{src:S.r.Misc.WalletIconWhite}),(0,r.jsx)(k.Z,{size:"xxl",className:"font-medium",children:"Select wallets"})]}),(0,r.jsx)(k.Z,{size:"lg",color:"text-gray-600 dark:text-gray-400",className:"font-light mb-[32px]",children:"If you have used multiple accounts in your wallet, you can choose to import them here."}),(0,r.jsx)("div",{className:"flex flex-col space-y-4",children:b}),(0,r.jsx)("div",{className:"mt-4",children:p?(0,r.jsxs)("button",{title:"Show Less",className:v()("outline-none pr-2 rounded font-bold focus:ring-1 flex items-center justify-around space-x-2",{"focus:ring-mainChainTheme-400":!(0,y.l)(),"text-mainChainTheme-400":!(0,y.l)(),"focus:ring-compassChainTheme-400":(0,y.l)(),"text-compassChainTheme-400":(0,y.l)()}),onClick:j,children:[(0,r.jsx)(D.U,{size:16}),(0,r.jsx)("span",{children:"Show Less Wallets"})]}):(0,r.jsxs)("button",{title:"Show More",className:v()("outline-none pr-2 rounded font-bold focus:ring-1 flex items-center justify-around space-x-2",{"focus:ring-mainChainTheme-400":!(0,y.l)(),"text-mainChainTheme-400":!(0,y.l)(),"focus:ring-compassChainTheme-400":(0,y.l)(),"text-compassChainTheme-400":(0,y.l)()}),onClick:j,children:[(0,r.jsx)(K.p,{size:16}),(0,r.jsx)("span",{children:"Show More Wallets"})]})}),o&&(0,r.jsxs)(k.Z,{size:"sm",color:"text-red-300 mt-[16px]",children:[" ",o]}),(0,r.jsx)("div",{className:"pt-[32px]"}),d?(0,r.jsx)(l.Buttons.Generic,{color:g.w.cosmosPrimary,type:"button",className:"flex items-center",children:(0,r.jsx)(n.Z,{})}):(0,r.jsx)(l.Buttons.Generic,{disabled:d||0===Object.values(a).filter(e=>e).length,color:g.w.cosmosPrimary,onClick:()=>{m(!0),w()&&s()},"data-testing-id":"btn-select-wallet-proceed",children:"Proceed"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"shrink flex-col gap-y-[4px] w-[408px] p-[32px] rounded-lg border-[1px] dark:border-gray-800 border-gray-200",children:[(0,r.jsx)(k.Z,{size:"lg",className:"font-medium text-gray-600 dark:text-gray-200",children:"Which wallets are displayed here?"}),(0,r.jsx)(k.Z,{size:"md",color:"text-gray-600 dark:text-gray-400 mb-[32px]",children:"Only wallets with transactions are imported."}),(0,r.jsx)(k.Z,{size:"lg",className:"font-medium text-gray-600 dark:text-gray-200",children:"Can I edit wallet details?"}),(0,r.jsx)(k.Z,{size:"md",color:"text-gray-600 dark:text-gray-400",children:"You can rename, add or remove wallets at any time."})]})})]})}var R=t("92186"),V=t(48834).Buffer;let $=(0,x.Pi)(function(){let e=(0,m.Z)().get("walletName")??void 0,s=["hardwarewallet","evmhardwarewallet"].includes(e||""),t=null==e?void 0:e.toLowerCase().includes("metamask"),x=null==e?void 0:e.toLowerCase().includes("evm wallets"),j=(null==e?void 0:e.toLowerCase().includes("private"))||t||x,{noAccount:b}=(0,c.aC)(),[v,k]=(0,u.useState)(""),[N,C]=(0,u.useState)({}),[M,S]=(0,u.useState)(""),[Z,I]=(0,u.useState)(!1),[P,W]=(0,u.useState)(!1),[O,T]=(0,u.useState)(1),[A,B]=(0,u.useState)(R.T.step0),L=(0,h.s0)(),[D,K]=(0,u.useState)(""),{walletAccounts:$,getAccountDetails:G,getLedgerAccountDetails:Y,onOnboardingComplete:H,onBoardingCompleteLedger:U,getEvmLedgerAccountDetails:q,getLedgerAccountDetailsForIdxs:Q}=(0,d.k)(),X=async e=>{try{if(I(!0),s)await U(e,Object.entries(N).filter(e=>{let[,s]=e;return s}).map(e=>{var s;let[t]=e;return null==$?void 0:null===(s=$.find(e=>e.index.toString()===t))||void 0===s?void 0:s.address}));else{let s=j?{0:!0}:N;await H(v,e,s,"import")}if(!p.M8.password&&await J(),e){let s=V.from(e).toString("base64");w().runtime.sendMessage({type:"unlock",data:{password:s}}),p.M8.setPassword(e),L("/onboardingSuccess")}}catch(e){if("Wallet already present"===e.message.trim())throw e}finally{I(!1)}},J=async()=>{if(O+1===4&&L("/onboardingSuccess"),1===O&&j&&p.M8.password){await X(p.M8.password),L("/onboardingSuccess");return}if(O+1===2&&j&&!p.M8.password)T(O+2);else if(2!==O||b)T(O+1);else{try{p.M8.password&&await X(p.M8.password)}catch(e){}L("/onboardingSuccess")}},ee=()=>{3===O&&j?T(O-2):O>1?T(O-1):L(-1)},es=async()=>{if(j)try{await J()}catch(e){K(e.message.trim())}else G((0,f.Z)(v)).then(J)},et=async e=>{if(s)try{S(""),B(R.T.step2),await e(!1),B(R.T.step3),await J()}catch{B(R.T.step1)}};if((0,u.useEffect)(()=>{let e;let t=async()=>{(0,a.qn$)("Cosmos").then(s=>{s?(B(R.T.step1),clearTimeout(e)):e=setTimeout(async()=>{await t()},1e3)})};s&&t()},[s]),Z)return(0,r.jsx)(o.Z,{titleComponent:(0,r.jsxs)("div",{className:"flex flex-row w-[836px] items-center justify-between align-",children:[(0,r.jsx)(l.Buttons.Back,{isFilled:!0,onClick:ee}),(0,r.jsx)(l.ProgressBar,{color:g.w.cosmosPrimary,currentStep:O,totalSteps:4}),(0,r.jsx)("div",{})]}),children:(0,r.jsx)("div",{className:"mt-72",children:(0,r.jsx)(n.Z,{})})});let er=1===O&&s||P;return(0,r.jsxs)(o.Z,{titleComponent:(0,r.jsxs)("div",{className:"flex flex-row w-[836px] items-center justify-between align-",children:[(0,r.jsx)(l.Buttons.Back,{isFilled:!0,onClick:ee}),(0,r.jsx)(l.ProgressBar,{color:g.w.cosmosPrimary,currentStep:O,totalSteps:4}),(0,r.jsx)("div",{})]}),children:[1===O&&!s&&(0,r.jsx)(E,{secret:v,setSecret:k,walletName:e,onProceed:es,isPrivateKey:j,privateKeyError:D,setPrivateKeyError:K,isMetamaskKey:t,isOtherEvmWallets:x}),er&&3!==O&&(0,r.jsx)(z.Z,{retry:()=>et(Y),error:M,onNext:async()=>{P?await et(q):(await et(Y),!(0,y.l)()&&W(!1))},onSkip:J,status:A,isEvmLedger:P}),2===O&&!s&&(0,r.jsx)(_,{selectedIds:N,setSelectedIds:C,accountsData:$,onProceed:J}),2===O&&s&&!er&&(0,r.jsx)(F,{selectedIds:N,setSelectedIds:C,accountsData:$,onProceed:J,getLedgerAccountDetailsForIdxs:Q,onEVMConnect:()=>{S(""),B(R.T.step1),W(!0)}}),3===O&&!p.M8.password&&(0,r.jsx)(i.Z,{onProceed:X})]})})}}]);