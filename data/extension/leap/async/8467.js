!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="7e1070f3-f1ad-404e-918c-d069a818acc3",e._sentryDebugIdIdentifier="sentry-dbid-7e1070f3-f1ad-404e-918c-d069a818acc3")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.17.3"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["8467"],{36549:function(e,a,n){n.d(a,{a:function(){return s}});var r=n(52322),t=n(94184),i=n.n(t),l=n(69816);let s=(0,n(2784).forwardRef)((e,a)=>{let{placeholder:n,value:t,onChange:s,name:o,error:d,warning:c,onBlur:h}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:i()({"!border-red-300":d,"!border-yellow-600":c,"w-full border border-gray-500 rounded-xl flex h-12 bg-white-100 dark:bg-gray-900 py-2 pl-5 pr-[10px] mb-4":!0}),children:(0,r.jsx)("input",{placeholder:n,className:i()({"flex flex-grow text-base dark:text-white-100 text-gray-400 outline-none bg-white-0 placeholder-gray-400::placeholder":!0,"border-red-300":d,"border-yellow-600":c}),value:t,name:o,onChange:s,autoComplete:"off",onBlur:h,ref:a})}),d&&(0,r.jsx)(l.Z,{size:"sm",color:"text-red-300 mb-4",children:d}),c&&(0,r.jsx)(l.Z,{size:"sm",color:"text-yellow-600 mb-4",children:c})]})});s.displayName="InputComponent"},22471:function(e,a,n){n.r(a),n.d(a,{default:function(){return L}});var r=n(52322),t=n(21950),i=n(2826),l=n(39279),s=n(26089),o=n(55334),d=n(86200),c=n(36549),h=n(3929),m=n(19623),u=n(69816),p=n(26571),x=n(53108),g=n(71566),f=n(71603),y=n(36400),b=n(98851),v=n(8891),C=n.n(v),w=n(75958),j=n(32079),I=n(2784),N=n(10289),E=n(36321),U=n(48346),S=n(50292),_=n(23163),k=n(72565),T=n.n(k);let P=(0,w.Pi)(e=>{let{updateKeyStore:a,activeWallet:n,setActiveWallet:h,setActiveChain:u}=e,g=(0,y.pb)(),f=(0,N.s0)(),v=(0,t.lfg)(),[w,j]=(0,I.useState)(!1),k=(0,y.oS)(),[P,L]=(0,I.useState)({isEvmChain:!0,chainId:""}),[D,A]=(0,I.useState)({chainName:"",chainId:"",denom:"",coinType:"",rpcUrl:"",restUrl:"",addressPrefix:"",explorerUrl:"",decimals:""}),[R,B]=(0,I.useState)({}),{chainName:Z,chainId:$,denom:O,coinType:W,rpcUrl:H,restUrl:G,addressPrefix:M,explorerUrl:z,decimals:J}=D,Q=v.map(e=>e.chainId),K=async e=>{try{if(Q.includes(e)){B(a=>({...a,chainId:`Please add ${e} from switch chain list`}));return}let a=i.NOo[e.trim()];if(!a)return;let{data:n}=await o.Z.get(`https://chains.cosmos.directory/${a}`).catch(()=>({})),{data:r}=n?{data:null}:await o.Z.get(`https://chains.testcosmos.directory/${a}`).catch(()=>({})),t=(null==n?void 0:n.chain)||(null==r?void 0:r.chain);if(!t)return;L(e=>({...e,isEvmChain:!1}));let l=t.explorers.find(e=>"mintscan"===e.kind);A({chainId:t.chain_id,chainName:t.pretty_name,denom:t.denom,coinType:String(t.slip44),addressPrefix:t.bech32_prefix,decimals:String(t.decimals),restUrl:t.best_apis.rest[0].address,rpcUrl:t.best_apis.rpc[0].address,explorerUrl:l?l.tx_page.slice(0,-10):t.explorers[0].tx_page.slice(0,-10)})}catch(e){return}},F=async e=>{if(!e){L(e=>({...e,isEvmChain:!0}));return}let a=await (0,t.I4T)(e);if(!a){L(e=>({...e,isEvmChain:!1}));return}L({isEvmChain:!0,chainId:a.toString()})},V=(e,a)=>{if(!(0,S.l)())try{C().track(p.B_.ButtonClick,{buttonType:p.L$.CHAIN_MANAGEMENT,buttonName:e,addedChainName:Z,redirectURL:a,time:Date.now()/1e3})}catch(e){(0,s.Tb)(e)}},Y=e=>{let{name:a,value:n}=e.currentTarget,r=Object.values(g).filter(e=>e.enabled),t="";if(n){var i;["coinType","decimals"].includes(a)&&(0,_.W)(n)?t=`Invalid ${a} provided`:["rpcUrl","restUrl","explorerUrl"].includes(a)&&(0,_.S)(n.replace(/ /g,""))&&(null===(i=n.replace(/ /g,""))||void 0===i?void 0:i.length)>0?t=`Invalid ${a} provided`:"chainName"===a&&r.some(e=>e.chainName.toLowerCase()===n.toLowerCase())?t="Chain with same name already exists":"chainId"===a&&(r.some(e=>e.chainId.toLowerCase()===n.toLowerCase())?t="Chain with same id already exists":r.some(e=>(e.testnetChainId??"").toLowerCase()===n.toLowerCase())&&(t="Test chain with same id already exists"))}t?B(e=>({...e,[a]:t})):R[a]&&(delete R[a],B(R)),["rpcUrl","restUrl","explorerUrl"].includes(a)?A(e=>({...e,[a]:n.replace(/ /g,"")})):A(e=>({...e,[a]:n}))},q=async e=>{j(!0),e.preventDefault();let r={chainId:$,chainName:Z,chainRegistryPath:M,key:Z,chainSymbolImageUrl:b.r.Logos.GenericLight,txExplorer:{mainnet:{name:"Explorer",txUrl:z}},apis:{rest:(0,t.Qj6)(G),rpc:(0,t.Qj6)(H)},denom:O,bip44:{coinType:P.isEvmChain?"60":W},addressPrefix:M,gasPriceStep:i.rL4,ibcChannelIds:{},nativeDenoms:{[O]:{coinDenom:O,coinMinimalDenom:O,coinDecimals:P.isEvmChain?18:Number(J),coinGeckoId:"",icon:b.r.Logos.GenericLight,chain:Z}},theme:{primaryColor:"#E18881",gradient:"linear-gradient(180deg, rgba(225, 136, 129, 0.32) 0%, rgba(225, 136, 129, 0) 100%)"},enabled:!0,beta:!0,features:[]};P.isEvmChain&&(r.evmChainId=$,r.apis.evmJsonRpc=(0,t.Qj6)(H),r.evmOnlyChain=!0,r.chainRegistryPath=$,r.addressPrefix=O),k({...g,[Z]:r}),U.Ux.setChains({...g,[Z]:r}),await (0,i._vH)(500),T().storage.local.get([x.Pw]).then(async e=>{try{let t=await a(n,Z,"UPDATE",r),i=null==e?void 0:e[x.Pw];(i="string"==typeof i?JSON.parse(i):{})[Z]=r,await T().storage.local.set({[x.Pw]:JSON.stringify(i)}),r.evmOnlyChain?E.HN.setBetaChainTags(r.chainId,["EVM"]):E.HN.setBetaChainTags(r.chainId,["Cosmos"]),await h(t[n.id]),await u(Z,r),f("/")}catch(e){B(e=>({...e,submit:"Unable to add chain"}))}finally{j(!1)}}),V(p.$S.ADD_NEW_CHAIN,"/add-chain")},X=!$||!Z||!O||!H||!P.isEvmChain&&(!W||!J||!G||!M)||Object.values(R).length>0;return(0,I.useEffect)(()=>{P.chainId&&D.chainId&&D.chainId!==P.chainId&&B(e=>({...e,chainId:`The RPC URL you have entered returned a different chain ID ${P.chainId}`}))},[D.chainId,P.chainId]),(0,r.jsxs)("form",{className:"w-full mb-5",onSubmit:q,children:[(0,r.jsx)(c.a,{placeholder:"Chain Id (Ex: juno-1)",value:$,name:"chainId",onChange:Y,error:R.chainId,onBlur:e=>K(e.currentTarget.value)}),(0,r.jsx)(c.a,{placeholder:"Chain Name (Ex: Juno)",value:Z,name:"chainName",onChange:Y,error:R.chainName}),(0,r.jsx)(c.a,{placeholder:"New RPC URL (Without Trailing Slash)",value:H,name:"rpcUrl",onChange:Y,error:R.rpcUrl,onBlur:e=>F(e.currentTarget.value)}),!P.isEvmChain&&(0,r.jsx)(c.a,{placeholder:"New REST URL (Without Trailing Slash)",value:G,name:"restUrl",onChange:Y,error:R.restUrl}),!P.isEvmChain&&(0,r.jsx)(c.a,{placeholder:"Address Prefix (Ex: juno)",value:M,name:"addressPrefix",onChange:Y}),(0,r.jsx)(c.a,{placeholder:"Native Denom (Ex: ujuno)",value:O,name:"denom",onChange:Y}),!P.isEvmChain&&(0,r.jsx)(c.a,{placeholder:"Coin Type (Ex: 118)",value:W,name:"coinType",onChange:Y,error:R.coinType}),!P.isEvmChain&&(0,r.jsx)(c.a,{placeholder:"Decimals (Ex: 6)",value:J,name:"decimals",onChange:Y,error:R.decimals}),(0,r.jsx)(c.a,{placeholder:"Block explorer URL (Optional)",value:z,name:"explorerUrl",onChange:Y,error:R.explorerUrl}),R.submit?(0,r.jsx)(d._,{text:R.submit}):null,(0,r.jsxs)("div",{className:"flex gap-x-4 mt-3",children:[(0,r.jsx)(l.Buttons.Generic,{className:"rounded-2xl w-full font-bold py-3 dark:bg-gray-900 bg-gray-900 text-gray-900 dark:text-white-100 h-12",type:"reset",onClick:()=>f("/"),style:{boxShadow:"none"},children:"Cancel"}),(0,r.jsx)(l.Buttons.Generic,{className:"rounded-2xl w-full font-bold py-3 text-gray-900 dark:text-white-100 relative h-12",style:{backgroundColor:"#E18881",boxShadow:"none"},type:"submit",disabled:w||X,children:w?(0,r.jsx)(m.Z,{}):"Add chain"})]})]})});function L(){let e=(0,N.s0)(),[a,n]=(0,I.useState)(!1),t=(0,f.Af)(),{activeWallet:i,setActiveWallet:s}=(0,f.ZP)(),o=(0,g.N8)();return(0,r.jsxs)("div",{className:"relative overflow-clip m-auto",children:[(0,r.jsx)(j.ZP,{isShown:a,toggler:()=>n(!a)}),(0,r.jsx)(h.Z,{header:(0,r.jsx)(l.Header,{title:"Add Chain",action:{onClick:()=>{e("/home")},type:l.HeaderActionType.BACK}}),children:(0,r.jsxs)("div",{className:"panel-width max-panel-height px-7 overflow-y-auto bg-gray-50 dark:bg-black-100",children:[(0,r.jsxs)("div",{className:"rounded-xl w-full flex items-center h-[68px] bg-white-100 dark:bg-gray-900 py-2 pl-5 pr-[10px] mt-7 mb-4",children:[(0,r.jsx)("img",{className:"mr-[16px]",src:b.r.Misc.Warning,width:"40",height:"40"}),(0,r.jsxs)("div",{className:"flex flex-col gap-y-[2px]",children:[(0,r.jsx)(u.Z,{size:"sm",color:"text-gray-400 font-medium",children:"Caution:"}),(0,r.jsx)(u.Z,{size:"sm",color:"font-bold dark:text-white-100 text-gray-900",children:"Only add custom networks you trust."})]})]}),(0,r.jsx)(P,{updateKeyStore:t,activeWallet:i,setActiveWallet:s,setActiveChain:o})]})})]})}},23163:function(e,a,n){function r(e){return!/^(http|https):\/\/[^ "]+$/.test(e)}function t(e){return!/^\d+$/.test(e)}n.d(a,{S:function(){return r},W:function(){return t}})}}]);